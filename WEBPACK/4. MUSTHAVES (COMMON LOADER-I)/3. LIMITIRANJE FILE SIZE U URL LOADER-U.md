# LIMITIRANJE FILE SIZE U URL LOADER-U

MOZE POSTOJATI POTREBA DA SE NEKI FAJL NE LOAD-UJE

AKO POGLEDAM RANIJE, BASE64 URI SLIKE (KOJI KAO STO SAM VIDEO, IMA OGROMAN BROJ REDOVA), KOJI SAM DOBIO IMPORT-UJUCI JE, ODNOSNO LOAD-UJUCI JE U JAVASCRIPT, MOGU SHVATITI DA JE MOJ JAVASCRIPT FAJL BLOATED (NADUVEN)

MOGU U TERMINALU PROVERITI KOLIKI JE JAVASCERIPT FAJL U MEMORIJI, POSLE RUNN-INGA NEKOG OD SCRIPT-OVA (NA PRIMER dev SCRIPT-A)

VIDIM DA JE U MEMORIJI BUNDLE PORATA ON PREKO 500 KiB

**DODAJUCI OGROMNI DATA URI, JA SAM UCINIO NESTO STO NIJE DOBRO ZA PERFORMANSE**

POTREBNO JE DA LIMITIRAM VELICINU

# url-loader IMA OPCIJU, KOJA SE ZOVE limit

ZATO SADA IDEM U MOJ CONFIG FAJL, KAKO BI DEFINISAO VREDNOST ZA TU OPCIJU

```javascript
const webpack = require('webpack');
const HtmlWebpackPlugin = require('html-webpack-plugin');
const modeConfig = env => require(`./build-utils/webpack.${env}`)(env);
const webpackMerge = require('webpack-merge');

module.exports = ({mode, presets} = {mode: "production", presets: []}) => {
    return webpackMerge(
        {
            mode,
            output: {
                filename: 'bundle.js'
            },
            plugins: [
                new HtmlWebpackPlugin(),
                new webpack.ProgressPlugin()
            ],
            module: {
                rules: [
                    {
                        test: /\.jpe?g$/,
                        // KADA DEFINISEM, JEDAN STRING, ILI KADA DEFINISEM DA NIZ STRINGOVA (KOJI PREDSTAVLJAJU LOADER-E)
                        // DA BUDE VREDNOST use PROPERTIJA, JA USTVARI KORISTIM SHORTHAND SINTAKSU
                        // JED DEFINISANJE SVAKOG LOADERA, SE USTVARI UNDER THE HUD OBAVLJA U NJEMU KARAKTERISTICNOM OBJEKTU
                        // SA DEFAULT-OVIMA
                        // JA CU SADA DA DAM NEKE OPCIJE ZA url-loader
                        use: [
                            // SADA MOGU DA KAZEM DA SE IMAGE LOAD-UJE, SAMO AKO JE NJEGOVA VELICINA ISPOD 5000 BAJTOVA
                            {loader: "url-loader", options: {limit: 5000}}
                            // I SAMO ISPOD TE VREDNOSTI, SADA CE BITI OK DA SE "INLINE"-UJE U MOJ JAVASCRIPT, TAJ BASE64 URI SLIKE
                        ]
                    }
                ]

            }
        },
        modeConfig(mode)
    )

}
```

**U OVO MSLUCAJU, AKO JE FAJL VECI OD LIMITA, TAJ FAJL CE BITI EMITTED U dist FOLDER, A U JAVASCRIPTU CE BITI PROVIDED, NJEGOV HASHED URL (TAJ URL CE BITI URL GDE CE TAJ FAJL BITI)**

AKO POKRENEM dev SCRIPT VIDECU U OUTPUT-U U TERMINALU, DA JE GENERISAN U MEMORIJI UPRAVO HASHED FAJL, SLIKE

A AKO POKRENEM prod SCRIPT, TAJ FAJL CE BITI OUTPUTED U dist FOLDER-U

A CINJENICA DA JE **PROVIDED VALIDAN URL**, PROVIDED ZA TAJ FAJL (MOGU POGLEDATI TO AKO INSPECT-UJEM SLIKU U HTML, I POGLEDAM NJEN src ATRIBUT); JE **SUPER CONVINIENT**

ZASTO JE CONVINIENT, JER INJECTING, ODNOSNO KAKO CE TAJ URL BITI PLACED, UOPSTE NE MORA DA SE MENAGE-UJE

LARKIN KAZE DA LJUDI CESTO CREAM-UJU PREKO 30 IMAGE-OVA TAG-OVA, DOWN THE BROWSER, I ISPADA DA JE OVAKAV POMENUTI PRINCIP, MNOGO VISE OPTIMIZED

JOS SE MOGU KORISTITI STVARI, KAO STO SU LINK REL PRELOAD (MORAM SAZNATI STA JE TO), A MOZE SE DEFINISATI I CACHING UZ POMOC SERVICE WORKER-A (INFORMATION AHEAD OF TIME STO JE VEOMA VALUABLE ZA PERFORMANCE)

## FILE LOADER

DODAVANJE FILE LOADER-A (LARKIN OVO NIJE URADIO, TAK ODA CU I JA PRESKOCITI)

JA UOPSTE NISAM MORAO DODAVATI FILE LOADER

DA JA GA JESAM INSTALIRAO JER JE TO LARKIN PREPORUCIO

- URL LOADER JE CALLED, KAKO BI UZEO SLIKU I STAVIO JE U DIST DIREKTORIJUM, RETURN-OVAO, NJEN dist URL

SVE OVO FILE LOADER RADI OUT OF THE BOX

DAKLE URL LOADER, KORISTI FILE LOADER BEHIND THE SCENES

I ZATO SAM IH OBA INSTALIRAO

## options OBJEKAT HANDLUJE I PRODUCTION I DEVELOPMENT CASE

AKO PRONADJEM DRUGE RAZLOGE

NA PRIMER ZA DEV CONFIG MOGU DEFINISATI OGROMAN LIMIT I DOZVOLITI DA SE SVE STAVI U MEMORIJU ,A ZA PRODUCTION MOGU DEFINISATI MANJI LIMIT