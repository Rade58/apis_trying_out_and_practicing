# OVDE CU OSTAVITI NEKA DODATNA ZAPAZANJA KOAJ SU VAZNA, I ZATO OVO TREBA PROCITATI

# LARKIN JE KREIRAO webpack-dev-kit REPO

[webpack-dev-kit](https://github.com/TheLarkInn/webpack-developer-kit)

KAO STO TAMO PISE TO JE SUPER LIGHTWEIGHT BOILERPLATE, NAMENJEN ZA DEVELOPER-E DA LAKSE RAZUMEJU KAK ODA KREIRAJU CUSTOM PLUGIN-E I LOADER-E

EXPLORE-OVACU OVAJ PROJEKAT DA SE MNOGO BOLJE UPOZNAM SA WEBPACK-OVIM EKOSISTEMOM

## JA CU KREIRATI DEVELOPMENT I PRODUCTION SCRIPT-OVE ALI NECU IH ZVATI TAKO, JER USTVARI mode NECU KORISTITI, A NECU KORISTITI NI PRESETSL; I ZA OVAJ SLUCAJ

DAKLE JA *KORISTIM POTPUNO DRUGACIJI PRISTUP NEGO STO SAM NA PRIMER KORITIO* [OVDE](https://github.com/Rade58/insta_pwa_cloneW/blob/master/package.json)

**ONO STO MI NIJE JASNO, ALI CU I ISPITATI JESTE DA LI JE mode u OVO MSLUCAJU IMPLICTAN**

**VEROVATNO DA NIJJE JER SAM VIDEO DA JE OVOG PUTA IZ webpack.config.js FAJLA IZVEZEN OBJEKAT, A NE FUNKCIJA KOJA RETURN-UJE OBJEKAT, KAKO SAM RANIJE KORISTIO KONFIGURACIJU**

**I VIDEO SAM DA JE U TOM OBJEKTU DEFINISANO** `mode: "none"`

**USTVARI KADA POGLEDAM BOLJE STA JE URADIO LARKIN *VIDECU DA CE ON KORISTITI SAMO SCRIPT BEZ CONFIG FAJLA ZA GENERISANJE BUILDA U MEMORIJI UZ POMOC `webpack-dev-server`-A***

**A CONFIG FAJL, U KOJEM SE EXPORT-UJE KONFIGURACIJSKI OBJEKAT BICE SCRIPT, KORISTICE SE ZA 'OUTPUTING' FAJLOVA U dist**

>>>> U SUSTINI DEVELOPMENT CODE JE ONAJ KADA POKRECES

- webpack-dev-server

>>>> A PRODUCTION CODE GRADIS SA

- webpack

## KADA COMPOSEUJES DEVELOPMENT SCRIPT DODAJ SLEDECE: (OVO SE MOZE DEFINISATI I U KONFIGURACIJSKOM OBJEKTU ALI MOZe I U SCRIPT-U) (TI USTVARI OVERRIDE-UJES, NEKE DEFAULT-OVE SA OVIM) (DAKLE KAO STO SAM REKAO ZA DEVELOPMENT CE SE KORISTITI SAMO SCRIPT EXECUTION, BEZ IKAKVE KONFIGURACIJE U CONFIG FAJLU ILI PRESET-OVIMA)

- --[inline](https://webpack.js.org/configuration/dev-server/#devserverinline) (**OVEO JE REQUIRED ZA HOT MODULE REPLACEMENT**) (DAKLE SADA OVO KORISTIM UMESTO --hot (HOT JOS POSTOJI I ISTRAZI ZASTO OVO DRUGO KORISTIS UMESTO NJEGA))

>> This means that a script will be inserted in your bundle to take care of live reloading, and build messages will appear in the browser console

>> Inline mode is **recommended** for Hot Module Replacement as it includes an HMR trigger from the **websocket**

*MOJA ZAKLJUCAK JE DA --hot DOVODI HOT MODULE REPLACEMENT A --inline DAKLE `ENHSNCE-UJE NESTO U POGLEDU WEB SOCKETA`*

*SVE U SVEMU DAKLE REC JE O LIVE RELAODING-U, ILI NJEGOVOM ENHACEMENT-U*

U OKVIRU DEV SCRIPTA ZADACU I FOLDER U KOJEM JE ENTRY POINT (index.js) JER web-dev-server TREB TO DA BI SAGRADIO DEVELOPMENT BUILD KOJI CE SE SERVIRATI SA 'NEKOG MEMORISKOG MESTA

[USTVARI INLINE OMOGUCAVA DA PLUGIN UMESTO INSTANTICIRANJA DIREKTNO STAVIM KAO ANONIMNU FUNKCIJSKU EKSPRESIJU, DIREKTNO U plugins NIZ](https://github.com/TheLarkInn/webpack-developer-kit#whats-in-the-config)

TO RADIM UZ POMOC OVOGA

- --[content-base](https://webpack.js.org/configuration/dev-server/#devservercontentbase)

**PORED OVOG PROPERTIJA MORAM NAVESTI PATH DO FOLDERA U KOJEM JE MOJ ENTRY POINT**

# :one: DAKLE DEV SCRIPT CE IZGLEDATI OVAKO NA OSNOVU GORNJIH POSTAVKI

- *"dev": "webpack-dev-server --inline --content-base /build"* &nbsp;&nbsp;&nbsp;&nbsp; **ENTRY POINT CE BITI U *build* FOLDERU**

OVO JE ZATO STO JA ODLUCUJEM, ODNOSO LARKIN JE ODLUCIO DA CE MU SE FOLDER U KOJEM JE ENTRY POINT, USTVAR IZVATI **build** UMESTO *src*, STO JE PO DEFAULT

## SLEDECI SCRIPT KOJI CU DA GRADIM BICE PRODUCTION SCRIPT

**ALI ZELIM DA GLOBALNO INSTALIRAM JEDAN PAKET, KOJI CE UCINITI DA SE dist FOLDER BRISE NA POCETKU SVAKOG PRODUCTION BUILD-A**

- npm install [rimraf](https://www.npmjs.com/package/rimraf) -g

## :two: COMPOSE-UJEM PRODUCTION SCRIPT TAK OSTO CU GA NAZVATI build (DA U OVOM SLUCAJU build FOLDER JE FOLDER ENTRY POINT-A, A build JE UJEDNO IME I PRODUCTIO NSCRIPTA (OVO JE LARKIN URADIO, MOZE BITI MALO ZBUNJUJUCE, ALI NEMA VEZE)); ALI POZIVAM, ODNOSNO COMPOSE-UJEM I OVAJ rimraf SCRIPT, KAK OBI OBRISAO DIST PRE SVAKOG PRODUCTION BUILD-A

DAKLE PRODUCTION SCRIPT CE IZGLEDATI OVAKO, SAGRADJEN OD UPOTREBE rimraf I PODESAVANJA, KOJ ICE TO BITI FOLDER U KOJI CE SE OUTPUT-OVATI BUNDLE-OVI (ISTO dist)

**A OVOG PUTA KORISTIM** 

- --[config](https://webpack.js.org/api/cli/) FALAG KAKO BI DEFINISAO UPOTREBU FAJLA U KOJEM JE  KONFIGURACIJSKI OBJEKAT

SA TIM FLAGOM, JA USTVARI KORISTIM PATH DO MOG CONFIG FAJLA

- *"build": "rimraf /dist && webpack --config webpack.config.js"*

## :three: DEBUGGING SCRIPT, CE BITI SLICAN KAO I STO SAM GA KORISTIO RANIJE DAKLE KORISTI SE NODE DEV KIT (STO ZNAM DA MOGU KORISTITI UZ POMOC CHROME-A, ALI DEBUGGING MOGU RADITI I IZ VS CODE-A); I MOGU DEFINISATI BREAKPOINTE, KAKO U SOURCE WEBPACK CODE-U, TAKO I U MOJIM LOADER-IMA I OLUGIBIM-A

ALI MORACU DA DEFINISEM I --config JER KAO STO SAM REKAO NE KORISTIM FUNKCIJE KAO RANIJE

**NEGO MORAM OBEZBEDITI --config, JER KONFIGURACIJSKI OBJEKAT IZ webpack.config.js JE ONAJ FAJL, KOJI CE TWEAK-OVATI WEBPACK-OV DEFAULT CODE**

*"debug": "node --inspect -debug-brk ./node_modules/webpack/bin/webpack.js --config webpack.config.js"*

## :running::running::running::running: OSTALI SCRIPT-OVI SE ODNOSE NA jest I NA eslint :running::running::running::running:

NECU OVO DODATNO OBJASNJAVATI, SAM OCU RECI DA JE

- jest LIBRARI ZA TESTING JAVASCRIPT CODE-A

- eslint JE LARKIN PODESIO DA BI NA PRIMER HOVERINGOM I ILI REFERENCIRANJEM NEKIH WEBPACK INTERNAL STVARI JA USTVARI ZNAO, CEMU ONE SLUZE I KOJE HOOK-OVE NA PRIMER IMAJU NEKE INSTANCE

## POGLEDAJ SADA NJEGOVU KONFIGURACIJU, KOJU SAM DO NEKLE OBJASNAJVAO GORE

[package.json](https://github.com/TheLarkInn/webpack-developer-kit/blob/master/package.json)

TAMO MOZES POGLEDATI I DEPENDANCIES

## MOZDA SAM JA I PREVISE OVDE OBJASNIO NJEGOVU KONFIGURACIJI I MOZDA SAM TREBA ODA DIVE-UJEM U CODE BASE

STO SE TICE SAMOG [KONFIGURACIJSKOG FAJLA]() DOSTA STVARI JE COMMENTED OUT I OBJASNJENO

DAKLE JA BIH TREBALO DA DEVELOP-UJEM PLAGIN UPRAVO TAMO INLINE U plugin NIZU

VALJDA CE SAMO TAKO LINTING RADITI I MOCI CU DA CITAM MNOGE STVARI

JEDINA STVAR KOJ MI JE MALO OVEWHELMING JESTE UPOTREBA TYPESCRIPT-A

ALI GLEDACU DA NA TO NE OBRACAM MNOGO PAZNJE JER JE TO LARKIN DEFINISAO SAMO DA POKAZE, VALJDA TIPOVE VREDNOSTI (NEBITNO, O TOME CU TEK KADA NAUCIM TYPESCRIPT)