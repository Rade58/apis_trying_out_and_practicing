# COMRESSION PLUGIN

I OVAJ PLUGIN JE ISTO U WEBPACK CONTRIB-U

[webpack-contrib](https://github.com/webpack-contrib))

[compression-webpack-plugin](https://github.com/webpack-contrib/compression-webpack-plugin)

SITUACIJA JE PRILICNO SIMPLE

OVAJ PLUGIN, UZIMA SVE ASSET-OVE, KOJE ZELI MDA INCLUDE-UJEM; I KOMPRESUJE IH

**gzip JE DEFAULT**

AKO NA PRIMER ZELIM DA KORISTIM PHYTON KAO DEPENDANCY, MOGU KORISTII ZOPFLI, A SUPPORT-UJE I BROTLI (MA STA TO ZNACILO) (PREDPOSTAVLJAM DA ZNACI U KOJEM FORMATU JE KOMPRESIJA) (ZOPFIL I BROTLI SU USTVARI COMPRESSION ALGORITMI)

INSTALACIJA:

- yarn add compession-webpack-plugin --dev

KREIRAM PRESET

**webpack.compress.js**

```javascript
const CompressionWebpackPlugin = require('compession-webpack-plugin');

module.exports = () => ({
    plugins: [new CompressionWebpackPlugin()]
})
```

DOADACU I SCRIPT U package.json FAJL

- "prod:compress": "npm run prod -- --env.presets compress"

MOGU SADA DA RUNN-UJEM SCRIPT

- npm run prod:compress

**NAKON BUILD-A, ONO STO CE POSTOJATI U dist FOLDERU, PORED OSTALIH FAJLOVA, BICE COMPRESSED CSS FAJL I COMRESSED JAVASCRIPT FAJL**

## POKUSAJ PISANJA SCRIPT-A KOJI IMAJU --env.presets BIO JE NUSPESAN (GOVORIM O DIREKTNOM PISANJU U TERMINALU, ODNOSNO DIREKTNOM EXECUTION-U (BEZ DA SAM ZADAO SCRIPT U package.json FAJLU)); A ONO STO SAM POKUSAO JESTE DA RUN-UJEM prod:compress I SAMO PROSLEDIM analyze PRESET, KROZ env VARIJABLU

ps. JEDINO STO USPEVA DA SE EXECUTUJE USPESNO, PISANJEM U TERMINALU JE **npm run webpack**

AKO POKUSAM DA ZADAM mode I presets, IZACI CE ERROR (OVO MORAM DODATNO ISPITATI, ODNOSNO NAUCITI, KAKO DA PRAVILNO EXECUTE-UJEM SCRIPT U SAMOM TERMINALU)

ALI COMPOSITION UZ POMOC package.json FAJLA, GDE DEFINISEM SCRIPT-OVE, IDE MI USPESNO

## DEFINISACU SCRIPT, KOJI KAO PRESET-E, KORISTI PRVO ONAJ U KOJEM SAM DEFINISAO compession-webpack-plugin, PA webpack-bundle-analyzer (KAO STO SAM REKAO COMPOSE-UJEM GA U package.json FAJLU)

- "prod:compress:analyze": **"npm run prod:compress -- --env.presets analyze"**

DA SAM GORNJI SCRIPT KUCAO U TERMINALU ON NE BI RADIO, ODNOSNO THROW-OVAO BI ERROR

TO MI JE BILO CUDNO JER JE U LARKIN-OVOM WORKSOP-U, UPRAVO FUNKCIONISAO

## U SUSTINI, OVAKVO ZAJEDNO KORISCENJE OVA DVA PRESET-A, OMOGUCVA DA URADIM A/B TESTING ZA RAZLICITE NACINE BUNDLINGA, MOJE APLIKACIJE

[STA JE TO A/B TESTING](https://en.wikipedia.org/wiki/A/B_testing)

ODNOSNO MENE ZANIMA SWITCHING ON AND OFF RAZLICITIH PRESET-OVA

OVAJ POSLEDNJI NASLOV NIJE BAS RAZUMLJIV JER NE POZNAJEM POMENUTE STVARI

ALI KADA MI TO BUDE JASNIJE, MOGU SE VRATITI NA LARKIN-OV VIDEO

AALI MISLIM DA JE POENTA U TOME DA IMAM DOSTUPNE VELICINE KOMPRESOVANIH FAJLOVA U ANALIZERU, ALI IMAM IH I U TERMINALU

ONO STO MOGU PRIMETITI JESTE DA NISU SVI FAJLOVI COMPRESSED, JER POSTOJI ODREDJENI DEFAULT TRESHOLD, KOJI SE NE SME PRECI