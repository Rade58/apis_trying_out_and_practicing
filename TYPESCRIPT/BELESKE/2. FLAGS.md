# OVDE CU SE PRVO POZABAVITI FLAG-OVIMA, KOJI SE ZADAJU PRI COMPILING-U, ODNOSNO TRANSPILING-U TYPESCRIPT-A, A KOJ ISE ODNOSE NA TO U KOJU CE JAVASCRIPT SINTAKSU (ES3 (DEFAULT (BEZ FLAGA)), ES2015, ES2017) BITI TRANSPILED TypeScript

PRE BIL OCEGA DRUGOG, **MORAS IMATI INSTALIRAN TYPESCRIPT GLOBALNO**

- npm install [typescript](https://www.npmjs.com/package/typescript) -g

**ZA KORISCENJE TYPESCRIPTA SE PREPORUCUJE VISUAL STUDIO CODE IDE, JER JE TO BROWSER IZGRADJEN HAND IN HEND WITH TYPESCRIPT** (MICROSOFT JE AUTOR I JEZIKA A I IDE-A) (NECU SIRITI PRICU, IZ VIDEA MOZES VIDETI ZASTO)

[PROJEKAT](https://github.com/mike-works/typescript-fundamentals/tree/v2#dependencies)

**VAZNO JE DA DOWNLAOD-UJES v2-fem BRANCH** (NASLUTI ZASTO fem)

## NEMOJ DA BUDES OVERWHELMED OVIM REPOZITORIJUMOM, JER ON OSTO CES TI, ZA SADA, SAMO USTVARI URADITI, JESTE KORISCENJE JEDNOG TYPESCRIPT FAJL-A (FAJLA KOJI IMA .ts EKSTENZIJU I U KOJEM JE NAPISANA TYPESCRIPT SINTAKSA), SA TYPESCRIPT COMPILER-OM, KAKO BI TRANSPILE-OVAO TAJ TYPESCRIPT U NOVI JAVASCRIPT FAJL

TI SI OVO MOGAO SAM URADITI SA NEKIM TYPESCRIPT FAJLOM (POD USLOVOM DA IMAS TYPESCRIPT INSTALIRAN GLOBALNO)

NEOPHODNO JE DA SAMO KUCAS

- **ts** *pathDoTypescriptFajla* (AK OSAM U ISTOM FOLDERU GDE JE FAJL, SAMO KUCAM IME FAJLA PORED KOMANDE)

OVIM SI POKRENUO TYPESCRIPT COMPILER I KADA ZAVRSI SA RADOM TVOJ *JAVASCRIPT FAJLA CE BITI GENERATED OD TRANSPILED TYPESCRIPT-A, KOJI SI PROVIDE-OVAO* (BICE GENERATED ODMAH PORED TVOG TYPESCRIPT-A)

## DA NASTAVIM SA PROVIDED REPOZITORIJUMOM WORKSHOPA-A (U KOJEM CU UPRAVO URADITI GORE POMENUTO SA JEDNIM FAJLOM)

IDEM U: *examples\hello-ts* (PRE TOGA SAM U TOP LEVEL FOLDERU RUNN-OVAO yarn (DA BI INSTALIRAO SVE DEPANDANCIES) (NIJE BITNO ZA KORISCENJE COMPILER-A, VEC SAMO DA IMA MSVE PRIPREMLJENO))

## NA POMENUTOM PATH-U JE SUBPROJEKAT U KOJEM CU UPOTREBITI TYPESCRIPT COMPILER ZA TURNING TYPESCRIPT-A U JAVASCRIPT

OTVARMA TYPESCRIPT FAJL **examples\hello-ts\src\index.ts**

U POMENUTOM FAJLU CU VIDETI TypeScript CODE, KOJI CE MI ODMAH BITI JASAN (IZUZEV, POSEBNIH KOMENTARA (DVE VRSTE KOMENTARA SU U PITANJU), ALI VERUJEM DA CU SAZNATI I CEMU ONI SLUZE)

OVU SINTAKSU (KOJA SE PORED TYPESCRIPT SINTAKSE, SASTOJI I OD async await SINTAKSE), NARAVNO, NATIVNO NE MOGU RAZUMETI BROWSER-I, ILI NEKI DRUGI ENVIROMENTI (async/await SAMO MODERNIJI BROWSERI)

## JA ZELIM DA POGLEDAM RAZLICITE NACINE COMPILING-A (UZ KORISCENJE FLAGOV-A), POMENUTE SINTAKSE DA BIH DOBIO OUTPUT, KOJI CE RUNN-OVATI, TAMO GDE MI JE TO POTREBNO

IDEM SADA TAM OGDE SE NALAZI MOJ MALI PROJEKAT

> cd *examples\hello-ts*
> ls src
-> **index.ts**

## ZELIM DA RUNN-UJEM TYPESCRIPT COMPILER SA OVIM FAJLOM

KOMANDA JE tsc

> tsc src/index.ts

## U src FOLDERU BI SADA TREBAO DA BUDE OUTPUTED JAVASCRIPT FAJL NASTAO NAKON TRANSPILEING-A

U POMENUTOM FAJLU SE NALAZI 78 REDOVA CODE-A

**TYPESCRIPT JE OVDE PO DEFAULTU TRANSPILED U ES3 SINTAKSU JAVASCRIPT-A, KOJU MOGU DA KORISTI I STARIJE VERZIJE INTERNET EXPLORER-A (TACNIJE VERZIJA 6)** (VEROVATNO MI TAJ BROWSER NIJE BITAN)

*DAKLE PO DEFAULTU SE PRAVI JAVASCRIPT, KOJI SE MOZE RAUN-OVATI BILO GDE, CAK I U STARIJIM BROWSERIMA*

IAMJ NA UMU DA SI U TYPESCRIPT CODE-U KORISTIO SINTAKSU, KAO STO JE async/await, KOJA PREDSTAVLJA U SUSTINI 'SIMPLIFIED' UPOTREBU Promise-A

ONO STA SE MENI DESILO TOKOM TRANSILING-A, JESTE TO DA JE I OUTPUTED MESSAGE U TERMINALU KOJI UPOZORAVA DA Promise JESTE GLOBALNA VREDNSOT, KOJU COMPILER NIJE MOGAO PRONACI (ODNOSNO NE POSTOJI DEKLARACIJA Promise KONSTRUKTOR-A) (NE ZNAM ZASTO ME UPOZORAVA, MOJA JEDINA PRESPOSTAVKA JE DA JA MORAM PROVIDE-OVATI Promise KAO POLYFILL, JER GA U OVOM SLUCAJU, ODNSONO U OVAKVOM ES3 CODE, IL IJE SAMI POLYFILL EMBEDED U CODE (NECU ULAZITI U OVO DALJE JER ZNAM DA MOGU KORISTITI I ES6 SINTAKSU, PA I NAPREDNIJU, UPOTREBOM FLAG-OVA))

## SADA CU DA KORISTIM NEKI OD FALAGOVA

KONKRETN OSE KORISTI:

*FLAG*: **--target** CIJA VREDNSOT TREBA DA BUDE NAME, NEKE OD VERZIJA JAVASCRIPT-A

FLAGOVI CE MI USTVARI POMOCI DA KONFIGURIRAM COMPILER DA BI ON OUTPUT-OVAO NEKU DRUGU SINTAKSU, KAO STO JE NA PRIMER ES6 (ES2015)

POKRECEM

- **tsc src/index.ts --target ES2015** 

SADA NISAM DOBIO NIKAKAVO UPOZORENJE U TERMINALU TOKOM TRANSPILING-A

GENERISAN JE JAVASCRIPT FAJ, KOJ ISADA IMA 31 RED

U NJEMU MOGU VIDETI INSTATICIRANJE Promise-A

DAKLE U GENERISANO MCODE-U SE KORISTI ES6 SINTAKSA

A ONAJ DEO KOJI SE TICE async/await (CIJE JE, POMENUTO INSTATICIRANJE Promise-A, SASTAVNI DEO), VIDIM DA JESTE 'POLLYFILLED', ODNOSNO VIDIM SAV CODE KOJI SE KRISE IZA *SINTACTIC SUGER-A* async/await, KOJ INIJE NATIVNO PODRZAN U ES6 SINTAKSI

ON JE NAIME DEO ES2017 SINTAKSE

ZATO CU DA KUCAM

- **tsc src/index.ts --target ES2017**

U JAVASCRIPT FAJLU, KOJ ICE BITI GENERISAN, SA DOSTA MANJE REDOVA (21), MOGU VIDETI SADA async/await SINTAKSU

SADA CODE IZ JAVASCRIPTA, NASTAO TRANSPILINGOM TYPESCRIPTA, IZGLEDA NESTO BLIZE TYPESCRIPT CODE-U, SAMO STO VIDIM DA VISE NEMA ONE SINTAKSE TYPECHECKING-A, KOJA JE BILA U TYPESCRIPT-U (SINTAKSA VEZNA ZA PARAMETAR FUNKCIJE, KOJA SE SASTOJALA OD `:number`)

ONO STO SE NIJE IZGUBILO JESU ONI, JOS ZA MENE MISTERIOZNI KOMENTARI

KOJI IZGLEDAJU OVAKO

```javascript
/**
 * Add three numbers
 * @param a first number
 * @param b second
 */
```

VALJDA CU NAUCITI STA OVO ZNACI, A VIDIM DA JE DEO JAVASCRIPTA

[PRONASAO SAM OVAJ LINK KOJI OBJASNJAVA @param](https://jsdoc.app/tags-param.html)

PROCITACU OVO JEDNOM PRILIKOM

## U TYPESCRIPT CODE-U SAM IMAO ESM SINTAKSU (export)

ONA JE POSEBNA SINTAKSA, KAKO SAM OTKRIO OD LARKIN-A, I NEMA DIREKTNU VEZU SA ES6 SINTAKSOM (A POGOTOVO NEMA NISTA SA ONIM WEBPACK MODULIMA, KOJI IZGLEDAJU ISTO ALI IMAJU SVOJU SOPSTVENU LOGIKU)

ALI KADA TRANSPILE-UJEM PO DEFAULT-U (U ES3), OVA SINTAQKSA BIVA PRETVORENA U CommonJS MODULE (`module.exports = _`)

KADA TRANSPILE-UJEM U ES2015 ILI ES2017 BICE ZADRZANA ESM SINTAKSA AKO SAM JE NAPISAO U TYPESCRIPT CODE-U

## SECAS SE DA Node.js KORISTI CommonJS MODULE

MOZES DA PROBAS I POKRENES Node.js SA ONIM GENERATED JAVASCRIPTOM KOJI JE U SKALDU SA ES2017 ILI 15

I MOZES DA PROBAS I POKRENES Node.js SA ONIM GENERATED JAVASCRIPTOM KOJI IMA ES3 SINTAKSU

NECE TI BITI IZBACEN ERROR ZA ES3, A Z OSTALO POMENUTO HOCE, NESTO OVAKO: `SyntaxError: Unexpected token export`

- node src/index.js

## POSTOJI I FLAG KOJI SE DODAJE ZA MODULE, ODNOSNO MOGU SPECIJALN ODEFINISATI MODULE

U PITANJU JE --module FALG

POSTO ZELIM DA MOJ TYPESCRIPT CODE, KOJI SE SASTOJI I OD MODUL SINTAKSE TRANSPALIE-UJEM U SINTAKSU KOJA CE SE MOCI KORISTITI SA Node.js, ZADACU DA MODUL SINTAKSA BUDE TRANSPILED U **CommonJS** MODULE

- **tsc src/index.ts --target ES2017 --module commonjs**

SADA NAKON GENERISANJA index.js FAJLA MOGU POKRENUTI Node.JS

- node src/index.js

**NECE BITI ERRORA, PRI IZVRSAVANJU MOG SCRIPT-A U Node.js ENVIROMENT-U**

## POSTOJI MOGUCNOST DA DEFINISEM I WATCH MODE

DODAVANJEM FLAGA:

--watch

PRI RUNNING-U COMPILER-A UCI CU U TAKAV REZIM DA CU MOCI EDDIT-OVATI TYPESCRIPT CODE, A PROMENE CE SE REFLEKTOVATI I NA COMPILED JAVASCRIPT

KAO DA IMA MNEKI '*REAL TIME COMPILING*'

KUCAM TYPESCRIPT U JEDNOM FAJLU, I VIDIM KAKAV ON JAVASCRIPT DAJE, U JAVASCRIPT FAJLU (GENIJALNO)

- **tsc src/index.ts --target ES2017 *--watch***

OVO ME PODSECA NA DEVELOPER MODE U WEBPACK-U (webpack-dev-server KORISTI --watch UNDR THE HOOD)

## POSTOJE JOS MNOGO FLAG-OVA, ALI S NJIMA CU SE UPOZNAVATI PO POTREBI

[compiler Options](https://www.typescriptlang.org/docs/handbook/compiler-options.html#compiler-options)

IZ OVE DOKUMENTACIJE SAZNAJEM DA JE I NESTO OVAKO MOGUCE:

>>>> --lib 'es2017, es5'

PS. KORISTE SE MALA SLOVA ZA **es**

MOZES DA PROBAS

- tsc src/index.ts --lib 'es5, es2017' --watch (*DOADA OSAM I --watch FOR THE S`**`TS AND GIGGLES*)

**(PEEDPOSTAVIO SA MDA CE OVOM PRILIKOM BITI GENERISANA DVA FAJLA (ALI NIJE TAKO, GENERISAN JE SAMO JEDAN))**

OVDE STAJEM SA FLAGOVIMA ZA SADA
