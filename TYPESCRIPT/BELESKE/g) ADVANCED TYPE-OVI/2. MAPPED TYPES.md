# MAPPED TYPES (UKLJUCUJE UPOTREBU NOVOG KEYWORDA: *keyof*)

U OVO SE UKLJUCUJE UPOTREBA INTERFACE-A, KAO NACIN DA SE DODJE OD INTERFACE-OVIH KLJUCEVA DO TYPE-OVA, KOJI SU ASSOCIATED

SECAS LI SE [FUNCTION OVERLOADS-A](https://github.com/Rade58/apis_trying_out_and_practicing/blob/master/TYPESCRIPT/BELESKE/a%29%20OSNOVE%20TYPESCRIPT%20JEZIKA/7.%20OVERLOAD%20SIGNATURES.md#dakle-predhodnoj-funkciji-dodaje-m-dva-signature-ali-pre-njene-deklaracije) I PRIMERA KOJI SI KORISTIO TADA, KADA SE I MORA DA SE POSTARAS, UPRAVO KORISCENJEM MULTIPLE SIGNATURE-A FUNKCIJE, KOJE TIPOVE VREDNSOTI MOZES PROSLEDJIVATI ZAJEDNO KAO PARAMAETRE, A KOJE NE MOZES

JA CU USTVARI SADA KORISTITI **MAPPED TYPE**, KAKO BI ACOMPLISH-OVAO ISTU STVAR KAO SA SIGNATURE-IMA

DA POCNEM OD PRIMERA, ODNOSNO OD POSTAVKE

```typescript
// SECAS SE OVIH, INTERFACE-OVA OD RANIJE

interface UsingPhone {
    ime: string;
    phone: number;
}

interface UsingEmail {
    ime: string;
    email: string
}


// A SADA DA KREIRAM, NOVI INTERFACE, U KOJEM CU KORISTITI GORNJE TYPE-OVE

interface NaciniKomunikacije {

    email: UsingEmail;
    phone: UsingPhone;

    // ZADAJEM I OVO

    fax: {fax: number};

}
```

**ONO STO SADA ZELIM DA KREIRAM JESTE FUNKCIJA**

**ZELI MDA IMAM TAKVU FUNKCIJU, KOJOM SE POPUT *OVERLOADING SIGNATURE*-A DEFINISE TAKORECI, DOZVOLJENI PAIRING ARGUMENATA, PRILIKOM PROSLEDJIVANJA**

**ALI JA NE ZELIM UOPSTE DA KORISTIM OVERLOADING SIGNATURES**

**ALI U TOJ FUNCIJI CU KORISTITI NESTO POSEBNO, A TO JE *keyof* KEYWORD**

**A NJEGA MOGU KORISTITI NA TAKAV NACIN DA MI OMOGUCI UPRAVP ONO ISTO STO SE POSTIZE SA OVERLOAD SIGNATURE-IMA**

```typescript
function contactThem<K extends keyof NaciniKomunikacije>(
    // POSMATRAJ OVAJ GENERIC GORE (ODNOSNO POSMATRAJ SVE OVO IZMEDJU  <>  )

    //      TYPE PARAMETAR   K    CE SKLADISTITI       TRENUTNI  KLJUC

    //      DAKLE TO MOZE BITI               ILI    "email"      ILI     "phone"     ILI     "fax"

    // ZATO         PRVI ARGUMENT CE BITI TYPE-A        K

    metoda: K,

    // DRUGI PARAMETAR CE BITI TRENUTNI VALUE, KOJIM SE PRISTUPA TRENUTNIM KLJUCEM
    // UZ POMOC BRACKET NOTATION-A

    contact: NaciniKomunikacije[K]

    // DAKLE UMESTO DA SI DEFINISAO SIGNATURE OVERLOADING
    // TEBI JE OVA keyof SINTAKSA OMOGUCILA DA KORISTIS     SIGNATURE   POPUT LOOP-A

    // DAKLE OVDE SE BUKVALNO 'DOGADJA SIGNATURE OVERLOADING, KROZ LOOPING' (MOJE RECI)


){

    // NEVEZANO ZA TRENUTNU TEMU (CAK JE AUTOR WORKSHOPA, OBIM OVE FUNKCIJE OSTAVIO PRAZNIM)
    // RECI CU SLEDECE

    // POSTO NISAM IMAO MOGUCNOST DA KORISTIS TYPE GUARDS (NISAM KREIRAO CUSTOM, A BUILT IN NE MOZES KORISTITI ZA
    // OVO), MORAO SAM KORISTITI    as      U OBIMIMA USLOVNIH IZJAVA

    if(metoda === "email") {
        console.log(`Person has an email: ${(contact as UsingEmail).email}`)
    }

    if(metoda === "phone") {
        console.log(`Person has a phone: ${(contact as UsingPhone).phone}`)
    }

    if(metoda === "fax") {
        console.log(`Person has a fax: ${(contact as {fax: number}).fax}`)
    }


    // NEKA TI BUDE, MOZDA PODSETNIK DA KREIRAS CUSTOM TYPE GUARDS ZA POMENUTE USLOVNE IZJAVE

}

// MOGU I DA PROBAM DA POZOVEM OVU FUNKCIJU

contactThem("email", {ime: "Blah Blah", email: "blah@comcom"});
contactThem("phone", {ime: "Blah Trah", phone: 5464566});
contactThem("fax", {fax: 76877887});
```

OVAKAV CODE JE EASIER TO MAINTAIN

KAO STO AUTOR WORKSHOPA KAZE, JA USTVARI MOGU KONZUMIRATI OVAJ TYPE NA POMENUTI NACIN (KAO MAP-U) I KORISTITI OVKAV MAPPING ACROSS MANY DIFFERENT THINGS, U MOM APP-U

DAKLE JA MOGU IMATI JEDAN SOURCE OF TRUTH (NA STA MISLIM SHVATICES KAD POGLEDAS OPET POMENUTI INTERFACE, KOJI KORISTIM KAO MAP-U)

```typescript
interface NaciniKomunikacije {

    email: UsingEmail;
    phone: UsingPhone;

    fax: {fax: number};

    // DAKLE JA SADA OVDE MOGU DODAVATI NOVU KOMUNIKACIJSKU METODU
    // BILO STA DAKLE (NOVI ROD TO THE INTERFACE)

}
```

NARAVNO KADA SE SVE OVO COMPILE-UJE INTO JAVASCRIPT, U PITANJU JE SAMO SINTAKSA, KOJA JE SA STOJI OD PROSLEDJIVANJA KLJUCA OBJEKTU, DA BI SE PULL-UOVALA VREDNOST

## **keyof** MOGU KORISTITI I SA TYPE ALISES-OM

NAJBOLJE JE DA POGLEDAS PRIMER

```typescript
// POGLEDAJ OVAJ INTERFACE
interface BlahInterf {
    email: string;
    phone: number;
    fax: number;
}
// USTVARI OBRATI PAZNJU NA KLJUCEVE I VREDNOSTI PREDHODNOG INTERFACE-A


// *******   POGLEDAJ SADA SLEDECE TYPE ASLIASES *******
// *******  I HOVERUJE, DA VIDIS KOJA JE NJIHOVA VREDNOST *****

type blahKeysType = keyof BlahInterf;              // VREDNSOT     JE          "email" | "phone" | "fax"

type blahValuesType = BlahInterf[keyof BlahInterf] // VREDNOST     JE           string | number


// DAKLE SVE JE JASNO
// SAMO ONO STO MOZES DA PRIMETIS JESTE DA AKO POSTOJE DUBLIKATI ONI SU ELIMINISANI IZ VREDNOSTI
```
