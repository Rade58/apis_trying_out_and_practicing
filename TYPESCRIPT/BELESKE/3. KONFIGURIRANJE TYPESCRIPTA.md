# KONFIGURIRANJE TYPESCRIPT-A

JA SAM KREIRAO BIO MOJ TYPESCRIPT FAJLA, SA NESTO CODE-A, PA AM NA NJEMU ISPROBAVAO COMPILER NA NACIN OBJASNJEN U PREDHODNOM MD FAJLU

SADA CU NASTAVITI S TIM FAJLOM SAMO STO CU DEFINISATI DA MOJ FOLDER LICI MALO VISE NA PROJEKAT

- STAVICU MOJ TYPESCRIPT U src FOLDER

- U TOP LEVEL-U CU KREIRATI FAJL: **tsconfig.json**

*MOGAO SAM JA OVO DA RADIM I UKVIRU ONOG PROJEKTA KOJI JE U examples FOLDERU, POMENUTOG REPOZITORIJUMA, ALI DA SE MALO POIGRAM*

ZELIM DAKLE DA POCNEM OD NULE

## DAKLE TREBALO BI DA IMAM SAMO SLEDECEU FILE FOLDER STRUKTURU

- src/index.ts

- README.md

- tsconfig.json

MOGU RUNN-OVATI I

*npm init*

KAKO BI KREIRAO **package.json**, KOJI CE NARAVN OZA POCETAK BITI BEZ DEFINISANIH DEPENDANCIES

ZA POCETAK IMACES OVAKAV **package.json**

```json
{
  "name": "typescript-blah",
  "version": "1.0.0",
  "private": true,
  "homepage": "",
  "description": "practicing setting up configuratio nfor typescript",
  "main": "lib/blah-ts.js",
  "scripts": {
    "clean": "rimraf lib",
    "build": "tsc src/index.ts --outDir lib --types node --target ES2017"
  },
  "directories": {
    "lib": "lib",
    "test": "test"
  },
  "files": [
      "lib"
  ],
  "keywords": [
    "typescript",
    "learning",
    "praticing",
    "configuration"
  ],
  "author": "Rade",
  "license": "ISC"
}

```

KAO STO VIDIS GORE, U SCRIPT-U SI DEFINISAO FLAG

- **--outputDir** *I ZADAO SI MU VREDNOST* **lib**

OVO ZNACI DA PLANIRAS DA OUTPUTUJES JAVASCRIPT U **lib** FOLDER

STO SE TICE FLAGA *--types* [NJEMU](https://www.typescriptlang.org/docs/handbook/tsconfig-json.html#types-typeroots-and-types) SI ZADAO VREDNOST **node** (SA LINAK SI MOGA ODA PROCITAS DA SU MOGUCE VREDNSOTI 'loodash', 'node', 'express')

A GORE SAM DODAO I PROPERTIJE ['direcdtories'](https://docs.npmjs.com/files/package.json#directories) I ['files'](https://docs.npmjs.com/files/package.json#files) (PROCITAJ SA LINKOVA NESTO VISE O NJIMA)

## SADA CU POCETI SA DEFINISANJEM TYPESCRIPT KONFIGURACIJE U FAJLU tscongig.json

**VsCode CE MI PRI DEFINISANJU DAVATI SUGESTIJE STA DA IZABERE, JER IZA POMENUTOG FAJLA STOJI JASON SCHEMA DAJE MOGUCE VREDNOSTI PROPERTIJA I KADA KUCAM IME PROPERTIJA DOBIJACU DA IZABEREM MOGUCE**

U SUSTINI, PRI DEFINISANJU KONFIGURACIJE POSTOJE *DVE STVARI NA KOJE TREBAM OBRATITI POSEBNU PAZNJU*

*PRVA* STVAR JE DA **TREBAM DA VODIM RACUNA DA DEFINISEM, KOJI SU TO FAJLOVI, USTVARI INPUTI**

TO MOGU URADITI TAK OSTO DEFINISEM PROPERTI

- *"files"* (VREDNSOT JE NIZ PATH-OVA DO FAJLOV, KOJ ICE BITI INPUTI)

ILI

- *"include"* (MIKE-OV PREFERENCE, DAKLE ON OVO KORISTI)

ON KORISTI OVO ZATO STO PORED IMPUTA ON MOZE DA DEFINISE I GLOBS (PREDPOSTAVLJAM DA SU TO PATTERNI, KAKVE SAM VIDJAO I U WEBAPCK-U, PRI DEFINISANJU KONFIGURACIJE (NA PRIMER /*.js))

JEDAN VALIDAN GLOB NA PRIMER BIO **src** (STO MATCH-UJE SVE U SOURCE FOLDERU) (DAKLE MOGUCI SU I PATH-OVI DO FOLDER-A)

JA CU UPRAVO SVE U src-U DEFINISATI, KAO INPUT

**SLEDECA STVAR KOJU DEFINISEM JE KAK OJA USTVARI KOMPAJLIRAM**

U PITANJU JE PROPERTI

- *"compilationOptions"*

TU MOGU DEFINISATI VREDNOST IZA *"module"* (DEFINISE U KOJU MODLE SINTAKSU ZELIM DA TRANSPILE-UJEM,) I ZA *"target"* (DEFINISE VERZIJU JAVASCRIPT-A U KOJU ZELIM DA TRANSPILE-UJEM), STO SAM RANIJE RADIO U CLI-U

## VEC SAM RANIJE REKAO DA CU STRIKTNO DEFINISATI, U KOJI FOLDER ZELI MDA BUDU OUTPUTED MOJI GENERISANI JAVASCRIPT FALOVI

TO RADIM TAKO STO DEFINISEM "outputDir" PROPERTI "compilationOptions" OBJEKTA

RANIJE SAM REKA ODA ZELIM DA TO BUDE 'lib' FOLDER

## MIKE NORTH SAVETUJE DA SE OVO URADI, NAROCITO AKO PRAVIM LIBRARY, JER ZELIM USTVARI DA NA NPM PUBLISH-UJEM ONO STO SE NALAZI U TOM FOLDER-U

DA BI CONSUMERI MOG LIBRARY-JA I SLICNI, MOGLI DA IMPORT-UJU, MOJ CODE (DA KLE ONI NE TREBA DA BUDU EQUIPED SKILL-OM DA CITAJ UTYPESCRIPT FAJLOVE)

## DAKLE DO SADA IMAM OVAKAV tsconfig.json FAJL

```json
{
    "compilerOptions": {
        "outDir": "lib",
        "module": "commonjs",
        "target": "es2017"
    },
    "include": ["src"]

}
```

## MOZES SADA POKRENUTI COMPILER

SAMO KUCAJ

- tsc (NE MORAS VISE NISTA DODATNO DA SPECIFICIRIS, JER SI TI USTVARI DEFINISAO DEFAULT, SA POMENUTI MCONFIG FAJLOM) (NARAVNO MOZES DALJE DA ZADAJES OPCIJE KROZ CLI AL ITO SADA NECU RADITI)

*TVOJ JAVASCRIPT FAJL BICE OUTPUTED U lib DIREKTORIJUM-U*

STA SE DESILO

- TVOJ JEDINI TYPESCRIPT FAJL (KOJIH JE I MOGLO BITI VISE DA S IZELEO) UZET JE IZ src FOLDER-A, KAKO BI SE KORISTIO SA COMPILER-OM, ODNSONO KAKO BI SE OTPOCELO SA NJEGOVI MTRANSPILING-OM

- KADA SE ZAVRSI TRANSPILING U lib FOLDERU CES NACI JAVASCRIPT FAJL, KOJI JE IZGRADJEN TAK ODA KORISTI es2017 SINTAKSU (async await KOJI JE TU), A STO SE TICE MODULA, NJIHOVA SINTAKSA JE CommonJS

STA JE PREDNOST OVAKVE STRUKTURE

- MOGU CHECK-OVATI src FOLDER INTO GIT (PREDPOSTAVLJAM DA JE MISLIO DA INIT-UJEM GIT SAMO ZA SOURCE FOLDER, KOJI BI ONDA PUBLISH-OVAO (SAMO NJEGA) NA GITHUB)

- A lib FOLDER PUBLISH-UJEM NA npm

## MOZE SADA NSTATI JEDNA NEDOUMICA: DAKLE SA JEDNE STRANE IMAM FAJLOVE KOJI IMAJU SVE TE DIVNE TYPE INFORMATION-E, A USERIMA DAJEM NA KORISCENJE FAJLOVE BEZ TYPE INFORMATION-A

MORAM KORISNIKU OPROVIDE-OPVATI OPCIJU DA NE KORISTI TYPE INFORMATION

JER LJUDI MOGU PISTI SAMO OJAVASCRIPT CODE KOJI BI BIO DEPENDANT UPON MY CODE

## ALI JA ZELIM DA SE POSTARAM, DA IPAK PROVIDE-UJEM NEKE STVARI PREKO TOGA

ENABLE-OVACU SOURCE MAPE

I DECLARATION

```json
{
    "compilerOptions": {
        "outDir": "lib",
        "module": "commonjs",
        "target": "es2017",
        // EVO
        "declaration": true,
        "sourceMap": true
    },
    "include": ["src"]
}
```

MOGU DA PREDPOSTAVIM STA SE DEFINISE SA SOURCE MAP OPCIJOM

A ZA DECLARATION CU VIDETI CIM RUNN-UJEM COMPILER

## KADA DAKLE RUNN-UJEM tsc IMACU SLEDECU SITUACIJU

- JAVASCRIPT FAJL KOJI JE GENERISAN IMACE NA DNU ONAJ KOMENTAR VEZNA ZA SOURCE MAP-U

- BICE GENERISAN I JEDAN .map.js FAJL

- ALI BICE GENERISAN I JEDAN TYPESCRIPT FAJL, KOJI CE IMATI IME: *index.d.ts* (d VEROVATN OZNACI DECLARATION, JER JE OVAJ FAJL NASTAO KAO POSLEDICA TOGA STO SAM *declaration* PROPERTI PODESIO NA **true**)

## STA SE NALAZI U TOM GENERISANOM TYPESCRIPT FAJLU KOJI IMA I .d U SVOM IMENU

EVO *lib/index.d.ts* IZGLEDA OVAKO

```typescript
/**
 * Add three numbers
 * @param a first number
 * @param b second
 */

// USTVARI KAO STO VIDIM TU SU ONI KOMENTARI GORE, KOJE SAM I RANIJE SPOMENUO


// ALI OVO JE INTERESANTNO

// OD ORIGINALNE FUNKCIJE (U PITANJU JE BILA async FUNKCIJA)
//(KOJA JE BILA DEFINISAN U INPUT TYPESCRIPT FAJLU IZ src FOLDERA) DOLE SAMO KAO DA SU PRIKAZANI TIPOVI VREDNOSTI

// DAKLE DOLE SU PRIKAZANTI TIPOVI VREDNOSTI ZA PARAMETARE
//  ITIP VREDNOSTI SA KOJOM SE RESOLVE-UJE PROMISE, KOJI JE POVRATNA VREDNOST FUNKCIJE

export declare function addNumbers(a: number, b: number): Promise<number>;
```

## POMENUTI FAJL JE USTVARI TYPE DECLARATION FAJL, KOJI JE NAPRAVLJEN DA BUDE 'LAYERED ON TOP OF GENERATED JAVASCRIPT, KOJEG REPREZENTUJE'

AKO KORISTIM TYPESCRIPT AWARE IDE, KAO STO JE VS CODE, ON CE OVO CITATI I MATCH-OVATI SA JAVASCRIPT-OM, I RAZUMETI DA SU DEFINISANI TIPOVI, MEANT TO GO WITH THE CODE

## DA SE POZABAVIM SA SORCE MAP-OM

AKO U MOM TYPESCRIPT SOURCE-U PODESIM BREAKPOINTS

TO CE USTVARI MAPIRATI BREKPOINT U MOM DEBUGGER-U, BACK TO THE ORIGINAL TYPESCRIPT SOURCE

TAK ODA CU IMATI OSECAJ DA DEBAGUJEM KROZ TYPESCRIPT CODE, ALI USTVARI TO SE NECE RUNN-OVATI, JER JAVASCRIPT CE BITI RUNNED

## PRIKAZ tsconfig.json FAJLA ZA KORISCENJE TYPESCRIPTA, PRI PISANJU REACT-A

OVO JE NESTO KOMPLIKOVANIJA KONFIGURACIJA

[NA SEDMOJ STRANI SLAJDOVA IMAS PREDSTAVLJENU KONFIGURACIJU, KOJA JE IZKOMNTARISANA](https://drive.google.com/file/d/170oHzpLNeprUa-TMmOAnSU4caEFDSb3e/view)

DAKLE KOMPAJLER IMA I NATIVE SUPPORT FOR REACT, KAK OBI MOGA OPARSE-OVATI JSX

IMA JEDNA STVAR KOJU MISLIM DA MOGU POMENUTI

- ZNAS DA SI PRE NEKOG VREMENA TVOJE REACT KOMPONENTE SUFIKSOVAO SA .jsx; MOGUCE JE ZADATI I **.tsx** EKSTENZIJU

DAKLOE KADA KORISTIM TU EKSTENZIJU, JA IMAM KAO 'TYPESCRIPT -REACT FAJL'

DA IPAK PRIKAZEM KAKO BI TAJ KOMPLIKOVANIJI CONFIG IZGLEDAO

```json
{
    "compilerOptions": {
        "jsx": "react",
        "strict": true,
        "sourceMap": true,
        "noImplicitAny": true,
        "strictNullChecks": true,
        "allowJs": true,
        "types": [],
        "experimentalDecorators": true,
        "emitDecoratorMetadata": true,
        "moduleResolution": "node",
        "target": "es2015"
    }
}
```

ZELIM DA BREFLLY OBJASNIM OVU KONFIGURACIJU

## MIKE KAZE KAKO JE SETTING "strict"-A NA true, U compailerOption-SIMA, JAKO VAZNO

DEFAULT JE false

VIDECU TOKOM KORISCENJA ZASTO JE VAZNO PODESAVANJE STRICT MODE-A (POCECU NEKAKO 'LOOSE', BEZ STRICT MODE, ALI CU GA TOKOM VREMNA UVESTI)

## DOBRA STVAR DEFINISATI I "noImplicitAny" NA false

IMPLICIT ANYS SU KAO WILDCARDS

KADA COMPILER BY HIMSELF NE MOZE FIGURE OUT-OVATI STVARI

TO JE STANJE U KOJEM JE ANY TYPE ALLOWED

TO JE MESTO **WITHOUT ANY TYPES SAFTY**

## strictNullChecks

**ðŸ’«ðŸ’«ðŸ’«ðŸ’« DOSAO SAM SADA DO ONIH KOMENTARA O KOJE SAM SPOMENUO ðŸ’«ðŸ’«ðŸ’«ðŸ’«** (UBRZO CU RECI STA SU ONI) (ONI KOMENTARI)

TYPESCRIPT COMPILER MOZE CHECK-OVATI I COMPILE-OVATI REGULAR JAVASCRIPT

[AKO ME ZNAIAM NESTO VISE O OVOME TREBAO BIH DA PRODJEM JOS JEDAN MIKE NORTH-OV WORKSHOP VEZAN ZA VS CODE](https://frontendmasters.com/courses/visual-studio-code/) (ALI VIDIM DA JE POPRILICNO OUTDATED) (ALI ON JE TADA OBJASNIO **Annotating Types**)

DAKLE U SUSTINI [JsDoc COMMENTS](https://jsdoc.app/about-getting-started.html#adding-documentation-comments-to-your-code)([cheatsheet](https://devhints.io/jsdoc)) SE MOGU KORISTITI TAKO DA MOGU DA MOGU DA OBZNANIM KAKO NA PRIMER

- NEKA FUNKCIJA IMA ARGUMENT I DA JE TA JARGUMENT NA PRIMER STRING TIPA

- I DA DODA M DESCRIPTION

**KOMPAJLER CE TO PROCITATI, IAK OSU TO KOMENTARI, I PROCITACE IH KAO TYPE INFORMATION**

POMENUTO MAL OTREBAM JEDNOM PRILIKOM PODROBNIJE ISPITATI

A SUMIRANJE OBJASNJENJA JE DAKLE DA SU KOMENTARI NESTO STA KORISTI COMPILER ,KAK OBI O NCHECKOVAO DA SE CODE KORISTI SA TYPE SAFE NACINOM

## JOS JEDNA DIGRESIJA VEZNA ZA BABEL

NAIME BABEL SE KORISTI TAKO DA JA NE MORA MBRINUTI KOJU JAVASCRIPT VERZIJU KORISTIM

- JA NA PRIMER MOGU TARGET-OVATI es2017 ALI KADA SVE PRODJE KOROZ BABEL PIPELINE, BICE OUTPUTED ES3 SINTAKSA

SAD MOJA DILEMA SE OGLEDA U TOME STO MIKE NORTH JESTE ZA KORISCENJE BABEL-A, DOK SEAN LARKIN KAZE DA TO SAMO UVECAVA MOJ CODE

**USTVARI SVE SE OKRECE OKO SUPPORTING-A INTERNET EXPLORERA 6**

**AKO KORISTIM BABEL SA TYPESCRIPT-OM, TO CE REDUCE-OVATI TYPSCRIPT CINECI GA ISKLJUCIVO SAMO TYPE CHECKER-OM, A NECE GA UCINITI STVARJU, KOJA PRODUCE-UJE OUTPUT, A JA SAM SADA TOKOM OBJASNJAVANJA U OVA DVA TRI FAJLA, ZAISTA OUTPUT-OVAO, ODNOSNO EMIT-OVAO TRANSPILED JAVASCRIPT, KORISTECI TYPESCRIPT COMPILER**

**MIKE NORTH PREPORUCUJE SLEDECE**

- DEFINISI DA TYPESCRIPT COMPILER EMITUJE FAJLOVE, SA VEOMA VEOMA MODERNOM JAVASCRIPT SINTAKSOM, **I ONDA DOZVOLI BABELU DA TAKE-UJE FAJLOVE I URADI SVE OSTAL OSTO JE POTREBNO**

## NA PRIMER KORISCENJEM BABEL PRESET ENV, JA MOGUDEFINISATI LISTING BROWSER-A

I TO CE DOZVOLITI MENI ILI TIMU DA VISE NE VODIM RACUNA O TOME, KOJI FEATURE SE TREBA ENABLE-OVATI ILI NE

## OPET MARK NA OSNOVU SVEGA PREPORUCUJE DA SE "target" PROPERTI DEFINISE NA MOZDA "ESNext" (PREDPOSTAVLJAM NAJNOVIJA VERZIJA JAVASCRIPTA)

A SVE OSTASLO OSTAVLJAM DA URADE

- LINTING TOOLS

- BABEL

NARAVNO OVO BI ISLO MNOGO TEZE, AKO ZELI MDA KORISTIM NAJNOVIJU SINTAKSU U NEKOM POSTOJECEM PROJEKTU (TADA SE NE PREPORUCUJE, ALI TO IPAK ZAVISI OD SAMOG PROJEKTA, JER NEGDE BI MORAO DA OBEZBEDJUJEM SVAKI CAS POLIFILL ZA async/await JER JE TAKVA PRIRODA PROJEKTA (IMAO BIH BLOATED CODE PREDPOSTAVLJAM DA SE NA TO MISLILO))