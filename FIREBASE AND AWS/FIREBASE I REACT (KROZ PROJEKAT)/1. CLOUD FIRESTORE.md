# CLOUD FIRESTORE

ONA JE BOLJA OD REALTIME DATABASE-A, PO MNOGO CEMU

## (NAJVAZNIJE) AKO NAPRAVIM PROMENU NA CLUD FIRESTORE-U DATABASE-U; CHANGES SU AUTOMASTSKI PUSHED TO ALL CLIENTS

## BAZIRA SE NA COLLECTIONS

U SUSTINI KOD REALTIME DATABASE, POSTOJAO JE JEDAN OGROMAN JSON OBJEKAT, ZA KOJI SAM MORAO PAZITI DA SE NE DESI DA POSTANE, VEOMA DUBBOK, ODNOSNO DA IMAM SHALLOW NESTING SAMO

E O TOME NE MORAM, TOLIKO VODITI RACUNA U CLOUD FIRESTORE-U

DATA SE SASTOJI OD KOLEKCIJA I SUBKOLEKCIJA

DATA MOZE BITI STRUCTURED BAZIRANO NA UI-U

DAKLE PRINICIP JE 'THINKING ON UI FIRST', I STRUKTURISANJE DATABASE-A, OKO TOGA

## COLLECTIONS

POSTOJACE ROOT, U KOJI NISTA NE MOGU DA STAVIM

IMACU KOLEKCIJE, U KOJE CU MOCI DA STAVLJAM

NA PRIMER 'posts' KOLEKCIJA

```javascript
firestore.collection('posts')

// TAJ COLLECTION CE IMATI MNOGO DOKUMENTA, I JA CU MOCI DA ACCESS-UJEM SPECIFICAN DOKUMENT

firestore.collection('posts').doc('ASDasDasDaSdASdasD')

// POMENUTO BI BIO SINGLE POST DOCUMENT

// ALI POST BI MOGAO DA IMA OGROMAN BROJ KOMENTARA

firestore.collection('posts').doc('ASDasDasDaSdASdasD').collection('comments')

// REC JE DAKLE O SUB-KOLEKCIJI 'comments'

// I IZ NJE MOGU DA PULL-UJEM DATA TAKODJE


// **************   DAKLE, PRINCIP JE DOK 'IDEM' KROZ DATBASE, DA STALNO IMAM
// **************   POREDAK COLECTION PA DOCUMENTS

```

**DAKLE, MOGU IMATI KOLEKCIJU, I MOGU PRISTUPITI SVIM DOKUMENTIMA TE KOLEKCIJE**

**ILI MOGU PRISTUPITI ODREDJENOM DOKUMENTU, I TAJ DOKUMENT IMA SUBKOLEKCIJE U SVOM COLLECTION-U**

U OVOM SLUCAJU TO SU 'comments', AL ITO MOZE BITI BILO STA

**A MOGU PRISTUPITI, I UOVOM SLUCAJU, TACNO ONOM SPECIFIC COMMENT-U, KOJI ZELIM**

```javascript
firestore.collection('posts').doc('dfhfdhhDFHSGsg').collection('comments').doc('SDFFSDFdsfdssd')
```

DAKLE STALNO SE IDE KROZ COLLECTION -> DOCUMENT -> COLLECTION -> DOCUMENT STRUKTURU 

## AKO ME MRZI DA KUCAM, ODNOSNO CAHIN-UJEM TAJ COLLECTION -> DOCUMENT -> COLLECTION -> DOCUMENT... PROCES, JA MOGU KORISTITI PATH, ALI REC JE O ISTOJ IDEJI NARAVNO KAO I STO SAM MALOCAS OBJASNIO

DAKLE MOZE I OVAKO

```javascript
firestore.collection('posts/DSFsdfsdfsdfsdFSD/comments')

// ILI

firestore.doc('posts/DSFDFSdfDFSdfgdfgDF/comments/DFGhghgfGHgh')

// DAKLE, KAD GLEDAM 'PATH', JASNO MI JE KOJI JE PATTERN, ODNOSNO AKO JE METODA doc ODNA SE ZAVRSAVA PATH SA SPECIFICNIM ENCRIPTED STRINGOM

// A AKO JE TO collection, ONDA SE STRING ZAVRSAVA IMENOM KOLEKCIJE
```

DAKLE UMESTO KUCANJA METODA, MOGUCE JE KORISTITI, NESTO SIMILAR TO PATH ILI SIMILAR TO URL

## ORDERING, LIMITING, QUERYING

OVO MALO ZVUCI CUDNO ZA NOSQL DATABASE

ALI ZA SVAKI PROPERTI, FIREBASE CE UNDR THE HOOD KREIRA INDEX

STO ZNACI DA SE U NOSQL DOKUMENTU MOGU KORISTITI I SORT I FILTER I LIMIT ZA BILO KOJI PROPERTI

### ORDERING

```javascript
firestore.collection('posts').orderBy('createdAt', 'desc')
```

### LIMITING

```javascript
firestore.collection('posts').limit(10)
```

### QUERYING

```javascript
firestore.collection('posts').where('stars', '>=', 10)
```
