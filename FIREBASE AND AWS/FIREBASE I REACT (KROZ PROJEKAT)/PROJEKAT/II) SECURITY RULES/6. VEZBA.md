# U OVOJ VEZBI POZABAVICU SE PISANJEM SECURITY PRAVILA; I TO PRAVILO TREBA DA DEFINISE DA title NE SME DA BUDE "" (EMPTY STRING); ODNOSNO AKO title JESTE, KAO TAKAV POSLAT FIRESTORE-U, KAO DEO NOVOG DOKUMENTA, ODNOSNO NOVOG POST-A, TREBALO BI DA SE USTVARI DOGODI ERROR, I DA SE POST, ODNOSNO DOKUMENT, ZBOG TOG JEDNOG PROPERTIJA, NE PRIHVATI, ODNSONO DA NE BUDE create-OVAN

## NARAVNO TREBAS DA ZAPAMTIS SLEDECE: KADA NISTA NIJE UNESENO U input FIELD U HTML-U, I KADA ZELIS DA PROCITAS NJEGOV value; VIDECES DA JE NJEGOVA VREDNOST "" (EMPTY STRING)

OVO SAM REKAO JER SE MOZE DESITI DA UPADNES U DILEMU, PA POMISLIS DA TADA INPUT FIELD IMA value, KOJI JE undefined ILI null

E PA value JE "" (PRAZAN STRING)

## DA NSTAVIM DALJE

AKO IMA NEKE DILEME, title PROPERTI PREDSTAVLJA ONAJ PODATAK, ODNSNO SKLADISTI ONAJ STRING, KOJI JE KORISNIK UNEO U title FIELD, PRILIKOM FILLING IN-A, FORMULARA, I KOJI SE SUBMIT-UJE ZAJEDNO SA OSTALIM PODACIMA, KAO DEO POST OBJEKTA, KOJI SE DODAJE CLOUD FIRESTORE-U, ODNOSNO KOJI PREDSTAVLJA DOKUMENT, KOJI SE DODAJE 'posts' KOLEKCIJI

ONDA CU OTICI U Rules TAB U OKVIREU FIRESTORE DATBASE SEKCIJE

SITUACIJA OD RANIJE JE OVAKVA

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /posts/{postId} {
      allow read;
      allow create, update: if request.auth.uid != null;             // OVO ME DAKLE ZANIMA
      allow delete: if request.auth.uid == resource.data.user.uid;
    }
  }
}
```

JA BI TREBALO DA NADOGRADIM PRAVILO KOJE SE TICALO ALLOWING-A **create**-A

## NAIME, NAPOMINJEM DA JE I && OPERATOR, TAKODJE DOZVOLJEN U PRAVILIMA (GOVORIM O DELU SINTAKSE, KOJU PREDSTAVLJA if STATEMENT)

DAKLE create TREBA DA BUDE DOZVOLJEN I AKO DATA KOJI JE POSLAT SA CLIENTA IMA PROPERTI title KOJI NIJE ""

## JASNO JE DA OVDE MORAM PRISTUPITI INCOMING PODACIMA, JER TREBA DA SE UVERIM DA title, KOJE JE POSLATO SA OSTALIM PODACIMA, NIJE ""

## ZATO UPRAVO KORISTIM request.resorce.data, O KOJEM SAM GOVORIO U PROSLOM md FAJLU (GDE JE TEMA BIO IZMEDJU OSTALOG I request.resouce)

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /posts/{postId} {
      allow read;
      allow create, update: if request.auth.uid != null && request.resource.data.title != ""; // DAKLE DODAO SAM && OPERATOR, I PORED NJEGA, DODATNU LOGICKU IZJAVU, KOJA CE BITI TACNA, AKO POMENUTI title NIJE ""
      allow delete: if request.auth.uid == resource.data.user.uid;
    }
  }
}
```

ALI MOGAO BIH JOS REFAKTORISATI PRAVILO, KADA ZNAM DA JE "" (EMPTY STRING), USTVARI FALSY VALUE

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /posts/{postId} {
      allow read;
      allow create, update: if request.auth.uid != null && !request.resource.data.title; //  ! UZ PRAZAN STRING DAJE true
      allow delete: if request.auth.uid == resource.data.user.uid;
    }
  }
}

```

POMENUTO JE BIO 'JAVASCRIPT WAY OF DOING THINGS', I IPAK IAKO SE OVDE, U PRAVILIMA DATABASE-A, KAO STO SAM GOVORIO I RANIJE, NE RADI O JAVASCRIPT-U, IPAK JE SVE FUNKCIONISALO KAKO TREBA

## AKO SAD POKUSAM DA KREIRAM POST I DA PRI TOME NISAM UNEO DATA U INPUT TITLE FIELD, POST U CELOSTI NARAVNO (CEO DOKUMENT) NECE BITI PRIHVACEN, ODNOSNO NECE BITI create-OVAN U DATABASE-U
