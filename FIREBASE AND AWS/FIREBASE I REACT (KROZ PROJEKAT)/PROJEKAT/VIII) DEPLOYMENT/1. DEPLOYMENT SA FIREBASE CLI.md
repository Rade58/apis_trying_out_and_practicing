# DEPLOYMENT

OVDE CU SE PODSECATI, ONOGA STO SAM VEC RADIO U DRUGOM APP-U

TADA SAM KORISTIO [firebase-tools](https://github.com/firebase/firebase-tools)

## LETS PUT THIS THING TO THE INTERNET

[firebase-tools](https://firebase.google.com/docs/hosting/quickstart) PREDSTAVLJAJU, USTVARI FIREBASE-OV CLI (COMMAND LINE INTERFACE)

DAKLE CLI, KOJI SAM MOZDA POMENUO, OMOGUCAVA MI **LOCAL MANAGING OF WHOLE BUNCH OF STUFF, KOJE SAM RANIJE OBAVLJAO U DASHBORD-U, ODNOSNO FIREBASE KONZOLI**

TU JE NAIME

[firebase-admin](https://www.npmjs.com/package/firebase-admin) KOJEG SAM KORISTIO I KOJI MI DAJE NESTO OD DASHBORD-OVIH POWERS-OVA

DASHBORD NEMA NIKAKVIH SECURITY PRAVILA ("DASHBORD DIDN'T BEILIVE IN ANY SECURITY RULES"), DAKLE, TAM  SAM RADIO MNOGE STVARI, PO 'MANUELNOM PRINCIPU'... I TO JE BILO U REDU

OVI TOOLS-I CE MI OMOGUCITI DA SVE ONE STVARI KOJE SAM U DSASBORD-U RADIO MANUELNO, USTVARI URADIM PROGRAMMATICALLY

## MISLIM DA IH IMAM VEC INSTALIRANE, ALI OPET CU GLOBALNO INSTALIRATI firebase-tools I firebase-admin

- npm install -g firebase-tools firebase-admin

**firebase-tools** JE *CLI BINARY*

**firebase-admin** JE *SAMO LIBRARY KOJI MOGU DA KORISTIM*

## NAKON INSTALIRANJA PAKETA, PRVO STO MOGU URADITI, JESTE LOGGING IN

KUCAM

:computer: firebase login

POSTO SAM VEC LOGGED IN PISACE: Already logged in as b.radeBLAH@gmail.com

A IANCE MISLIM DA AKO NISAM LOGGED IN, OTVORICE SE BROWSER I OAuth, GDE CU SE MOCI LOGG-OVATI; I BICU POSLAT NAZAD DO COMMAND LINE-A, STO JE VEOMA NEAT

MISLIM DA JE ISTI SLUCAJ, KAO I KADA PRVI PUT KORISTIM GITHUB

TAMO (NA PATH-U) GDE SAM KREIRAO APP, KORISTECI create-react-app; TAMO KUCAM I SLEDECE

:computer: firebase init

**NAKON OVOGA, MOCI CU U SAMOM COMMAND LINE-U DA INICIJALIZUJEM FIREBASE-OV PROJEKAT**

SPACE-OM U COMMAND LINEU BIRAM KOJE PONUDJENE OPCIJE ZELIM DA IZABEREM

KROZ OPCIJE IDEM SA ARROW UP I DOWN

CONFIRM-UJEM SELEKCIJU SA ENTER

*ALI SVE IONAKO PISE*

## :one: PRVO CU DAKLE MORATI DA IZABEREM FIREBASE CLI FEATURES; ALI JA KADA VIDIM TE PONUDJENE STVARI (Storage, Firestore), MOGU ZAKLJUCITI DA SU TO STVARI KOJE JA VEC KORISTIM

**ALI NEMA VEZE, OVO CE SMAO PREKOPIRATI ONA PRAVILA I OPCIJE, KOJE SAM DEFINISAO U KONZOLI, I STAVICE IH U JSON FAJLOVIMA LOKALNO**

*TAKO DA CU ONDA BITI U MOGUCNOSTI DA EDIT-UJEM SECURITY PRAVILA NA MOJOJ MASINI, I DA IH ONDA PUSH-UJEM BACK TO*

**TO MI NA PRIMER DAJE PRISTUP I NECEMI STO SE ZOVE EMULATOR (STO SAM VEC VIDEO U KONZOLI KAD JE OTVORIM); ODNOSNO MOGUCE JE LOKALNO EMULATE-OVATI FIRESTORE; I KORISTITI TO ZA TESTIRANJA (DAKLE TAKO MOGU TESTIRARTI SECURITY RULES I PISATI UNIT TESTS) (STO JE VEOMA COOL)**

JA CU IZABRATI SLEDECE OPCIJE

- Firestore

- Fuctions (cloud Functions)

- Hosting

- Storage

**jedina stvar koju necu koristiti je *Database* (TO SE ODNOSI NA REALTIME DATABASE, KOJI ZAISTA NE KORISTIM U MOM PROJEKTU)**

## :two: SADA MI JE PONUDJENA LISTA PROJEKATA, KOJU IMAM POVEZANE SA FIREBASE-OM, PA BIRAM PRAVI

DO SADA IMAM DVA PROJEKTA

A MOJ TRENUTNI PROJEKAT , KOJI CU SAD IZABRATI U COMMAND LINE-U JE **think-clone**

## :three: SADA CU BITI UPITAN, KOJI TO FAJLA ZELIM DA KORISTIM ZA FIRESTORE SECURITY RULES

BICE VEC PONUDJENO IME firebase.rules

TAKO DA CU SAMO PRITISNUTI ENTER

## :four: PA CU BITI UPITAN, KOJI FAJL ZELIM DA KORISTIM ZA INDEX-E

STA JE TO?

FIREBASE INDEX-UJE , ANY PROPERTY OF AN OBJECT; ALI POSTOJI I NESTO STO SE ZOVE COMPOUND INDEXI

NE ZNA MSTA JE TO TAK ODA CU I OVDE PRISTISNUTI ENTER, JER VEC IMAM PONUDJENU OPCIJU

## :five: UPITAN SAM, KOJI JEZIK ZELI MDA KORISTIM U MOJIM CLOUD FUNKCIJAMA

NARAVNO, BIRAM JavaScript

DRUGA OPCIJA JE TypeScript

OVO JE I PODSETNIK DA BI TREBAL ODA NAUCIM TAJ TypeScriopt

## :six: SADA SAM UPITAN DA LI ZELIM DA KORISTIM ES LINT ZA CATCHING COMMON BUGG-OVA

JA CU IZABRATI **No**, JER JE TO I KINNEY IZABRAO

## :seven: SADA SAM UPITAN DA LI ZELIM, SADA DA INSTALIRAM DEPENDANCIES WITH npm

Yes

## SADA CEKAM DA SE SVE INSTALIRA, A KADA SE TO INSTALIRA BICE SETTED UP FOLDER ZA FIREBASE FUNKCIJE (functions FOLDER); BICE SVE SETTED UP, KAKO BI MOGAO DA KORISTIM firebase deploy; KAKO BI MOJ APP BIO DEPLOYED TO HTTPS SERVER (AKO SE SECAM OVOGA, SVAKI PUT KADA PROMENIM MOJ CODE I ZELIM DA TO BUDE DEPLOYED KORISTIM POMENUTU KOMANDU); I BICE DODATO JOS COOL STVARI

CISTO NAPOMINJEM DA CE SADA BITI DODAT I DRUGI package.json FAJL; JER SU U PITANJU SERVER SIDE FUNCTIONS (STO JE KINNEY REKAO SA QUOTATIONIMA-OVIME)

DOBRO TO SE SECAM I OD RANIJE

ALI OVO CE MOZDA .gitignore I VISUAL STUDIO CODE UCINITI, MALO ANGRY-JEM (PA TAK ODA CE MI TREBATI PODSETNIK DA REDEFINISEM STVARI IZ .gitignore-A) (PREDPOSTAVLJAM DA CU node_modules IZ functions FOLDERA, MORATI NAVESTI U .gitignore)

## :eight: SADA SAM UPITAN DA LI ZELIM DA public FOLDER

**NE NE I NE**

KADA NAPRAVIS PRODUCTION BUILD SVOG CODE-A, U SLUUCAJ UREACT APLIKACIJE; WEBPACK CE STAVITI BUNDLE U **build** FOLDER

ZATO UPISI **build** I PRITISNI ENTER

build DIRECTORY JE ONAJ DIREKTORIJUM, KOJ IZELI MDA PUSH-UJEM TO THE INTERNET

AKO SAM ZABORAVIO, JA PRODUCTION CODE, U SLUCAJU REACTA, PRAVI MSA KOMANDOM: *react build*

**OVDE KAD AIZABEREM build KAO FOLDER, MOGU BITI DODATNO UPITAN DA LI ZELI MDA OVERWRITE-UJEM index.html IZ build FOLDERA, KOJ ITAMO POSTOJI (PA AKO VEC IMAM SPREMAN BUILD, NE VIDI MRAZLOG DA GA TREBAM OVERWRITE-OVATI)**

## :nine: SADA SAM UPITAN DA L IZELIM DA KONFIGURIRAM MOJ APP, KAO SINGLE PAGE APP

OVO JE ISTO IMPORTANT, JER CE TO REWRITE-OVATI SVE URL-OVE

MEDJUTIM, MISLIM DA JA NEMAM NI JEDAN APSOLUTNI URL

**DAKLE OVDE BIRAM Yes , KONKRETNO ZBOG REACT ROUTER-A, JER TO CE MU DOZVOLITI DA PRAVILNO OBAVI POSAO**

SVE CE ICI NA index.html I ROUTER CE URADITI SVOJ USTVAR; AND FIGURES OUT THE REST FOR US

## :ten: SADA SAM UPITAN, KOJI FAJL ZELIM DA KORISTIM ZA STORAGE RULES

BIRAM PONUDJENI storage.rules

## FIREBASE INITIALIZATION JE OVIM, COMPLETE-OVANA

OSTA JE MI DA DODAM functions/node_modules U .gitignore

STO BIH MOGAO ODRADITI IZ COMMAND LINE-A .gitignore U TEXT EDITOR-U (USTVARI MOGU TO U GIT BASH-U) (KINNEY KORISTI VIM ZA OVO, A JA VIM NE ZNAM), ALI NECU

KAKO DA KORISTIM GIT BASH ZA KREIRANJE I EDDIITING FAJLOVA URADIM, MOGU SAZNATI IZ [OVOG VIDE-A](https://www.youtube.com/watch?v=CaJYuRgRQxg)

DAKLE U .gitignore FAJLU, DEFINISACU ZA #dependancies SLEDECE

- functions/node_modules
