# KAKO PODESITI SAMBASHARE NA LUBUNTU-U ILI BILO KOM LINUX OPERATIVNOM SISTEMU

OVDE SAM VEC NESTO PISAO O TOME

<https://github.com/Rade58/apis_trying_out_and_practicing/blob/master/SAMBA/SAMBA.md>

ALI HAJDE DA PONOVIM

DAKLE POCECU OD INSTALACIJE

- `sudo apt update`

- `sudo apt install samba`

(PROVERI DA L ITI TREBAJU I OVO PAKETI SA SAMBOM `samba-common python-glade2 system-config-samba`)

- `whereis samba`

## KREIRAJ FOLDER ZA SHARING

- `mkdir <path novog folder-a>` (AKO IMAS VEC POSTOJECI KOJ IZELIS DA SHARE-UJES NE MORAS NISTA DA KREIRAS)

# DA NE ZABORAVIS MOZES ODMAH DA OMOGUCIS DA BILO KO MOZE DA MENJA TAJ FOLDER

DESNIM KLIKOM PRITINI NA NJEGA I PRONADJI PERMISSIONS IS SVE STAVI NA `ANYONE` ILI KAKO GOD BILO U TVOM DISTRO-U

JER TO SE OBICNO ZABORAVI PA KASNIJE SE PITAS ZASTO NEMAS PERMISSION

# I DA NE ZABORAVIS 

## KONFIGURIRANJE `/etc/samba/smb.conf`

- `sudo nano /etc/samba/smb.conf`

TAMO DODAS OVAKO NESTO

```
[sambashare]
    comment = Neki tvoj share blah
    path = <path do foldera za sharing>
    read only = no
    browsable = yes
```

SADA RESTARTUJE SAMBU

- `sudo service smbd restart`

DOZVOLIS JE U UNCOMPLICATED FIREWALL-U

- `sudo ufw allow samba`

## KORISCENJE (POTREBNO JE U FILE MANAGER-U, KAO STO JE I `Pc Man` UNETI URI)

PA POTREBNA TI JE IP ADRESA TVOG RACUNARA, NA KOJEM SHARE-UJES FILE

A CAK TAMO GDE JE SAMBASHARE POKRIVENA SA GUI-EM KAO U VERZIJAMA LUBUNTU-A 19 I 20, TI MZOES I VIDETI I STRING URI NA KOJIMA JE SHARE 

AKO TO NE VIDIS STO SIGURNO I NECES VIDETI U VERZIJI 18 LUBUNTU-A ONDA KUCAJ URI, KOJI SE SASTOJI OD IP-A

**PRONADJI SVOJU IP ADRESU**

- `ifconfig`

**ZATIM U ADRESS BAR-U FILE MANAGER-A KUCAJ**

`smb://<ip-adresa-gde-je-ono-sta-se-share-uje>`

# AKO TI OVO NE RADI TI KREIRAJ ONDA WORKGROUP, SA SECURE SHARE-OM, STO MISLIM DA JE CAK I BOLJI PRINCIP (U OVOM SLUCAJU TI PODESAVAS USER-A I PODESAVAS SIFRU)

TO SAM SAZNAO IZ [OVOG TUTORIJALA](https://www.techrepublic.com/article/how-to-set-up-quick-and-easy-file-sharing-with-samba/)

NASLOV **`Adding password-secured shares`**, IZ POMENUTOG TUTORIJALA

*DODAVANJE GRUPE*

- `sudo addgroup <ime grupe>` (NARAVNO MORAS IMATI SAMBU PREDHODNO INSTALIRANU, ALI TO TI JE VEC JASNO)

*DODAVANJE USER-A ZA GRUPU*

- `sudo useradd <zeljeni username koji kriras> -G <ime grupe>`

*DODAVANJE PASSWORD-A ZA, POMENUTOG USER-A*

- `smbpasswd -a <username koji si malocas kreirao>`

**OTVORICE TI SE PROMPT ZA PASPORD, PA TI UNESI PASSWORD KOJI VOLIS I ZAPAMTI GA**

*DEFINISANJE PERMISSIONA ZA FOLDER*

OVO TI JE DA SAMO USER IZ POMENUTE GRUPE MOZE DA READ I WRITE-UJE U FOLDER

- `sudo chmod -R 0770 <path do folder-a>` (AKO TE ZANIMA STA JE URADDJENO IDI NA DESNI KLI KNA FOLDER PA POGLEDAJ PERMISSIONS)

*MENJANJE OWNERSHIPA ZA FOLDER* (TI TAJ OWNERSHIP ZELIS DA ZADAS ZA USER-A KOJEG SI MALOCAS KREIRAO U GRUPI KOJU SI KREIRAO)

- `sudo chown root:<ime grupe> <path do foldera>` (**OVO ZNACI DA SAMO ROOT USER (`sudo`), A KOJI JE TAKODJE USER IZ POMENUTE GRUPE (`dakle kada koristis username koji si kreirao`), MOZE READ-OVATI I WRITE-OVATI U FOLDER KOJI SI NAVEO**)

*KONFIGURIRANJE SAMBE*

- `sudo nano /etc/samba/smb.conf`

UNOSIS SLEDECE

```
[SECURED]

  path = <path do folder-a>
  valid users = @<ime grup u koju si dodao usera>
  browsable = yes
  writable = yes
  read only = no
```

**RESTARTUJ**

- `sudo service smbd restart`

***

**AKO SE SECAS LUBUNTUA GDE IMAS GUI SAMBE TAMO CE TI ZA GROUP-U PISATOI UVEK `WORKGROUP`** E PA TI `TO ZAMENI SA GRUPOM KOJU SI KREIRAO`

***

## AKO PREKOPIRAS NEKI FOLDER SEBI NA RACUNAR I ONDA NE MOZES DA GA KORISTIS JER NEMAS PRAVO NA NJEGA

TO U TERMINALU MOZES DA URADIS SA KOMANDOM

- `sudo chown -R $USER <path do foldera>`
