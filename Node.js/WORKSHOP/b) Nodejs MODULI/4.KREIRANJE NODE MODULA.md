# KREIRANJE Nodejs MODULA

******

NOTE:

NAMERNO CU SE OVDE POZABAVITI I PISANJEM ESM MODULE-A U TYPESCRIPT-U, KOJ ICE ONDA BITI TRANSPILED U CommonJs

******

DAKLE TO JE REGULARNI CODE, KOJ ISE MORA EXPORT-OVATI

SAV TVOJ Nodejs CODE, ALREADY JESTE MODULI, STO SAM OBJASNIO U PROSLOJ LEKCIJI

## JEDINA STVAR KOJU TREBAM RAZMISLATI JE **"IMAM SAV OVAJ CODE...A STA USTVARI OD TOGA JA ZELIM DA SHRE-UJEM?"**

MOGU DECIDE-OVATI STA SE IZ MOG CODE-A EXPORT-UJE

## ALI TO JE SAMO ZA SHARING; A STO SE TICE TESTING-A, TI MORAS SVE EXPORT-OVATI

U SUSTINI IT'S UP TO ME, KAO AUTOR MODULA DA ODLUCIM **STA CE BITI AVAILABLE ZA DRUGE MODULE**

## ONO STO KORISTIM JE module GLOBAL OBJECT PROVIDED BY Nodejs RUNTIME

CIST JAVASCRIPT (ODNOSNO Node)

```typescript
const dodaj = (broj1, broj2) => {}

const oduzmi = (broj1, broj2) => {}

const nijePublic = () => {}     // OVO NECU EXPOR-TOVATI

// EVO KAKO MOGU KORISITI EXPORT
module.exports = {dodaj, oduzmi};

// VREDNOST POMNUTOGA MOZE BITI BILO KOJA, TO NE MORA BITI SAMO OBJEKAT

// AKO JE VREDNSOT BILO KOJA ON


```

## GORNJI PATTERN KOJI AUTOR WORKSHOPA STALNO KORITI, NAZIVA SE JOS I 'REVELING MODULE PATTERN'

DAKLE NA DNU SE OBICNO DEFINISE EXPORT, I NA TAJ NACIN AKO NESTO ZELI MDA DODAM SASVIM JE LAKO

I SVE JE REVEALING, I LAKSE SE SNACI

LAKSE JE REFERENIRATI STVARI ZA EXPORT

I EXPORT-OVANJE JE ODVOJEN-O OD OSTATKA CODE-A

**A IMPOTOVANJE BI SE DEFINISALO NA SAMOM POCEKU CODE-A**

I JA CU KORISTITI OVAJ PATTERN

## ALI AKO PISEM ESM, JA UOPSTE NE MORAM DA VODIM RACUNA NA POMENUTI PATTERN

MOGU RADITI STA ZELIM

EVO GA TO ISTO U TypeScript-U

## AUTOR WORKSHOPA NE PREPORUCUJE KORISCENJE exports (SHORTHAND-A), VEC SAMO module.exports

## :collision: NEMOJ DA KORISTIS DEFAULT EXPORT AKO BUDES KORISTIO STRIKNO CommonJs :collision:

*OVODE GOVORIM SAMO AKO DODJES U ZABLUDU PA ZELIS DA KORISTIS DEFAULT EXPORT SA NAMED EXPORTIMA I OCEKUJES DA CE SVE BITI U REDU* (E PA MOZES DA POGRESIS)

IMAJ NA UMU DA ZA RAZLIKU OD ESM-A, OVDE LAKO MOZES OVERWRITE-OVATI NAMED I DEFAULT EXPORT-E

EVO POSMATRAJ PRIMER

practice.js

```javascript

const a = 4;
const b = 6;

const funkcija = function(){

}


// OVO BI BIO POGRESAN PATTERN
// NAMED EXPORTS

module.exports.a = a;
module.exports.b = b;

// NEMA SUMNJE DA ONO STO SI GORE DEFINISAO ZA EXPORT USTVARI VISE NE POSTOJI
module.exports = funkcija


// DAKLE SAMO KORISTI 'REVELING MODULE PATTERN', KADA NA PRIMER NE TRANSPILEUJES NISTA
// ODNOSNO SAMO NAMED EXPORTS

```

## ALI ESM RESAVA PROBLEM GORE POMENUTI PROBLEM; ODNOSNO MOGU BITI SLOBODNIJI

*practice.ts*

```typescript

export const broj :number = 48;
export const rec :number = "foo bar";



export default function(a: string){

}

```

EVO GLEDAJ OVO

MOZES OVAKO NESTO DA URADIS

*index.ts*:

```typescript
import {broj, rec} from './practice';

// A AKO ZELIS SAM ODEFAULT EXPORT URADIS SLEDECE

import nekaFunkcija from './practice';


```

!!! **NASTAVLJAM SUTRA DALJE SA TYPESCRIPTOM**













ON OSTO MOGU PROVERITI JESTE, U STA SE TRANSPILE-UJE TypeScript

I ZAISTA JE TAKO KAK OSAM REKAO

```typescript
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.dodaj = (broj1, broj2) => { };
exports.oduzmi = (broj1, broj2) => { };
```