# KREIRANJE DOKUMENTA

GOVORIO SAM O SCHEM-AMA, I TOME KAKO KORISTIM SCHEMA ZA CREATING MODELA

item.model.js

```javascript
import mongoose from 'mongoose'

const itemSchema = new mongoose.Schema(
  {
    name: {
      type: String,
      required: true,
      trim: true,
      maxlength: 50
    },
    status: {
      type: String,
      required: true,
      enum: ['active', 'complete', 'pastdue'],
      default: 'active'
    },
    notes: String,
    due: Date,
    createdBy: {
      type: mongoose.SchemaTypes.ObjectId,
      ref: 'user',
      required: true
    },
    list: {
      type: mongoose.SchemaTypes.ObjectId,
      ref: 'list',
      required: true
    }
  },
  { timestamps: true }
)

// itemSchema.index({ list: 1, name: 1 }, { unique: true })

export const Item = mongoose.model('item', itemSchema)

```

**A OVDE CU GOVORITI O TOME KAKO DA UPOTREBIM MODELE**

## KAKO UPOTRBITI MODEL

Mongoose-OVI MODELI RADE ODLICNO SA CRUD-OM

NAIME SVAKI MODEL CE FUNKCIONISATI ISTO, TU SE MISLI NA TO DA SVAKI MODEL IMA ISTE METODE; BEZ OBZIRA KAKO SCHEMA IZGLEDALA

## OBJASNJENJA ZA NEKE METODE METODE NA MONGOOS-OVAOM MODELU, I KAK OSU TE METODE TIE-UJU IN WITH CRUD

### :one: CREATE (TO JE 'C' U CRUD-U):

- model.create() &nbsp;&nbsp;&nbsp;&nbsp; *OVO KORISTI AUTOR TUTORIJALA*

- new model() &nbsp;&nbsp;&nbsp;&nbsp;

```javascript
Item.create(/* niz dokumenata ili jedan dokument */) // OVDE SI KAO STO VIDIS PRIMENIO METODU NAD MODELOM KOJ ISI KREIRAO RANIJE
```

DAKLE POMENUTIM METODAMA (ODNOSNO KORISTICU SAMO JEDNU METODU), KREIRASE JEDAN IL IVISE UNOSA U DATABASE

KADA SAM HOVER-OVAO PREKO METODE KADA SAM JE UPOTREBLJAVAO, VIDEO SAM OVO

>> Shortcut (MISLI SE NA create() METODU) for saving one or more documents to the database. MyModel.create(docs) does new MyModel(doc).save() for every doc in docs. Triggers the save() hook.

DAKLE METODA MOZE KREIRATI JEDAN ILI VISE DOKUMENATA U DATABASE-U (MOZE JOJ SE DODATI NIZ DOKUMENATA ILI JEDAN DOKUMENT, KAO ARGUMENT)

**AKO SI ZBUNJEN TREAB DA ZNAS DA CES TI OVE METODE KORISTITI U CONTROLLER-U**

**OVE METODE JESU SINHRONE I ZATO JE NAJBOLJE DA TI KONTROLER BUDE asinc GUNKCIJA, A TI CES AWAIT-OVATI OVAJ CREATING DOKUMENTA**, ovako:

await model.create

**DAKLE BEZ OBZIRA OD MODELA SVE SE ISTO IZVRSVA, SVE IMA ISTE METODE**

*NARAVNO AKO JEDAN MODEL IMA DRUGACIJE VALIDACIJE (TO TI JE SCHEMA(TADA SI DEFINISAO VALIDACIJE)), A TI CREATUJES NESTO STA IMA DRUGACIJU VALIDACIJU, BIO BI THROWN ERROR*

*DAKLE MONGOOSE NORMALIZUJ MOJE SCHEMA-E, KAKO BIH IH MOGAO KORISTITI GENERALIZOVANO*

### :two: READ (TO JE 'R' U CRUD-U):

