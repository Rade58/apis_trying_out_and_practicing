# EXPRESS-OV Response OBJEKAT

POCECU OD ONOG ISTOG PRIMER-A, ODNSNO OD ISTOG PRIMERA U WORKSHOP-U

```javascript
│   index.js
│   server.js
│
└───resources
    └───item
            item.controllerss.js
            item.model.js
            item.router.js        // TACNIJE OD OVOG FAJLA
```

```javascript
import { Router } from 'express'
import controllers from './item.controllers'

const router = Router()

router
  .route('/')
  .get(controllers.getOne)      // OVDE CU DA PROSLEDIM CONTROLLER, UMESTO OVOGA
                                // JER ZELIM DA DEFINISEM KONTROLER, KAKO BI SE MOGAO PLAY-OVATI AROUND U NJEGOVOM OBIMU
  .post(controllers.createOne)

router
  .route('/:id')
  .get(controllers.getOne)
  .put(controllers.updateOne)
  .delete(controllers.removeOne)

export default router
```

**EVO DAKLE DEFINISEM CONTROLLER**

```javascript
import { Router } from 'express'
import controllers from './item.controllers'

const router = Router()

router
  .route('/')
  .get((req, res) => {
    // KADA PRITISNEM TACKU U SUGESTIJAMA MOGU VIDETI RAZNE METODE I RAZNE PROPERTIJE
    // NARAVNO ONO STO SAM KORISTIO RANIJE BILA JE      send    METODA, KOJA JE SLUZILA DA POSALJEM NEK IARBITRARY DATA
    // DAKLE POSTOJI A LOT OF STUFF NA RESPONSE OBJEKTU, U OVOM KONTROLER-U
    res.

  })
  .post(controllers.createOne)

router
  .route('/:id')
  .get(controllers.getOne)
  .put(controllers.updateOne)
  .delete(controllers.removeOne)

export default router
```

## JEDAN ODA NAJKORISNIJIH JESTE          res.**status()**

ON JE NOVIJA STVAR ZA EXPRESS, A OMOGUCAVA MI DA PODESIM STATUS CODE, RESPONSE-A, KOJEG ZELI MDA SEND-UJE BACK

NEKE OD VREDNOSTI SU: *200, 404*

DAKLE TI OVDE **NE RESPOND-UJES, VEC SETT-UJES STATUS CODE, BEFORE YOU RESPOND**

AKO ZELIS DA END-UJES RESPONSE, MOZES DA PRIMENIS end METODU, NA SLEDECI NACIN

```javascript
router
  .route('/')
  .get((req, res) => {
    // OVAKO
    res.status(404).end()
  })
```

A MZOES END-OVATI I NA SAMOM RESPONSE OBJEKTU

```javascript
router
  .route('/')
  .get((req, res) => {
    // OVAKO
    res.end()
  })

// OVDE NECE POSTOJATI NIKAKAV MESSAGE KOJI CE BITI SENT BACK
// DAKLE SAMO CE SE END-OVATI
```

- `status()` JE ODLICAN ZATO STO JE CHAINABLE, I UVEK RETURN-UJE **Response** OBJEKT ITSELF

```javascript
router
  .route('/')
  .get((req, res) => {
    // OVAKO
    res.status(404).send({message: 'not found'})
  })

```

**send** *JE DOBAR JER I POKUSAVA DA SAZNA KOJ ITYPE OF DATA ZELIS DA SEND-UJES BACK; DA LI JE JASNON, STRING, ILI NESTO, ILI NEKI TYPE FILE-A*

ALI POSTOJE **EKSPLICITNIJI NACINI DA SE TO DEFINISE, TAKO STO BI NA PRIMER KORISTIO**

- json METODU

STO BI ZNACILO DA EKSPLICITNO ZNACILO: 'ZELIM DA POSALJEM SOME JSON'

```javascript
router
  .route('/')
  .get((req, res) => {
    // OVAKO
    res.status(404)..json({message: 'not found'})
  })

```

TADA CE BITI PODESENA APROPRIATE JSON HEADERS I TAKVE STVARI

**ALI MOST OF THE TIME MOGU KORISTITI send I, (ZATO STO OVO NIJE API KOJOI ONLY SEND-UJE JSON), I SMART JE TOLIK ODA ZNA DA JA SAMO SALJEM JSON, I CONVERT-OVACE U JSON (?)**

*ALI AK OSERVE-UJEM STATIC ASSETS SA NODE-OM I EXPRESS-OM, **STO HIGHLY NIJE RECOMANDED (SCOTT TO NIKAD NE RADI)** JA NE BI MOGAO KORISTITI SAMO SEND VEC BI MORAO PODESITI **mimeType** I MOZDA NEKE RAZLICITE HEADER-E, KAKO BI BROWSER i OSTLI CLIENTI MOGLI DA CITAJU TAJ TIP FILE-OVA*

>> You can't send back a JavaScript file as a string and not set the type to JavaScript, then the browser can't read it.

