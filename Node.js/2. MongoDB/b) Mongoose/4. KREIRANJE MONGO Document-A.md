# KREIRANJE MONGO Document-A

DAKLE SADA CU VIDETI, KAKO DA URADIM NEKE INSERT-OVE I NEKE QUERY-JE

## KONEKTOVACU SE PRVO NA DATBASE-JER NE MOGU NISTA DA URADIM BEZ CONNECT-A

test.js FAJL

```javascript
const mongoose = require('mongoose')

const connect = () => {
  return mongoose.connect('mongodb://localhost:27017/whatever')
}

const student = new mongoose.Schema({
  firstName: String
})

const Student = mongoose.model('student', student)


//  EVO POZIVAM connect FUNKCIJI I NE ZABORAVI DA JE POVRATNA VREDNOST PROMISE (RESOLVED CA OBJEKTOM
// KOJI REPREZENTUJE KONKCIJU I TO MI BOZE BITI HANDY)


connect()
  .then(async connection => {

  })
  .catch(error => {
    console.error(error)
  })


```

## POSTOJI NEKOLIKO NACINA DA SE KREIRA DOKUMENT, ALI PREFERED WAY JE DA SE PRIMENI **create** METODA NA MODELU

```javascript
const mongoose = require('mongoose')

const connect = () => {
  return mongoose.connect('mongodb://localhost:27017/whatever')
}

const student = new mongoose.Schema({
  firstName: String
})

const Student = mongoose.model('student', student)

connect()
  .then(async connection => {

    // BICE RETURNED Promise RESOLVED SA Document-OM
    // I OVDE JE await SINTAKSA VEOMA HANDY

    const student = await Student.create({
      firstName: "Skatman"
    })

    console.log(student)
    // KAO STO VIDIS SAMO SAM PASS-OVAO OBJECT, KOJI FULFILS SCHEMA-U KOJU SAM KREIRAO

  })
  .catch(error => {
    console.error(error)
  })


```

KADA GLEDAS GORNJI SCHEMA, JSNO TI JE DA TI JESI ZADO NEKI TIP ZA FIELD ALI TI NISI DODAO NIKAKVE VALIDACIJE

ZATO BI SVE BILO U REDU I DA SI ZADAO PRAZAN OBJEKAT, KAO ARGUMENT create METODE (`Student.create({})`)

JEDINA STVAR KOJI BI TAJ Document IMAO BIO BI **_id**

JER KADA KREIRAS Document, ONO STO SE GENERISE, JESTE NJEGOV **_id**

U OVOM SLUCAJU OTHER THAN THAT, THERE'S NOTHING ON IT

## IN ORDER TO RUN SVE STO SAM DEFINISAO MORAM SE POSTARATI DA MOJ MONGO SERVER IS ACTUALLY RUNING (SAMA MongoDB INSTANCA ITSELF)

ZA OVO JE SCOTT MOSS KORISTIO NESTO STO JA NE MOGU KORISTITI JER JE INSTALIRAO MONGO SA [HOMEBREW-OM](https://docs.brew.sh/Installation) (JA SAM NA WINDOWS-U 7 I ZATO NE MOGU OVO INSTALIRATI)

U SUTINI U PITANJU JE NEKI LAUNCH ROCKET GUI, GDE MOZE VIDETI STA MU JE POKRENUTO

**JA MORAM KORISTITI ILI TERMINAL ILI WINDOWS/SERVICES ZA STARTING MONGO-A**

U TERMINALU MORAM OTICI OPET U ONAJ FOLDER GDE JE INSTALIRAN MONGO, PA U NJEGOV bin FOLDER I TAM OSTARTUJEM mongod

JA SAM [PODESIO ENVIROMENT VARIAJBLU SA PATHOM RANIJE](https://github.com/Rade58/apis_trying_out_and_practicing/blob/master/Node.js/2.%20MongoDB/a%29%20INTRO/1.%20Compass%20I%20Shell.md#mongodb-shell) TAK ODA MOGU KUCATI SAMO SLEDECE U POWER SHELL-U

- cd $env:mgdb

- ./mongod (POSTO MENI RUNN-UJE MONGODB OVO JE SAMO IZVRSILO I EXITOVALO (DA NIJE HANGOVALO BI))

MEDJUTIM VIDEO SAM DA POKRETANJE ./mongod BAS I NE FUNKCIONISE, I DA JE NAJBOLJE POKRENUTI SERVER TAKO STO ODEM U Services NA WINDOWS-U,  ITAMO POKRENEM MONGODB SERVER (AKO POGLEDAM MALO U SERVICES, VIDECU DA SE MONGODB SERVER POKRECE ON STARTUP WINDOWS-A)

## SADA MI SAMO OSTAJE DA EXECUTE-UJEM ONAJ FAJL GDE SAM PISAO MOJ CODE

EXECUTE-UJEM GA NARAVNO KAO CLI EXECUTABE WITH BASIC Nodejs

- node test.js

**VIDECU DA JE U TERMINAL USTAMPAN OBJEKAT (ZADA OSAM DA SE KREIRANI Document STAMPA) I DA TERMINAL HANGS**

```linux

{ _id: 5dc72b79cb447d01fc3f5018, firstName: 'Skatman', __v: 0 }

```

U SLEDECM MD FAJLU, BAVICU SE OBJASNJAVANJEM DOK POSMATRAM OVAJ OBJEKAT, ODNSNO ZELI MDA DISECT, POMENUTI OBJEKAT

