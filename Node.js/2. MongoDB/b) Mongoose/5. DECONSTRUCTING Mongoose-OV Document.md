# DEKOSTRUCTING Mongoose-OV **Document**

U PROSLOJ MD FAJLU POKAZAO SAM KAK OSE KREIRA MONGOOSE Document

I DEFINISAO SAM DA SE ON STAMPA

SADA CU VIDETI STA JE NA TOM OBJEKTU

```linux

{ _id: 5dc72b79cb447d01fc3f5018, firstName: 'Skatman', __v: 0 }

```

## _id (OBJECT ID)

OVO POTICE OD MONGO-A

PO DEFAULTU CE MONGO DA KREIRA _id ZA SVAK ISINGLE DOKUMENT (OVO NEMA VEZE SA SAMOM Document INSTANCOM Mongoose-A)

MOZE SE TURN-OVATI OF DA MONGO PRAVI OVKAV ID

The first thing is you see this _id. By default Mongo is gonna create _id for every single document that you save in the database by default. You can turn that off and you can make it do whatever you want. But my default it's gonna be _id, and its value is gonna be something that's called an object id.

### OBJECT ID JE NESTO STO POTICE OD PAKETA KOJ ISE ZOVE **BSON**

TO JE NESTO STO MONGO KORISTI (O TOME CU U NEKOM DRUGOM MD DOKUMENTU)

>>>> object representation of a unique id

I TO MONGO KORISTI ZA SVOJE ID-JEVE

TAKO DA NECES MORATI DA SE MUCIS DA KAKO DA FIGURE-UJES OUT, KOJI JE PRIMARY ID DOKUMENT-A (TO JE VEC URADJENO ZA TEBE)

## SLEDECA STVAR KOJU MOZES DA PRIMETIS ONO STO SI TI ZADAO DA BUDE TVOJ DATA KOJI SI POHRANIO U DATBASE

U PITANJU JE SAMO PROPERI firstName I ODGOVARAJUCA VREDNOST

## __v (DUPLI UNDERSCORE PRE v)

OVO NAJVEROVATNIJE NIKADA NECES KORISTITI

TO IMA VEZE SA VERZIRANJEM SCHEMA-E SCHEME-A

SCOTT MOSS OVO NIKAD NIJE KORISTIO IN PRODUCTION

CAK (PREDPOSTAVLJAM DA JE MISLIO KADA QUERY-UJEM I SERVE-UJEM DATA U RESPONSE-U) UVEK STRIP THIS PART OUT

>>>> it's misconceiving

AKO TI TREB VERSIONING

>> handle the versioning yourself (with migrations or what ever approach you wanna do) and not allow Mongo handle i

## I TO JE SVE STO CU NAJCESCE VIDETI NA Document-U

>>>> If we had more fields, obviously, we would see more fields here (MISLI SE NA FIELDS KOJE JA ZADAJEM)

## VALIDACIJA SE NARAVNO OBAVLJA OUTSIDE OF DATBASE-A (AKO SE SECAS PROBAO SI TO U RANIJEM WORKSHOP-U)

## POMENUTI OBJEKAT (Document) KOJI SAM OUTPUT-OVAO U TERMINALU NIJE REGULAR JAVASCRIPT OBJEKAT (MISLIM NA Object INSTANCU (ON NIJE TO ALI INHERITS FROM IT))

TO JE ONO STO SE NAZIVA Mongoose-OV **Document**

**NA TOM OBJEKTU NALAZI SE BUNCH OF STUFF KOJI NIJE LOGGED OUT**

NE MOZES DA VIDIS TE STVARI JER TE STVARI NISU *enumerable*

******

OVOGA MORAS DA SE SETIS

KADA U JAVASCRIPT-U LOGG-UJES OBJEKAT, SAMO VIDIS PROPERTIJE TOG OBJEKTA, KOJI SU ENUMERABLE

******

DAKLE *mongoose.Document* INSTANCA **NOSI I NEKE RAZLICITE METODE I PROPERTIJE KOJE SU DATBASE RELATED (KOJE JE DOBIO OD MONGO-A)**

I JA MOGU KORISTITI TE METODE I PROPERTIJE, TO DO SOME THINGS TO OPERATE ON Document

## ZATO STO NE VIDIM TE PROPERTIJE I METODE PONEKAD JE POZELJNO Document INSTANCU CONVERT-OVATI U JSON FORMAT

TO CU URADITI MNOGO KASNIJE IZ RAZLOGA STO ZELIM DA OBAVLJAM MATCHING FIELDS-OVA I ID-JEVA; I KADA SVI POMENUTE NON ENUMERABLE PROPERTIJE BILI VISIBLE, TO BI MALO MESS-OVALO THINGS UP

TAKODJE TO BI USPORILO I DATBASE AKO BI PASS-OVAO NON ENUMERABLE STVARI IN MEMORY

## DAKLE JOS JEDNOM DA SE RAZUMEMO Document POTICE OD Mongoose-A

MONGOOSE SITS O NYTOP OF MONGO, I PROVIDE-UJE M IALL TIPES OF RAZLICITIH TOOL-OVA, METODA I HELPERA KOJI VIRTUALIZUJU SVE KAKO BI BILO LAKSE

A MONOGO SAM PO SEBI SPITS OUT JSON, I TO JE SVE STO RADI, I NE RADI NISTA DRUGO

**MONGO SAVES JASON AND SPITS OUT JSON**

*MONGOOSE-OV Document UZIMA JSON IZ DATABASE-A I UZ TO NA SEBI SVE METODE I HELPERE I PROPERTIJE, KOJE TI PROVIDE-UJE ZA LAKSU INTERAKCIJU*

