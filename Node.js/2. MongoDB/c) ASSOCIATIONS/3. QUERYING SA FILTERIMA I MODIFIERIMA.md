# QUERYING SA FILTERS AND MODIFIESRS

POCECU OD PROSLOG PRIMERA, A DODACU JOS PROPERTIJA U School SCHEMA- SCHEMA-U

OVO CE USTVARI BITI SVE STO MI TREBA PRE NEGO STO SE POZBAVIM RAZLICITIM METODAMA

```javascript
const school = new mongoose.Schema({
  name: String,
  openSince: Number,
  students: Number,
  isGreat: Boolean
})

const School = mongoose.model('school', school)

connect()
  .then(async connection => {

    try{

      // OVDE CU ISPROBAVATI METODE

    }catch(error){

        console.error(error)

    }

  })
  .catch(error => {
    console.error(error)
  })
```

## :one: MOGU CE JE DODAVANJE (KREIRANJE) VISE DOKUMENATA OD JEDNOM

METODA

- model.create

MOZE UZIMATI I NIZ OBJEKATA, KAO ARGUMENT

```javascript
const school = new mongoose.Schema({
  name: String,
  openSince: Number,
  students: Number,
  isGreat: Boolean
})

const School = mongoose.model('school', school)

connect()
  .then(async connection => {

    try{
      
      // DVA OBJEKAT U SKLAD USA SCHEMA-OM
      const school1 = {
        name: "Btigieg",
        openSince: 1988,
        students: 8228,
        isGreat: true
      }

      const school2 = {
        name: "aOC",
        openSince: 2009,
        students: 480,
        isGreat: true
      }

      // KREIRACU DVA DOKUMENTA ODJEDNOM

      const schools = await School.create([school1, school2])
      
      // BICE STMAPAN NIZ SA DVA NOVOKREIRANA DOKUMENTA
      console.log(schools)

    
    }catch(error){

        console.error(error)

    }

  })
  .catch(error => {
    console.error(error)
  })

```

ONI OBJEKTI U SKLADU SA SCHEMA-OM BI BILI PRIHVACENI I DOKUMENTI BI BILI SAVED, A ONI KOJI NISU NE BI BILI CREATED 

U MOM SLUCAJU OBA SU U SKLADU SA SCHEMA-OM

## ONO STA SADA ZELIM DA URADIM JESTE NEKI TIP FILTERINGA, PRILIKOM QUERYING-A

DAKLE ONO PO CEMU FILTRIRAM JESU NARAVNO VREDNOSTI FIELD-OVA

**POSTOJI SPECIJALNA NOTACIJA KOJU TADA MOGU DA KORISTIM**

NA PRIMER, KADA ZA FIELD ZADAM

- {$gt: 500}

**TO ZNACI DA VREDNSOT MORA BITI GREATER THEN 500**

```javascript
const school = new mongoose.Schema({
  name: String,
  openSince: Number,
  students: Number,
  isGreat: Boolean
})

const School = mongoose.model('school', school)

connect()
  .then(async connection => {

    try{

      const school1 = {
        name: "Btigieg",
        openSince: 1988,
        students: 8228,
        isGreat: true
      }

      const school2 = {
        name: "aOC",
        openSince: 2009,
        students: 480,
        isGreat: true
      }

      const schools = await School.create([school1, school2])


      // evo ovde cu obaviti querying, zajedno sa filtering-om

      const schoolBlah = await School.findOne({       // findOne    JER QUERY-UJEM ZA JEDNIM DOKUMENTOM
        students: {$gt: 480}
      }).exec()

      console.log(schoolBlah)     // TREBALO BI DA SE PROCITAO ONAJ PRVI DOKUMENT
                                  // JER ON ISPUNJAVA ON OZADATO FILTERING-OM


    }catch(error){
        console.error(error)
    }

  })
  .catch(error => {
    console.error(error)
  })
```

## MOGU OBAVITI KOLIKO ZELIM FILTERA (ODNOSNO MOGU FILTRIRATI U ODNSU NA VREDNOSTI VISE FIELD-OVA)

## A MOGU KORISTITI I **$lt**, ALI I **$gt** I **$lt** U KOMBINACIJI

I EVO SADA CU DA ODRADIM VEZBU KAKO BIH FILTRIRAO SA VISE FIELD-OVA I KA KAKO BI KORISTIO I $gt I $lt

```javascript
const school = new mongoose.Schema({
  name: String,
  openSince: Number,
  students: Number,
  isGreat: Boolean
})

const School = mongoose.model('school', school)

connect()
  .then(async connection => {

    try{

      const school1 = {
        name: "Btigieg",
        openSince: 1988,
        students: 8228,
        isGreat: true
      }

      const school2 = {
        name: "aOC",
        openSince: 2009,
        students: 480,
        isGreat: true
      }

      const schools = await School.create([school1, school2])


      // evo ovde cu obaviti querying, zajedno sa filtering-om

      const schoolBlah = await School.findOne({
        students: {$gt: 380, $lt: 500},
        openSince: {$gt: 1988}
      }).exec()

      console.log(schoolBlah)     // TREBALO BI DA SE PROCITAO ONAJ DRUGI DOKUMENT
                                  // JER ON ISPUNJAVA ON OZADATO FILTERING


    }catch(error){
        console.error(error)
    }

  })
  .catch(error => {
    console.error(error)
  })
```

