# CONTAINER I MICROSERVICES

SADA ĆEMO RAZGOVARATI O KONTEJNERIMA. KONTEJNERI SU FASCINANTNI. ONI MENJAJU LANDSCAPE SERVERA I NAČIN NA KOJI RAZMIŠLJAMO O NAČINU STRUKTURIRANJA ARHITEKTURE

PRIJE MALO VREMENA RAZGOVARALI SMO O TOME KAKO JE ARHITEKTURA BITNIJA NEGO ŠTO MI MISLIMO, A KAO SENIOR ENGINEERS ARHITEKTURA JE NEŠTO O ČEMU TREBA RAZMIŠLJATI JESTE

I KAO SENIOR FULL STACK INŽENJERI, ŽELIMO PAŽLJIVO RAZMISLITI O TOME KAKO SU NAŠE APLIKACIJE STRUKTURIRANE, KAO I O TOME KAKO ŽIVE NA SERVERU.

DAKLE, GOVORIMO O KONTEJNERIMA JER SU ONI BILI GAME CHANGER ŠIROM MREŽNOG PEJZAŽA

## KRENIMO OD MIKRO SERVISA 

DA LI NEKO IMA DOBRU DEFINICIJU MIKRO SERVISA?

NA PRIMER USLUGA KOJA ISPUNJAVA SAMO JEDAN ZADATAK, MOZDA?

DA, SVIĐA MI SE. TO JE TEENY TINY SERVICE

USTVARI AKO GOVORIMO O MIKROSERVISIMA, GOVORIMO O ARHITEKTURI SLABO ILI LOOSELY POVEZANIH SERVISA.

*IT'S KIND A MISNOMER (POGRESNA REČ, ODNSNO POGRESNO IME) JER TO ŠTO JE MIKROSERVIS NE ZNAČI DA JE ZAISTA SMALL I LIGHTWEIGHT.*

DAKLE, SVIĐA MI SE ONO DEFINICIJA GDE SE KAZE **ISPUNJAVA SAMO JEDAN ZADATAK** (IT'S DOING JUST ONE THING), JER JE TO BOLJA DEFINICIJA MIKROSERVISA. 

**ARCHITECTURE OF LOOSELY CONNECTED SERVICES**

*ŠTA JE SUPROTNO ARHITEKTURI MIKRO SERVICE?*

MOZDA **MONOLIT**?

DA. TO JE JEDNA APLIKACIJA KOJA RADI SVE

ISTORIJSKI JE TO BILA JAVA APLIKACIJA ILI Node APLIKACIJA ILI Phython WITH DJANGO, NEŠTO SLIČNO, GDE JE SVE JEDNA APLIKACIJA. POSTOJE KOMPROMISI (TRADEOFFS) KOJE GOVORIMO KADA GOVORIMO O PRELASKU NA MIKROSERVIS NASUPROT MONOLITU. DOBRA STVAR KOD MONOLITA JE TA. SVI KORISTITE ISTI JEZIK.

DAKLE, AKO ZAPOSLITE GOMILU PHYTON PEOPLE, SVI RADIMO U PHYTON-U. NISU ODVOJENE SERVICES. SECURITY UPDATES MIGRATING, PRELAZEĆI SA PYTHON DVA NA PYTHONA TRI, MOŽETE TO UČINITI SVE ODJEDNOM. I ZAPRAVO OLAKŠAVA MAINTENANCE MALO, LAKŠE JER NEMATE PUNO RAZLIČITIH JEZIKA I SERVICE-OVA KOJI RAZGOVARAJU JEDNI S DRUGIMA.

TO JE DAKLE SAMO JEDNA APLIKACIJA.

*ŠTA JE MANA MONOLITA?*

MOZDA JE SAMO TEŽE IZVRŠITI PROMENE I AUTOMATIZOVATI STVARI. SVE MORATE PUSH-OVATI ODJEDNOM?

DA.

MOŽETE SE ODVOJITI OD TOGA DA IMATE SVE LOOSLY COUPLED SA MIKROSERVISIMA. MOŽETE NEKAKO GARANTIRATI DIZAJN DA JE SVE NEZAVISNO, A UZ MONOLIT, MOŽETE SE ODATI OBRAZCEM DA JEDNA STVAR UTIČE NA VIŠE DRUGIH STVARI I DA JE ČVRSTO POVEZANA. I MOŽETE BREAK-OVATI STVARI I IMATI NENAMERNE POSLEDICE

DA, UPRAVO TAKO IZGLEDA. DA LI BISTE RADIJE IMALI GOMILU SITNIH KUĆA KOJE JE LAKŠE ODRŽAVATI? ILI BISTE RADIJE IMALI JEDNU DŽINOVSKU ZGRADU? 

ZAVISI. NEĆU DA VAM KAŽEM, DA SE MORATE ODLUCITI ZA JEDNO ILI DRUGO. OVDJE SAM SAMO DA VAM KAŽEM O RAZLIČITIM VRSTAMA, NE ŽELIM PREVIŠE TO DA POLITIZIRAM.

PRIČALI SMO O NADOGRADNJI I UNAPREĐIVANJU STVARI ZBOG SIGURNOSTI.

MOZDA JE TEŽE SA MONOLITOM AKO NADOGRAĐUJETE PAKETE, MORATE GA NADOGRADITI KROZ CELI CODE BASE? ILI JE MOŽDA TAKO SAMO TEŽE.

ZAVISI. PA DA I NE, NIJE U PITANJU "ONE SIZE FITS ALL" I BILO KO KAŽE DA SU MIKROSERVISI BOLJI OD MONOLITA, ILI MONOLITI BOLJI OD MIKROSERVISA, OBOJE SU U KRIVU

JER ZAISTA ZAVISI OD VAŠE APPLIKACIJE, I KAKO JE VAŠA KOMPANIJA STRUKTURIRANA, KAKAV TIP INŽENJERA IMATE, TAKVE STVARI

ŠTO SE APLIKACIJA TIČE, MOŽDA BI BILO LAKŠE NADOGRADITI MIKROSERVIS JER IH MOŽETE NADOGRADITI JEDAN PO JEDAN. ALI S DRUGE STRANE, IMATE SVE NADOGRADNJE KOJE MORATE UČINITI ZA SVAKU POJEDINI MIKROSERVIS

IMATE SVE SECURITY PATCHES, KOJE TREBA DA URADITE ZA SVAKI POJEDINU MIKROSERVIS NASUPROT MONOLITU. 

U MONOLITU RADIŠ TO JEDNOM ALL TOGETHER. MOŽE BITI GLOMAZNIJE (CUMBERSOME), ALI TO JE LAKŠE UČINITI ODJEDNOM

DAKLE, SVE OD CELOG KONTEJNERA, PA DO MIKROSERVISNE PA DO MONOLITNE ARHITEKTURE, PA DO SLUČAJA UPOTREBE, ZAVISI OD BUILD-A VAŠE KOMPANIJE.

*MIKROSERVISI SU U VELIKOJ MERI IZGRAĐENI NA OVOM KONCEPTU KOJI SE SADA NAZIVA KONTEJNERI* O ČEMU ĆEMO RAZGOVARATI VRLO BRZO. ALI MOGU GOVORITI MALO O MIKROSERVISIMA. *JEM SE BAVI MICROSERVICE-OVIMA NA NETFLIX-U* 

ON JE POKAZO PRIMER INTERNE INFRASTRUKTURE U NETFLIXU (MOZES POGLEDATI SLIDE) (OVO JE SAMO EXAMPLE NIJE STVARNO)

NETFLIX JE JEDAN OD LIDERA U MIKROSERVISIMA.

**JEM NA TOM DIJAGRAMU POKAZUJE GDE JE ON U TOJ STRUKTURI MIKROSERVISA, KOJA JE OGROMNA** (ON POKAZUJE DA ON ZIVI U UI TIMU)

ONI VERUJU DA JE EFIKASNIJE ZA NJIHOVE USECASES, KORISTITI MICROSERVICES

JEM NIJE BAŠ NA IVICI KAPIJA (EDGE GATEWAY). TO BI BIO [Netflix ZUUL](https://github.com/Netflix/zuul), JEDAN OD NJIHOVIH OPEN SOURCE LOADA BALANCER-A. PROXY-JA, KOJI RADI MNOGO STVARI

JEM DAKLE ZIVI NA UI LAYERU, ALI IZA TOGA JE TAJ VISOKI NERED SLOŽENOSTI. ALI DOBRA STVAR JE ŠTO MOJ TIM RUNN-UJE REACT U Node STACK-U. DRUGI LJUDI RUNN-UJU JAVA, DRUGI LJUDI POKREĆU GROOVY, ŠTO JE FLAVOUR OF JAVA, DRUGI LJUDI RUN-UJU PHP-OM, NEKI RUNN-UJU PYTHON-U

ALI SVAKI OD OVIH TIMOVA MOŽE DA MAINTAIN-UJE SVOJ STACK. I DOK GOD ODRŽAVAMO TAJ ZAJEDNIČKI API, MOŽETE RADITI ŠTA GOD ŽELITE. VEOMA SE ISPUNJAVA TAJ FREEDOM OF RESONSABILITY. ODRŽAVATE SOPSTVENI STACK, ODRŽAVATE I SVOJU ARHITEKTURU.

A AKO JE VAŠ TIM POPUT NAJVEĆIH SVETSKIH PROGRAMERA RUST-A, NAPIŠITE SVOJU USLUGU U RUST-U, KOJA ĆE BITI ZAISTA PERFORMANT, ALI JA NE MORAM DA ZNAM KAKO TO FUNKCIONIŠE. TO JE PREDNOST ARHITEKTURE MIKROSERVISA.

LOŠA STRANA JE POGLED NA OVU SLOŽENOST (STVARNO JE SLOZENO KADA SE POSMATRA TAJ VELIKI DIAGRAM NA SLIDE-OVIMA)

IMAMO SVE OVE DRUGE APLIKACIJE KOJE TREBAJU MEĐUSOBNO RAZGOVARATI I ODRŽAVATI CONNECTION-E I TAKVE STVARI, I TO RADIMO SA OVIM KONCEPTOM ZVANIM **CONTAINER**

## CONTAINERS

ŠTO MISLITE, ŠTA JE KONTEJNER?

MOZDA JE TO NAČIN PARTICIONING-A CODE-A U ENVIROMENT-U U KOJEM SE MOŽE POKRENUTI, UKLJUČUJUĆI SAMO NECESSARY KOMPONENTE.

DA, ZATO ĆU VAM POSTAVITI I JOŠ MALO TEŽE PITANJE... KOJA JE RAZLIKA IZMEĐU KONTEJNERA I VIRTUELNE MAŠINE?

VIRTUELNA MAŠINA JE ČITAVA MAŠINA ZA SIMULACIJU OS-A. KONTEJNER MOŽE BITI MANJE TEŽINE, ODNOSNO LIGHTER WEIGHT

UPRAVO TAKO. VIRTUELNE MAŠINE IMAJU ČITAV OPERATIVNI SISTEM.

DAKLE, U STARA VREMENA ARHITEKTURE MIKROSERVISA, MORAO BIH POKRENUTI VERZIJU UBUNTU-A, KAO STO JE ONA KOJU SADA JA RUNN-UJEM

A ONDA BIH POKRENUO Nodejs. A ONDA, AKO ŽELIM POKRENUTI JOŠ JEDAN MIKROSERVIS ZA SVOJU BAZU PODATAKA, POKRENUO BIH FEDORU ILI UBUNTU SA DRUGOM VERZIJOM Node-A. A TO SU BILI STARI DANI.

TO JE IZGLEDALO PRILIČNO DOBRO, DA, MALO JE TEŠKO, ALI BAR SVAKI SERVIS IMAO JE SVOJ OPERATIVNI SISTEM I TADA MOGU RAZGOVARATI SAMO SA DRUGIM SERVISIMA PREKO POZNATIH API-JA

KONTEJNERI UZIMAJU TAJ KONCEPT I TRIGGER-UJU DOWN JOS VISE. SVAKI KONTEJNER IMA SVOJ OPERATIVNI SISTEM, MI SAMO POKREĆEMO SAMO SKUP BIBLIOTEKA KOJI SU MU POTREBNI, I SAMO TO, NIŠTA DRUGO.

TO JE KONTEJNER. DANAS, KONTEJNERI SU SNAŽNI NA OVAKAV NAČIN, I MOŽEMO IH KORISTITI, SAMO ZBOG CLOUD COMPUTING-A I NAPRETKA KOJI SMO POSTIGLI

NAPREDOVALI SMO U **HIPERVIZOR**U, TO JE **PROCES KOJI KONTROLIŠE DRUGE PROCESE, KAKO ONI RAZGOVARAJU JEDNI SA DRUGIMA**

I TAKO TRENUTNO RADIMO. TAKO RADI NAŠ SERVER, SA ČINJENICOM DA MOŽEMO DA IZVRŠIMO IZOLACIJU PROCESA. 

MOJ SERVER RUNN-UJE NA NA OVOJ SIĆUŠNOJ, SIĆUŠNOJ SLIPPER-U OD SERVERA

I ISKRENO, SVI VI MOŽETE RADITI NA ISTOM SERVERU KAO I JA, A AJ O TOME NEMAM POJMA.

ZATO ŠTO IMAMO IZOLACIJU PROCESA I HIPERVIZOR JE ZAISTA DOBAR U SEGMENTIRANJU NAŠIH RESURSA NA JEDNO ILI DRUGO

KADA BUILD-UJEMO NA TOME, IMAMO IDEJU O KONTEJNERIMA

DAKLE, UMESTO VPS-A, MOŽEMO JOŠ VIŠE ZOOM-OVATI IN I UZIMAMO TAJ KONCEPT SERVERA I JEDNOSTAVNO GA SEGMENTUJEMO U RAZLIČITE SEKCIJE.

ALI SVAKI SECTION IMA SAMO SVOJE BIBLIOTEKE, SVOJE RESURSE. ON NE MORA NUŽNO DA ZNA I ZA OPERATIVNI SISTEM NA KOJEM JE UKLJUČEN. NIJE GA BRIGA. ZA TO JE NAMENJEN WRAPPER, NEŠTO POPUT ORCESTRATION LAYER-A

OVO PODSECA NA TREESHAKING

OVDE SAMO UKLJUČUJETE FUNKCIONALNOST KOJU ZAPRAVO KORISTITE, NASUPROT CELOJ BIBLIOTECI.

DA TAČNO, ILI KAKO JA VOLIM DA KAŽEM, 'COLUMBO WAY OF DOING IT'. SAMO ČINJENICE. TO JE UPRAVO ONO ŠTO TREBA. UMESTO DA U SVAKU APLIKACIJU UKLJUČIMO CEO OPERATIVNI SISTEM, MI ĆEMO SAMO UKLJUČITI BIBLIOTEKE KOJE SU JOJ POTREBNE.

NA JOS JEDAN SLIDE-U JEM POKAZUJE KAAVA JE SITUACIJA BILA U STARA VREMENA.

VIRTUELNA MAŠINA. NA NJOJ NAŠ SERVER. IMAMO RUNNUJE NA PRIMER NODEJS, IMAMO I NGINK. (PRILIČNO BLIZU NAŠEG SERVERA KOJ ISMPO PRAVILI TOKO MWORKSHOP-A);  We have NodeJS running, we have Nginx running. We later I'll go over how to install MySQL. Won't do too much with it, but we can run Python.

TO JE BIO STARI NAČIN DA SE TO URADI. 

KONTEJNERI SU NESTO DRUGACIJI. TO JE JOŠ UVEK JEDAN SERVER. ALI SADA ONO STO WRAPP-UJE NOD.JS VRSTA SOPSTVENOG MIKRO SERVERA. A MYSQL BAZA PODATAKA RUNN-UJE NA SOPSTVENOM MIKROSERVERU, Nginx, ITD., ITD. I IMAJU SAMO BIBLIOTEKE KOJE SU IM POTREBNE. 

ZAŠTO JE OVO KORISNO?

KAO ŠTO JE OVO BENIFICIAL?

SADA NE POKREĆEMO ČITAV OPERATIVNI SISTEM NA SVAKOJ APLIKACIJI, ALI STA JE ONO ŠTO MOŽEMO UČINITI JOŠ VIŠE KADA KONTROLIRAMO individualne KONTEJNERE ITSELF

NA PRIMER MOZEMO POKRENITE NEKOLIKO KOPIJA. NEKOLIKO PRIMERAKA?

DA MOŽETE, ALI TO MI MOŽEMO URADITI I NA VIRTUELNOJ MASINI, LIKE I NALL DAYS

ALI NA PRAVOM STE PUTU. ŠTA JOŠ?

DA, ONI JESU BRŽI. ALI POSTOJI JEDNA KORIST O KOJOJ VEROVATNO NE RAZMIŠLJAMO KADA RAZMIŠLJAMO O KONTEJNERIMA

MOZDA STATIČKA ANALIZA, KOJA OMOGUĆAVA VAM DA PRATITE KROZ DEPENDANCY GRAPH ŠTA I SHVATITE ŠTA TREBA UKLJUČITI, ŠTA ISKLJUČITIL CIME SE SMANJUJE NE SAMO RESURSI, U SMISLU PROCESSING-A, VEĆ I UPOTREBA MEMORIJA

DA, ALI NIJE TO O CEMU GOVORIM

TAKE THAT IDEA FURTHER USTVARI


