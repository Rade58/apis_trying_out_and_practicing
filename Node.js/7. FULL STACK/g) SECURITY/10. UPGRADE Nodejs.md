# UPGRADE Node.js

SADA CU UPGRADE-OVATI NODEjs

DEFAULT INSTALACIJA JE Node OSAM. NE BIH REKAO DA IMA NEKIH VEĆIH BEZBEDNOSNIH PROMENA, KOLIKO ZNAM, MOGLO BI SE PREĆI U Node DESET. ALI HAJDE DA TO URADIMO JER JE SINTAKSA MALO BOLJA I npm JE MALO CLEANER NA NOVOJ VERZIJI Node-A

A DA BISMO TO URADILI, UPOTREBIĆEMO OVU KOMANDU KOJA SE ZOVE:

**curl**

ŠTO JE SKRAĆENICA ZA _CLIENT URL_

TO JE VEROVATNO KOMANDA ZA KOJU STE VIDELI I DA JE JEDNA OD NAJČEŠĆIH NAREDBI ZA SAMO ČITANJE I PISANJE SPOLJNIH IZVORA.

I U OVOM SLUČAJU, JER KADA SMO JUČE RADILI:

**apt install**

MORALI SMO DA KORISTIMO SVE ŠTO apt REPO KORISTI, ŠTO JE UVEK STARIJA VERZIJA Node-A, I ŽELIMO DA JE NADOGRADIMO

DAKLE, ZAPRAVO ĆEMO SE DIREKTNO POVEZATI SA

**nodesource**-OM, A TO JE _DEBIAN_ REPO

_A DEBIAN JE FLAVOUR LINUX KOJI MAINTAIN-UJE OVE PAKETE_

ONA AKO VAS ZANIMA ŠTA RADIMO VEĆINU VREMENA, KORISTIĆU OVU STVAR KOJA SE ZOVE

[EXPLAINSHELL](https://explainshell.com/explain?cmd=curl+-sL)

I KORISTIM curl

**OVO JE JEDAN OD JEM-OVIH NAJDRAŽIH ALATA**, IMAJTE NA UMU KADA SAM REKAO DA SU man STRANICE KAO "HAAA, EVO NEKIH SAZNANJA"

EXPLAINSHELL RADI MNOGO JEDNOSTAVNIJE. DAKLE, AKO POKUŠAVATE DA POGLEDATE man STRNICU NA PRIMER STA TO TRADI `curl -sL`, TO JE NEKAKO OPAQUE

ALI KORISTEĆI EXPLAINSHELL O `curl -sL`, ILI ONU DRUGU KOMANDU KOJA INSTALIRA NODE, SAM SAZNAO SLEDECE

- ZNAMO DA JE silent I DA CE SE RUNN-OVATI

- l ZNACI DA CE CHECKOVATI DA LI JE HTTP AVAILABLE

- o MEANS DA CE OUTPUTOVATI INTO A FILE

## DAKLE DA INSTALIRAM NODE SA CURL-OM, ALI OVDE IMA JOS NESTO DA SE URADI PRE SAME INSTALACIJE

JEM JE OVO RADIO U home/\$USER

- curl -sL https://deb.nodesource.com/setup_10.x -o nodesource_setup.sh

DAKLE GORE JE SOURCE PROVIDED SA URL -A, (-o OUTPUT INTO A FILE), A FAJL SE ZOVE **nodesource_setup.sh**, I ON CE DAKLE BIDI U DIREKTORIJUMU home/\$USER

VIDEĆETE FILE OUTPUT. PRILIČNO JE BRZO, U ROKU OD SEKUNDE

- ls

TU JE FAJL `nodesource_setup.sh`

## MOZES ZAVIRITI U nodesource_setup.sh FAJL

OVO SE OBIČNO AKO PREUZIMATE SCRIPTS NA INTERNETU, OVO JE SIGURNO MESTO. DOBRO JE POZNATO, REPO JE MAINTAINED, NEMA PREVIŠE SECURITY ISSUES

ALI GENERALNO, ŽELITE DA BUDETE OPREZNI PRI PREUZIMANJU SKRIPTI NA INTERNETU, JER NE ZNATE O ČEMU SE RADI.

ALI POGLEDAJMO ŠTA OVAJ SCRIPT RADI

- cat nodesource_setup.sh

OUTPUT JE OGROMAN

JEM POKAZUJE TAJ SCRIPT JER NISAM MOGAO CELOG NI DA GA PROUCI

ALI ON VERUJE DEBIAN REPO-U I ZNAM DA JE OVO POZNAT NAČIN INSTALIRANJA NAJNOVIJE VERZIJE Node.js-A

ALI GENERALNO, AKO VAM NEKO DA SCRIPT-U ZA POKRETANJE NA VAŠEM SERVERU, NEMOJTE TO RADITI

NEMA DOBROG RAZLOGA ZA TO.

## MOZES SADA EXECUTE-OVATI nodesource_setup.sh

MI ĆEMO OVAJ FAJL nodesource_setup.sh POKRENUTI KAO BASH SKRIPTU

- sudo bash nodesource_setup.sh

ONO ŠTO RADI OVAJ SKRIPT, ZAPRAVO NIJE DOWNLOADING Node-A, VEĆ SETTUJE apt POINTER NA Node.js SA DRUGOG SOURCE-A

DAKLE, KAŽE, HEJ, ŽELIM DA PREUZMEM NODEJS. EVO NOVIJE VERZIJE ISTOG I SAMO POINT-UJE NA TO

---

digresija:

U OUTPUT-U MI JE OBEZBEDJEN I SCRIPT ZA INSTLACIJU yarn-A

I TO SAM POKRENUO

---

## SADA KONACNO MOGU INSTALIRATI Node.js

- sudo apt install nodejs

POGLEDAJ SADA Node-PVU VERZIJU

- node --version

I'M ON NODE 10, RATHER THAN NODE 8; Node 10 JE A LITTLE BIT FRIENDLIER

A AKO SE PITATE, Node 11 I Node 12 SU OUT, ZAŠTO IH NE KORISTIMO?

10 JE **LTS** _VERSION_, A SEĆATE SE RANIJE DA SMO RAZGOVARALI O LTS-U, ŠTO ZNAČI **LONG TERM SUPPORT**

Node 10 ĆE SE MAINTAIN-OVATI, ŠTO ZNAČI DA SE POBOLJŠAVAJU SECURITY, POPRAVLJAJU ZERO DAYS, POPRAVLJAJU SE SMALL BUGS DO 2021. GODINE

ZATO ĆEMO KORISTITI LTS VERZIJU NASUPROT MODERNOJ CUTTING EDGE VERZIJI

VEROVATNO ĆE IMATI JOŠ GREŠAKA KOJI JOŠ NISU OTKRIVENI. MOŽDA NEKI SECURITY EXPLOITS KOJE NE POZNAJEMO

TAKO DA GENERALNO, AKO GOVORIMO O SERVERIMA, POKREĆEMO LTS

ZA VAŠ LIČNI SERVER, POKREĆETE KOJU GOD VERZIJU NODE-A ŽELITE, ŠTA GOD VAS ČINI SREĆNIM

ŽELITE DA KORISTITE async/await I SVE TE DOBRE STVARI, POKRENITE NAJNOVIJU VERZIJU Node-A (NISAM SIGURAN STA JE OVDE MISLIO ZA async/await (MISLI MDA ON IRADE ZA VERZIUJU 10))

## MOŽEMO AŽURIRATI SVOJE ZASTARELE PAKETE

TRENUTNO IMAMO SAMO JEDAN I TO JE **pm2**

DAKLE, ZAPRAVO NE MORAMO DA GA AŽURIRAMO, ZATO ŠTO SMO GA JUČE INSTALIRALI. ALI AKO ŽELITE, MOŽETE POKRENUTI

- sudo npm update -g (_MORA OVIM REDOM (PRVO IDE npm)_)

**OVO CE UPDATE-OVATI SVE MOJE GLOBALNE PACKAGES**

## I OVIM ZAVRSAVAM OVAJ DEO (OVAJ FOLDER ZA MD FAJLOVIMA) O BEZBEDNOSTI

PROVELI SMO DUGO VREMENA NA TOME. ALI RAZGOVARALI SMO O NEKIM POSLEDICAMA NE OSIGURAVANJA VAŠE LOGING-A. RAZGOVARALI SMO O FIREWALL-U, KONTROLI PORTOVA I KONTROLI FILE PERMISSION-A, KORISTEĆI NAJMANJE DOZVOLJIVE PERMISSION-E, AS POSIBLE

I RAZGOVARALI SMO O KEPPING-U APPLICATIONA, UP TO DATE, KAKO BI SPRECIO RANJIVOSTI
