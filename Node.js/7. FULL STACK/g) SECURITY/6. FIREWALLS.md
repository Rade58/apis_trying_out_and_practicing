# FIREWALLS

ŠTA JE FIREVALL? STA JE TAJ "ZAŠTITNI ZID"? 

VEROVATNO STE ČULI TERMIN I RANIJE

>> A network security device that monitors incoming and outgoing network traffic and decides whether to allow or block specific traffic based on a defined set of security rules

UZETO [ODAVDE](https://www.cisco.com/c/en/us/products/security/firewalls/what-is-a-firewall.html)

PERIMITER SIGURNOSNA TEHNIKA, TAKO DA TI ILI ALLOW-UJETE RQUEST-OVE IN OR OUT, U ZAVISNOSTI OD TOGA HOW THEY ARE ORIGINANTING, I NA KOJEM PORTU SE NALAZE I KOJI JE PROTOKOL

FIREWAL, FRAZA DOLAZI IZ STVARNOG FIZIČKOG UREĐAJA KOJI SE NAZIVA FIREWALL, VAŠ AUTOMOBIL IMA FIREWALL. DAKLE, IZMEĐU MOTORA I MESTA GDE SE SEDI U VAŠEM AUTOMOBILU, TO JE ONO ŠTO SE NAZIVA I ZAŠTITNIM ZIDOM

DAKLE, AKO SE MOTOR ZAPALI, VATRA SE NEĆE PROŠIRITI U MOTOR. ILI ĆE USPORITI DOVOLJNO. ZGRADA IMA FIREWALLS, TAKO DA AKO DODJEDO POŽAR NECE SE SPREČI STVARI U POTPUNOSTI, SAMO CE GA USPORI DOVOLJNO DA BISTE MOGLI DA GA POPRAVITE. A TO JE I FIREWALL NA SERVERU

NISU NERANJIVI, UVEK POSTOJI WAY AROUND THEM, JER SADA SVI RUNN-UJU FIRTEWALL

ALI LJUDI SE I DALJE HACK-UJU. ALI DOVOLJNO JE DA USPORITE LJUDE I ODVRATITE LJUDE

KAKO JE RECENO IZ GORNJEG CISCO-VOG CITATA: TO JE MREŽNI BEZBEDONOSNI UREĐAJ KOJI NADGLEDA DOLAZNI I ODLAZNI MREŽNI SAOBRAĆAJ I ON ODLUČUJE DA LI DA BLOKIRA TAJ SAOBRAĆAJ NA OSNOVU ODREĐENIH FREKVENCIJA

POSTOJI ODREĐENI SKUP STANDARDA

## POSTOJE SOFTVERSKI FIREWALL I POSTOJE HARDVERSKI FIREVALL
 
GENERALNO VEĆINA LJUDI, ODNSONO U CONSUMER GRADE-U, RUNN-UJE SOFTVERSKI FIREWALL

MAC OSX IMA FIREWALL BUILT IN

WINDOWS IMA UGRAĐEN FIREVALL

TO JE ZATO ŠTO NE ŽELIMO SVIMA DA OTVORIMO SVE PORTOVE.

JER AKO TO UČINITE, NIJE VAŽNO DA LI ATE KAO "JA KORISTIM SSH I NIŠTA DRUGO NE MOM SYSTEM-U NIJE WORTH STEALING"

**TAMO BI MOGLA BITI RANJIVOST** *I TO JE SAMO SUŽAVANJE TE POVRŠINE NAPADA.* 

## HAJDE DA INSTALIRAM **nmap**

PA CU POKRENUTI **nmap** JER SAM RANIJE GOVORIO O PORTOVIMA. ***nmap* JE SKENER PORTOVA I ONO ŠTO RADI JE DA MOŽE RUNN-OVATI OVER ENTIRE RANGE-A IP ADRESA I SAMO PROVJERAVA DA LI IMA OTVORENIH PORTOVA**

DAKLE DA GA PRVO INSTALIRAM, AKO VEC NIJE INSTALIRAN

- sudo apt install nmap

POGLEDAJ STA MOZES SA nmap

- man nmap

## ZELIM SADA DA RUNN-UJEM nmap

******

ovo cu ostaviti kao digresiju, JEMA JE PITAO NEKO OD UCENIKA, DA LI DA RUNN-UJE OVO LOKALNO SA IP-JEM SERVERA (AGAINST MY SERVER), ILI DA RUNN-UJE NA SERVERU

JEM JE OVO ODGOVORIO:

`MOŽETE DA POKRENETE NA SERVERU, A MOŽETE DA GA POKRENETE I SA VAŠEG SERVERA. TO ZAPRAVO NIJE VAŽNO U OVOM SLUČAJU. ALI AKO GA POKRENETE, POKREĆETE GA LOKALNO, TREBALI BISTE ZNATI GDJE SU VAŠE PORTOVE. ALI TO JE SAMO DOBRA VIZUALIZACIJA.`

`MOŽETE SE ODJAVITI SA SERVERA I POKRENUTI SE PROTIV VAŠEG SERVERA I REZULTATI ĆE BITI ISTI.`

******

- nmap YOUR_SERVER_IP_ADDRESS

JA CU RUNN-OVATI NA SERVERU (MOGUCE JE OVO INSTALIRATI I NA WINDOWSU, ALI IT'S A HASLE)

I SADA VEROVATNO VIDITE NEŠTO, TREBALI VIDETI UPRAVO OVO

```linux
Starting Nmap 7.60 ( https://nmap.org ) at 2019-12-04 01:57 UTC
Nmap scan report for IME_MOG_SERVER-A (IP_ADRESA_MOG_SERVERA)
Host is up (0.000070s latency).
Not shown: 997 closed ports
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
3000/tcp open  ppp

Nmap done: 1 IP address (1 host up) scanned in 0.35 seconds
```

******

DAKLE KADA BI OVO RUNN-OVAO LOKALNO, ODNOSNO SA NEKOG DRUGOG RACUNARA, AGAINST MY SERVER, REZULTAT BI BIO ISTI

******

STA SE VIDI IZ OUTPUT-A

- IMATE OTVOREN PORT 22, TO JE SSH. DAKLE, TO NAM OMOGUĆAVA DA SE PRIJAVIMO I ODJAVIMO U/IZ NAŠEG SERVER-A

- IMA PORT 80 KOJI JE NAŠ HTTP SERVER

- I IMAMO PORT 3000 JER JE OTVOREN PREMA DEFAULTS-OVIM-A KADA SMO POKRENULI NAS EXPRESS SERVER

## SADA POKRENIMO **nmap** ALI SA **-sV** FLAGOM, DA BI DOBILI MALO VIŠE DETALJA

- nmap -sV MOJA_IP_ADRESA

KOMAND **-sV** ĆE NAM DATI VIŠE DETALJA O TOME KOJI SE TAČNI PROCESI I KOJE SE USLUGE RUN-UJU NA TIM PORTOVIMA.

NECU POKAZIVATI, SAMO CU RECI

PORT 22 JE SKORO UVEK SSH TO JE DEFAULT 

PORT 80 JE HTTP

PORT 3000 JE BIO DEFULT PORT KOJI SMO IZABRALI SAMO ZA EXPRESS MIDDLEWARE

**NAIME RUNNING THIS OPEN SOURCE COMMAND OMOGUĆAVA MI DA PORT SCAN IP ADRESU. ALI NE SAMO TO, VEĆ MI GOVORI TAČAN SOFTVER I VERZIJE THAT THEY'RE RUNNING. *PA ZAŠTO JE TO KORISNO? ILI ZAŠTO JE TO OPASNO?***

## LAKO JE POTRAŽITI POZNATE RANJIVOSTI I ZAPOČETI POKUŠAJ BRAKING-A IN

TAČNO, AKO JE POSTOJAO KNOWN EXPLOIT ZA NGINKS 1.14

JA TO MOGU SAZNATI ZAISTA,VRLO VRLO LAKO

A ONDA KAŽETE KAO DA NIKO NEĆE ZNATI DA LI NISAM PACH-OVAO SVOJU NGINKS VERZIJU

STVARNO, LJUDI STALNO RUNN-UJU PORT SCANS

SADA JE POTREBNO VRLO MALO RESURSA CPU-A DA BISTE POKRENULI SKENIRANJE PORTOVA NA CIJELOM INTERNETU, A LJUDI TO RADE KONSTANTNO

DAKLE, AKO IMATE RANJIVOST, NA KRAJU ĆE JE LJUDI PRONAĆI I ONI ĆE JE ISKORISTITI

A ONO ŠTO nmap NEĆE POKAZATI JE, DA NEĆE POKAZATI SVE ZATVORENE PORTOVE. PRIKAZAĆE SE SAMO OTVORENI PORTOVI, ALI MOŽETE I SKENIRATI ZA ZATVORENE PORTOVE. ALI TO NI NEMA PREVIŠE SMISLA.

******

EVO NESTO STO SAM PROCITAO U MANUAL-U

>> **you might want to scan 192.168.0.0/16 but skip any IPs ending with .0 or .255 because they may be used as subnet network and broadcast addresses**

SECAM SE ONOG IP-JA KOJ ISTALNO POKUSAVA DA NAPADNE SA SSH-OM, ON IMA .255 NA KRAJU (NE NEMA IMA .144)

SUBNET MASK IMA MOJ RACUNAR (MOZDA SAM POGRESI OSTO SAM OVO SCAN-OVAO)

MOZDA SAM POGRESNO SHVATIO OVO SA SUBNET-OM

NEMA VEZE SAZNACU DRUGOM PRILIKOM

******
