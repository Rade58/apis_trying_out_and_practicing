# USER SETUP

SADA UNFORTUNATELY, KADA BI SWITCH-OVAO NA NOVOG USER-A, KOJEG SAM KREIRA, VISE NE BIH IMAO ROOT ACCESS; ODNOSNO SUPER USER ACCESS

## JA MORAM OMOGUCITI NESTO STO SE ZOVE *SUPR USER DO*, A KOMANDA ZA TO JE *sudo*

DAKLE JOS SAM U ROOT, I MORAM NOVOM KORISNIKU DATI PRIVILEGIJE SUPERUSER-A

DA SAM SWITCH-OVAO SADA NE BI MOGAO MNOGO STA DA URADIM, BIO BI LIMITIRAN NA HOME DIRECTORY, NE BI IMAO ROOT ACCESS

JOS DOK SAM U ROOT-U KORISTIM KOMABDU **usermod** NA SLEDECI NACIN

- usermod -aG sudo NOVI_USER_KOJEG_SAM_KREIRAO

U OVOM SLUCAJ UTO JE rade

- **usermod -aG sudo rade**

*JA SAM SADA DODAO rade-TA TO `SUPER USERS GROUP`*

## SADA ZELI MDA SWITCHUJEM NA TOG USERA DA TESTIRAM DA ONO STO SAM RADIO JESTE ACTUALY WORKED

SWITCH USER SE RADI SA KOMANDOM **su**

- **su rade**

VIDECES NEKI OUTPUT KOJI TI OBNANJUJE `To run Command as administrator(ROOT USER), KORISTI sudo <komanda>`

## JA USTVARI ZELIM DA VERIFIKUJEM DA IMAM SUPER USER ACCESS

POSTOJI MNOGO NACINA DA SE OVO URADI

JEM VOLI DA POGLEDA auth.log

- *cat /var/log/auth.log*

**IAMCES SADA `PERMISSION DENISED`** JER NISI KORISTIO **sudo**

OVO ZAHTEVA SUPER USER ACCESS

- **super cat /var/log/auth.log** (ne zaboravi slash ispred var-A)

SADA CE BITI MNOG OSTOSTA ODSTAMPANO

GORE SI UMESTO cat-A MOGAO KORISTITI I less JER cat DUMPS ENTIRE FILE OUTPUT

less CE MI DATI PAGE

******

digresija:

- sudo !!

CE MI DATI LAST COMMAND KOJI SAM RUNN-OVAO, AL ISA sudo ACCESSOM

TO AKO SAM RANIJE KUCAO BEZ sudo-A I BIO SAM DENIAD

BABG BANG (!!) JE SHORTCUT ZA UZIMANJE POSLEDNJE KUCANE KOMANDE

******

- **sudo less /var/log/auth.log**

SADA CE OUTPUT U TERMINALU HANGOVATI, I JA CU MOCI DA STRANICE MAENAJM SA ARROW KEY-OVIMA

OVO JE NESTO A LITTLE BIT MORE FRIENDLI NEGO GLEDANJA CELOG DUMPA, KOJI PRAVI cat U TERMINALI

******

digresija:

DA ESCAPE-UJES less, KUCAJ *q*

******

## auth LOG

TO JE LOG LJUDI KOJI POKUSAVAJU DA NESTO URADE NA TVOM SERVER-U; DA SE LOGG-UJU NA TVO JSERVER

POSTO JE OVAJ SERVER BIO UP MOZDA DAN, MOZES VIDETI U LOGG-U DA LJUDI AKTIVNO POKUSAVAJU DA GETT-UJU U MOJ SERVER

JA BI POMISLIO *I'm JUST A PERSON, ZASTO BI OVI ATTACKERS POKUSALI DA GETT-UJU U MOJ SERVER*

PSOTOJE KOMPJUTERI KOJI RADE KONSTANTNO I SCANE-UJU ENTIRE INTERNET, SVAKI POSIBLE IP ADRESS I TESTIRAJU FOR VONURABILITIES, WEAK PASSWORDS, ZATO NE KORISTIM SIFRE NEG OSSH

NEMA VEZE KOLIK OSI CLEVER , NEKO BI FIGURE OUT-OVAO TVOJU SIFRU EVENTUALLY

TESTIRAJU I DA LI IMAS OTVORENE PORTOVE OTVORENE, KOJ ISU VONURABLE APPLICATIONS

TESTIRAJU DA LI SE KORITI ONAJ -v FLAG, KOJI SAM RUNN-OVAO RANIJE (They're saying, I know to get into there)

## TEBI OVAJ LOG IZGLEDA KAO BUNCH OF GIBERISH

PRONADJ IGDE PISE NA PRIMER `invalid user`

JA VIDIM NEKE STVARI KA OSTO SU `disconected from invalid user` IMA I IME USER-A

ILI `invalid user` I TU VIDIM IME USER-A

I SVE JE TO NA NEKIM PORT-OVIMA

MOZES POMISLITI STA SAM JA TO URADIO OVIMA DA POKUSAJ UDA BREAKUJU INTO MOJ SERVER

**DAKLE EVERYBODY ALL THE TIME CE POKUSATI DA BREK INTO YOUR SERVER KONSTANTNO**

*TO SAMO PRIHVATI DA POSTOJI*

ZATO KORISTIM SSH KEYS

ONI SU UNBREAKABLE ZA SADA

NARAVNO SEM AKO IH NEKOM NE DAM I SLICNO

******

digresija:

KOMANDA

**head** CE TI DATI PRVIH 10 REDOVA FAJLA

PROBAJ

- *sudo head /var/log/auth.log*

DAKLE ZA SADA SAM SAZNAO O TRI KOMAND KOJIAM SE GLEDAJU FAJLOVI: *cat*, *less*, *head*

ALI POSTOJI JOS JEDNA I O NJOJ CU SLEDECE GOVORITI

******

## AKO ZELIM DA VIDIM STA SE REALTIME DESAVA SA MOJI MSERVEROM, MOGU KORISTITI **tail** KOMANDU

head TI DAJE PRVIH DESET REDOVA U FAJLU, DA VIDIS, A **tail** JE SUPROTNO OD TOGA *DAJE M IDA VIDIM 10 POSLEDNJIH REDOVA FAJLA*

>>>> . And you're wondering, why are there so many different ways to look at a file in Linux? Because they're all useful, especially when you're talking about megabytes of log files, you wanna be able to quickly jump from portion to portion.

### KORITI I *-f* ZAJEDNO SA *tail*-OM

-f ZANCI **FOLLOW**

OVO CE OMOGUCITI DA tail BUDE OPEN, I SVAKUI PUT KADA SE NESTO NOVO DOGODI LOG FAJLU, DESICE SE OUTPUT

- sudo tail -f /var/log/auth.log

SAD MOGU DA POSMATRAM OUTPUT, I SVAKI PUT KADA NEKO POKUSAD DA SE LOGG-UJE TO CE BITI DODATO LOG FAJLU, A JA CU REAL TIME POSMATRATI TU PROMENU NA TAIL-U FAJLA

TOKO MWORKSHOP, NEKO JE POKUSAO DA KORISTI INVALID SSH KEY SA NEKOG PORT-A DA SE ULOGUJE NA COMPUTER

DAKLE IT'S NOT PERSONAL, LJUDI STALNO POKUSAVAJU DA BREAK-UJU IN

### POMENUTI tail U KOMBINACIJI SA -f JE JEDAN OD MOST POWERFULL STVARI, KOJE MOZES NAUCITI A TICU SE DEBUGGING-A

SVE SA SERVERA TI ZELIS DA LOOG-UJES NEGDE, JER KAD STVARI KRENU PO ZLU, NECES IMATI POJMA ZASTO KRECU PO ZLU

ZATO ZELIS DA LOGG-UJES SVE TVOJE FAJLOVE NEGDE EVENTUALLY

ONI BIVAJU CLEANED UP EVENTUALLY, AL ITAILING A LOG FAJL, I ONDA CONNECTING TO A SERVER NA DRUGACIJEM TERMINALU IL ISHELL-U I UNDERSTANDING WHTS HAPPENING JE JEDBNA OD NAJMOCNIJIH DEBUGGING TOOL-OVA KOJE IMAM

TO JE EKVIVALENT JAVASCRIPT-OVOM CONSOLE LOGGING-U EVERYTHING-A

**DA IZADJES IZ -f (FOLLOW-A) PRITISNI *CTRL + C***

I PRESTACE SE SA FOLLOWINGOM, POMENUTOG LOG FAJLA

## AKO ZELI MDA IDEM U HOME DIRECTORY, ISTO KUCAM STO SAM KUCAO U GIT BASH-U, A TO JE *`cd ~`*

MOZES DA KORISTIS I

- pwd

I NA HOME DIRECTORY-JU SAM

OVO JE MOJ HOME DIRECTORY, I OVO JE KIND-A, MOJ PLAYGROUND; I NE ZNACI MNOGO STA SE DESAVA OVDE

JA CU U NASTAVKU KREIRATI I .ssh DIREKTORIJUM I JOS MNOGO STVARI KOJE MOGU SSH-OVATI IN

## JEDNA STVAR

AKO ZELIS DA SE VRATIS NAZAD U ROOT, MORAS exit-OVATI

TI SI SADA U ROOT-U OPET

## IGRAJ SE MALO SA OVIM KOMANDAMA
