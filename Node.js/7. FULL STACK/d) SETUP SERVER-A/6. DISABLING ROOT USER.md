# DISABLING ROOT USER.md

SADA KADA SAM SUCCESSFULLY LOGGED IN MY SERVER, KAO USER KOJI NIJE ROOT, MORAM NESTO URADITI

NOVI USER IMA ROOT ACCESS

ZELI MDA DISBLE-UJEM ROOT, JER AKO SE SECAS SVIH ONIH LJUCI KOJI SU POKUSALI DA GET-UJU IN, NE BI BILO UOPSETE BENEFICIAL DA ONI UDJU KAO ROOT

ROOT MOZE BITI JEDNO OD COMMON USERNAME-IOVA, I ONI CE TRY-OVATI DA BREAKUJU IN TU

## SADA CU CU CHANG-OVATI FILE PERMISSIONS, KAKO BI SVE BILO READABLE I WRITABLE BY MY NEW USER

KUCAM

- chmod 644 ~/.ssh/authorized_keys

NIJE MI TREBAO sudo ZA OVO GORE

*JA USTVARI NISAM NI TREBAO DA URADIM OVAJ STEP, ALI  UZAVISNOSTI KOJ ITI JE SERVER SETUP, TI MOZDA MORAS OVO DA URADIS*

ZATO JE AUTOR WORKSHOP-A OVO OVDE STAVIO FOR THE FUTURE

JA SAM OVO ISTO EXECUTE-OVA KADA JE I ON I SVE JE BIL OU REDU

DAKLE IPAK KUCAJ OVO

I'M KIND-A BULETPROOFING MYSELF

ONO STA SAM URADIO ZA POMENUTI FAJL JESTE PERMISSIONS, KAKO ON NE BI BIO READABLE I WRITABLE BY EVERYONE

FAJL JE DAKLE SADA SAMO READABLE I WRITABLE BY *sudo; ja; i certain file system daemons, like SSH daemon*

## SADA CU DISABLE-OVATI ROOT LOGIN

- sudo vi /etc/ssh/sshd_config

DAKLE EDITOVACU CONFIG (SSH DEAMON CONFIG) FAJL, NA MOM SERVER-U

******

digresija:

KADA KUCAS DUGACKU KOMANDU, TI JE MOZES SA TAB-OM AUTOCOMPLET-OVATI  (TAK OKAD SI GORE POCE OD KUCAS `sshd_config`, MOGAO SI TO AUTOCOMPLETE-OVATI SA Tab-OM)

******

SADA SI U SSH DAEMON CONFIG-U

DEMON JE PROGRAM KOJI UVEK RUNNING IN THE BACKGROUND

>> And that's what allows us the SSH and we don't need to do anything to start it. We don't need to do anything to stop it. It's just constantly running and listening

SADA CU DA DISABLE-UJEM **RootLogin**

UDJI U INSERT MODE (i) I PRONADJI **PermitRootLogin** NA FAJLU, EDIT-UJ DA TO BUDE **no**

ZA SADA NECU NISTA VISE MENJATI (MOZE SE OVDE RADITI (EDITOVATI) JOS DOSTA STVARI, KAO STO JE DISABLE-OVANJE PASSWORD LOGIN-A, ZATI MMaxAuthTries (AKO NEKO POKUSA DA SE ULOGUJE CERTAIN AMOUNT OF TIME, MOZES IH POTPUNO BANOVATI), ZATIM TU MOZES PROMENITI I Maximum number of times you can be logged in as one user, things like that)

******

OVDE SE MOZE CHANGE-OVATI I PORT

ZA POTREBE OVOG WORKSHOPA TO NECU RADITI

ALI TO JE HELPFUL

SSH JE UVEK NA PORTU 22 BY DEFAULT I MOZES PROMENITI PORT ON ANYTHING ELSE YOU WANT, WHICH IT HELPS A LITTLE BIT WITH PEOPLE CONSTANTLY ATTACKING YOUR SERVER CUZ THEY KNOW SSH ON PORT 22

ALI TAKVO NESTO SE JOS ZOVE **SECURITY ABOVE SECURITY** (KAO DA KAZES OH MY DOOR IS OVERHERE I OSECS SE SAFER) (POGLEDAJ VIDEO ZA OSTALO O CEMU JE ON OVDE GOVORIO)

******

KAD TO URADIS (ESC) DA UDJES U COMMAND MODE VIM-A

I ONDA WRITE AND QUIT

- :wq

******

WORDS O CAUTINON:

SVAKI PUT KADA KORISTIS sudo, mOZES URADITI NESTO OPASNO

**OVAJ FAJL KOJI SAM MALOCAS MODIFIKOVAO, MOZE SE MODIFIKOVATI NA TAKAV NACIN DA NA KRAJU LOCK-UJEM MAYSELF OUT OF MY SERVER**

STO BI BILO EMBARECING

AKO SE TO DOGODI, POCNI OPET IZ POCETKA

OVO POSTAJE BIG DEAL, AKO IMAS PRODUCTION SERVER

AKO TO URADIS NOONE CAN GET IN

******

POGLEDAJ DEO VIDE GD GA PITAJU NESTO VEZANO ZA MENJANJ USERNAME*A

## SADA MORAM RESTARTOVATI SSH SERVICE

TO JE ZATO SO SSH DAEMON IS RUNNING I NE PROVERAVA UVEK CONFIG

- sudo service sshd restart

## AKO SAM SVE URADIO KAKO TREBA, SADA KAD POKUSAM DA SE LOGG-UJEM KAO ROOT TO MI VISE NECE BITI DOZVOLJENO

- exit

- ssh -i IME_FAJLA_SA_PRIVATE_KEYOM root@SERVEROV_IP

IMACU **PERMISSION DENIED**

## ROOT LOGIN SAM DAKLE DISABLE-OVAO

ROOT IMAM AKO MI IKADA TREBA, KORISCENJEM **sudo**-A

ALI AGAIN SAID, NE ZELIM DA RADI MSTVARI SA ROOT-OM, SEM AKO

******

digresija

KADA SE ULOGUJEM IMAM NAPISANO DA UBUNTU ZAHTEVA RESTARTOVANJE NAKON LARGE UPDATE-A

ZA SADA NE OBRACAM PAZNJU NA OVO, A STICI CU DO TOGA U JEDNO MDELU WORKSHOP-A

******
