# VERSIO NCONTROL SA git-OM

MOJ SERVER RUNN-UJE, MAPPED JE ZA PROCESS, MAPPED JE ZA PORT, IT REWRITES EVERYTHING

SADA CU RADITI VERSION CONTROL, JER VERSION CONTROL ZNACI DA MOGU PRAVITI CHANGES, MOGU PUSH-EVATI TO GITHUB ILI STASH (MIZDA MISLI NA ATALASIN STASH), ILI BILO KOJI DRUGI REPOSITORY KOJI VOLIS

MOZES PULL-OVATI DOWN I AND WORK ON IT ON YOUR COMPUTER

*A THIS POINT JA SAM U node ENVIROMENTU, I SERVER DOESN'T MATTER ANYMORE*

VERSION CONTROL DAKLE, SAMO RECORD-UJE CHANGES TO A FILE SYSTEM, KAK OBI BIO PERSERVED HISTORY

POSTOJE: Git, Subversion, Mercurial; FACEBOOK KORISTI *monorepo* (IMAJU JEDAN REPOZITORIJUM ZA SAV NJIHOV CODE, AT FACEBOOK) (TO JE ZATO STO Git NE MOZE DA HANDLE-UJE SAV CODE, KOJI IMAJU) (GIT PREDPOSTAVLJAM IMA MAXIMUM LIMIT)

TAKODJE GOOGLE IMA SVOJ SOPSTVENI CUSTOM REPO VERSION CONTROL TAKODJE

******

digresija ZA GitHub:

OVDE IMAM JEDNU STRANICU KOJA GOVORI O [UPDATING-U GITHUB CREDNTIALS-A](https://help.github.com/en/github/authenticating-to-github/updating-your-github-access-credentials)

PROCITAJ OVO I URADI STATI JE TU OBJASNJENO

******

******

DAKLE OVO CE BITI MALO CLUNKY OBJASNJENO U SUSTINI SVE STO SE TICE SSH KLJUCEVA CE BITI VALIDNO

1. KADA PRAVIS NOVI GIT REPOZITORIJUM, PRAVI GA BEZ IKAKVIH DODATNIH FAJLOVA (I TU CE TI BITI OBEZBEDJENI LINKOVI KOJI IMAJU U VIDU SSH OBLIK AUTENTIKACIJE), AKO VEC IMAS REPOZITORIJUM NA SERVERU, I ZELIS DA ADD-UJES REMOTE REPO

2. U SUSTINI VODI RACUNA DA KAD IMAS ONAJ REPO KOJI ZELIS DA BUDE REMOTE NA GITHUB-U (VEC JE KREIRAN GITHUV REPO), VODI RACUNA DA NEMAS NISTA U SVOM LOKALNOM REPO-U, POCNI DAKLE FRESH 

N NA TIM STVARIM SU SE DESILE GRESKE, PA SAM JA NA KRAJU MORAO DA PRAVIM NOVI GIT REPO, ALI NEMA VEZE PRAZAN

MRZELO ME JE DA 

******

## ONO STA CU JA URADITI SADA JESTE PUSHING MOG REPOZITORIJUMA, TOA A GitHub REPO

ZA TO MORAM PROCI KROZ SERIJU KORAKA

:one: KREIRANJE git REPOZITORIJUMA (TO RADIS)

:two: Create SSH key

:three: Add SSH key to Github

:four: Add remote repo

:five: Push local repository to Github

******

DOLE SAM USPEO DA NAPRAVIM GRESKU, KOJA SE SASTOJI OD TOGA DA SAM DODAO NEKE FAJLOVE README I .gitignore NA GITHUB REPOZITORIJUMU, I NISAM MOGAO DA PUSH-UJEM (IMAO SAM NEKI COLLISION)

TAKO KADA BUDES KREIRAO GITHUB REPO, NAPRAVI GA BEZ ICEGA, BEZ README-A, I BEZ .gitignore-A

******

## KREIRACU PRIVATNI GitHub REPOZITORIJUM

INICIJALIZUJ JE SA README-OM (IT MAKES EASIER TO PULL IN)

DODAJ GITIGNORE (TO MOZES PRITISNUTI DA SE ODRADI) (IZABERE node OPCIJU I TO CE DEFINISATI U GITIGNORE FAJLU DA SE IGNORE-UJU node_modules)

DODAJ I LICENCU IF YOU WANT

## IDI U .ssh NA TVO MSERVERU, KAKO BI KREIRAO SSH KEYS

- cd ~/.ssh

KORISTIS KOMANDU

ssh-keygen

TU CE TI BITI TRAZENO IME ZA DVA FAJLA KOJA CE BITI KREIRANA (ZATIM PASSPHRASE, KOJI CES PRESKOCITI (SAM OENTER))

MOZES DATI IME KOJE ZELIS (JEM JE DAO *id_rsa*) (MOGAO SAM DATI IME KOJE ZELIM ALI ON JE DAO OVO, OVO IMA NEKE VEZE SA AUTOMATIZACIJOM OVOG PROCESA, PROCITAJ NEKE ODGOVORE SA [ASK UBUNTU](https://askubuntu.com/questions/30788/does-ssh-key-need-to-be-named-id-rsa) STRANICE)

DAKLE DAO SAM U I JA IME **id_rsa** (ONO JE I PONUDJENO KAO DEFAULT)

IMAM SADA DVA FAJLA U MOM .ssh FOLDERU NA SERVERU

IZMEDJU OSTALOG ON MU JE DAO TAKVO IME STO JE REC O NOVOM SERVERU I NEMA SSH KLUCEVA TAMO

******

JEDNA STVAR KOJU *NE TREBAM RADITI*, A KOJU JE AUTOR WORKSHOPA NA PRVU POMISLIO DA SE TREBA URADITI, JESTE DODAVANJA SSH KLJUCA U **authorized_keys** FOLDER

authorized_keys SE NALAZI U .ssh FOLDER-U

MOZES TO I PROVERITI

- ls ~/.ssh

**NAIME ZATO STO SAM KREIRAO id_rsa PAR KLJUCEVA, TO SU DEFAULT KLJUCEVI, *I KADA BUDEM KORISTIO GITHUB ZA SSH, DA BI PULL-OVAO, ILI PUSH-OVA MY FILES, AUTOMATSKI CE LOOK INTO DEFAULT A TO JE **id_rsa*****

NE MORA MDA GA DODAJEM TO KEYCHAIN

******

******

digresija:

RANIJE NISI MOGAO DA DODAJES TO DE KEYCHAIN, ZTO STO SI KLJUCEVE KREIRAO NA WINDOWS-U (ALI JE OBJASNJENO KAK OSE ONI ADD-UJU TO KEYCHAIN)

KAD BUDES IMAO VREMENA POGLEDAJ TO (PROVEZBAJ TO NA UBUNTU, NA KOJEM JE RUNED TVO JSERVER)

******

GENERISAO SAM DAKLE KLJUCEVE

JEM KAZE DA STVARI OVDE POSTAJU TRICKIER

## MORAM SADA ADD-DOVATI SSH KEY TO GITHUB (OVO SE RADI DA NE BIH MORAO KORISTITI PASSWORD)

[HELP PAGE SA OBJASNJNJEM](https://help.github.com/en/github/authenticating-to-github/adding-a-new-ssh-key-to-your-github-account)

CAT-UJ, ODNOSNO PRICITAJ TVOJ PUBLIC KEY

- cat id_rsa.pub *(OPET TI NAPOMINJEM DA SAMO OVAJ FAJL CITAS ODNOSNO KOPIRAS (DAKLE SAMO SA .pub EKSTENZIJOM))*

******

.pub UKAZUJE DA JE REC O PUBLIC KLJUCU

******

KOPIRAJ ONO STO JE OUTPUTED U TERMINALU

SADA IDI U SVOJ GITHUB PROFIL

KLIKNI NA SVOJU SLIKU U DESNOM COSKU **-->** PA NA SETTINGS **-->** SSH and GPG keys **-->** New SSH key

PROLSEDI KLJUC

ZADAJ TITLE KOJI ZELIS

**OVO MI DAKLE DOZVOLJAVA DA SE KONEKTUJEM TO A GITHUB INSTEAD OF USING *PASSWORD***

## SADA MORA ADD-OVATI REMOTE TO MY NEW REPO NA SERVERU

[ZVANICNO OBJASNJENJE OD GITHUB-A](https://help.github.com/en/github/using-git/adding-a-remote)

AKO SE SECAS TI SI VEC RANIJE U app FOLDERU RUNN-OVAO git init (TAK ODA TO SADA NE MORAS DA RADIS)

SECAS SE ONOG ZELENOG UPADLJIVOG DUGMETA `Clone or Download`

**U SAMOM COSKU KARTICE PONUDJEN TI JE *Use SSH*** (TO RANIJE NISI NI PRIMETIO)

SUPROTNO OVOME JE KORISCENJE PASSWORD-A (ODNSNO BIO BIH UPITAN DA KORISTIM USER I PASSWORD EVERY SINGLE TIME), A JA SAM REKAO DA NE ZELIM DA KORISTIM PASSWORD ZA MOJ REPO

DAKLE KLIKNUCU NA *`Use SSH`*, JER GENERALNO NE ZELIM DA KORISTIM PASSWORDS, A KORISCENJA PASSWORDA JE I HASSLE

DAKLE ZELIM DA KORISTIM SSH AND ALL THIS WOULD HAPPEN IN THE BACKGROUND

KOPIRAM SADA ONAJ URL KOJI VODI DO TVOG GITHUB REPO-A (IMA .git JE NA 'REPU')

SADA IDEM U TERMINAL MOG SERVERA I NAVIGATE-UJEM U app FOLDER

- cd /var/www/app

U FOLDERU APP SE NALAZI FAJL .git

- ls -a (OVAKO SAM TO PROVERIO)

A MOGU PROVERITI I

- git status

I ZNAM DA SAM UREPOZITORIJUMU

TREBA SADA DA EXECUTE-UJEM KOMANDU

- git remote add origin `LINK KOJI SAM KOPIRAO SA GITHUB-A ()`

VERIFIKUJ SADA REMOTE

- git remote -v

******
******

**NEMOJ** DA KREIRAS I EDITUJES .gitignore JER GA VEC IMAS NA SERVERU (POPUNJEN JE POTPUNO)

**IGNORISI OVO SA VIM-OM**

AKO VEC NISI DODAO .gitignore DODAJ GA I EDITUJ GA U VIM-U

- vi -p .gitignore

DODAJ

```linux
# Dependency directories
node_modules/
```

AKO SE SECAS TI VEC JESI NAPRAVIO .gitignore KADA SI KREIRAO TVOJ GITHUB REPO

TAM OJE EXTENSIVE LISTA STVARI KOJE SU LISTED KAO IGNORE-I

TI SADA USTVARI ZADAJES node_modelus KAO IGNORE, JER JOS NISI COMMIT-OVAO NISTA, ANECES DA COMMIT-UJES DA I FOLDER node_modules BUDE TRACKED

**GORE POMENUTO SAM REKAO DA NE RADIS, SAMO DA NE BI DOSLO DO COLLISIONA IZMEDJU ONOG REMOTE-OVOG .gitignore-A I OVOG MOG** (AK OSE TO MOZE DESITI)

******

******

ONO STO CU USTVARI URADITI JE SLEDECE

SADA SAMO ZA OVAJ PUT **NEMOJ DA KUCAS `git add -A`**

VEC SAMO DODAJ, ODNOSNO ADD-UJ ZA TRACKING: package.json I app.js (OD TRI KOJA IMAS, A MEDJU NJIMA JE I node_modules)

DAKLE KUCACU

- git add package.json app.js (*TRACKUJEM SAMO OVE FAJLOVE*)

- git commit -am "initial commit on server" (*-a DODAJE SVE STO JE TRACKED I MODIFIED*)

*ONO STO CE SADA BITI IZBACENO JE DA BI TREBALO DA DODAM IME I MAIL, USTVARI PISACE OVAKO*

```linux
*** Please tell me who you are.

Run

  git config --global user.email "you@example.com"
  git config --global user.name "Your Name"

to set your account's default identity.
Omit --global to set the identity only in this repository.

fatal: unable to auto-detect email address (got 'rade@fsfmserver.(none)')
```

URADI STA TI KAZE, PA PROBAJ OPET DA COMMIT-UJES

- git config --global user.email `"STAVI TVOJ HOTMAIL-OV EMAIL OVDE"`

- git config --global user.name "STAVI IME OVDE, NA PRIMER rade_doserver"

ZASTO SE TO DOGODILO?

>> That's just so when you push, when it lands on GitHub, there'll be someone attributed to it. Not some random person. You don't have to put in your real email, you don't have to put in your real name, be whoever you wanna be. But it's just so later when you're pushing, you know exactly where that push came from. So sometimes it's better to say git config. It just tells you where it came from, rather than your home compute

SADA MOZES DA COMMIT-UJES

- git commit -am "initial commit on server"

## SADA BI TREBAL ODA PUSH-UJEM MOJ LOKALNI REPO SA SERVERA, SVE DO GITHUB-A

git push -u origin master

PROBLEMI SU OVDE NASTALI ZBOG README-A I ZBOG gitignore-a KOJI VEC POSTOJE NA GITHUB-U U REPO-U

USTVARI MISLI MDA MI JE SAMO README NAPRAVIO PROBLEME

NIJE BITNO ONO STA SAM JA URADIO JEDE DA SAM UKLONIO CEL IGITHUB REPO I DA SAM NAPRAVIO NOVI BEZ REDME-A I .gitignore-A

OBAVIO SAM PONOVO ONAJ PROCES ADDING-A REMOTE-A ZA MOJ LOKALNI REPO NA SERVERU

COMMIT-OVAO SAM

PUSH-OVAO SAM I SAD JE SVE U REDU

## NA KRAJU ZELIM DA PULL-UJEM DOWN GITHUB REPO, LOKALNO NA MOM RACUNARU (DAKLE NE NA SERVERU)

ZELIM DA DEVELOP-UJEM LOKALNO

PUSH-UJEM NA GIT HUB REPO

A DA PULL-UJEM SA GITHUB REPO-A NA SERVERU SVE STO JE PRONADJENO

### KLONIRAM GITHUB REPO SA NARAVNO LINKOM KOJI JE SSH

KLIKCEM NA KARTICI NA SSH

- git clone "LINK KOJI U VIDU IMA SSH"

### TI OD RANIJE VEC IMAS SSH NA TVOJOJ LOKALNOJ MASINI, A CIJI PUBLIC COUNTERPART JE NA GITHUB-U

TAK ODA OVDE KADA PUSH-UJES STA SI PROMENIO NE MORAS DA BRINES, JER TO CE OTICI NA GIT REPO

MALO SE IGRAJ EDITUJ PA PUSH-UJ, I TO U VS CODE IDE-U, KOJI JE BOLJI ENVIROMENT FOR SURE ZA MODIFIKOVANJE FAJLOVA, NEGO STO JE VIM

DODAO SAM README.md U VSCODE-U I NESTI NAPISAO

- git add -A

git commit -am "readme added"

- git push

### KADA OCES DA APPLY-UJE PROMENE NA CODE NA SERVERU, TI ONDA PULL-UJ SA GITHUB REMOTE REPO-A

- git pull

DOBIO SAM TAJ README

- cat README.md

DOBRO SAD JE SAMO README BIO U PITANJU, ALI DA SAM PROMENIO CODE app.js-A, JA BIH ONDA 

**RELOADOVAO SERVER** (AKO SI ZABORAVIO, KORISTIS TADA PROCESS MANGER-A, ODNSNO pm2)

- pm2 reload app.js

[OVDE IMAS NESTO VISE O TO MRELODINGU, ODNOSNO HANDLE-OVANJU PROCESS-A](https://pm2.keymetrics.io/docs/usage/quick-start/#managing-processes)

## PROCITAJ STA JE O TOME REKAO I JEM

>> And now I've modified my app fresh, and I can share this out with a bunch of people. So ten people can work on my app now and then run against the server.

>> we can set up a cron job that automatically pulls in the latest changes. I don't recommend doing that. That's a surefire way to get yourself into a corner if someone does something weird and then takes down the server cuz they configured something incorrectly.

JEM TAKO KAZE DA O NDEVELOP-UJE I DA JE NJEGOV WEBSITE TAKO SETTED UP
