# ZELIM DA DEFINISEM GOTOVO ISTI PRIMER KOJI JE AUTOR WORKSHOPA DEFINISAO, SAMO STO ZELIM DA, STO SE TICE NODE APLIKACIJE, JA NJU SERVIRAM SA RAZLICITOG PORT-A, KAKO BI BILE DOSTUPNE DVE APLIKACIJE; JEDNA JNA JEDNOM A JEDNA NA DRUGOM PORTU

JEDNA CE BITI ONA POSTOJECA (Hello World)

ONA JE ZA PATH /

A DRUGA CE HANDLE-OVATI WEBSOCKET

ONA MOZE BITI ZA PATH /blahchat

## U PROSLOM MD FAJLU SAM OBJASNIO KAKO DA KONFIGURIRAM Nginx, KAKO BI MOGAO DA KORISTIM WEB SOCKET, ALI POSTO SAM TO URADIO ZA POSTOJECU LOKACIJU (PORT SA KOJEG SERV-EUJEM ), A TU MI NECE TREBATI WEBSOCKET, JA SADA ZELIM OPET DA KONFIGURIRAM Nginx, KAKO BI SVE POPRAVIO

ZA NOVI PATH CU ZADATI proxy_pass I OSTALA DVA UPGRADE-A, KOJA SE ODNOSE NA WEB SOCKET

- sudo vi /etc/nginx/sites-available/default

EVO '/' LOCATION CE BITI BEZ WEB SOCKET NADOGRADNJE

A '/blahchat' CE IMATI NADOGRADNJU ZA WEBSOCKET, A; A ZADAO SAM MU I proxy_pass; I ONO STO VIDIS JESTE DA CE SE KORITITI PORT 3800

```linux
location / {
        proxy_pass http://127.0.0.1:3000/;
}

location /blahchat {
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection "upgrade";

        proxy_pass http://127.0.0.1:3800/;
}
```

## DA REDEFINISEM SADA MOJ app.js FAJL, KAKO BI UCINO DA ON BUDE SERVER, SVIH STATICNIH FAJLOVA

SVE CU URADITI LOKALNO (TVOJI SSH KLJUCEVI SU PODESENI, AI GITHUB REPO SECAS SE (LOKALNO RADIS PUSH-UJES NA GITHUB, PA TO PULLUJES SA GITHUB-A NA SERVER))

app.js FAJL

```javascript
const express = require('express');
const app = express();

const port = 3000;

// DA BIH SERVIRAO STATICNE FAJLOVE, KORISTIM       express.static      MIDDLEWARE

// KORITICU PATH-OVE, ALI ZAPAMTI DA ONI NE MOGU BITI 


app.get('/', (req, res) => {
	res.send('Hello World!');
});

//////////////////

app.get('/blah', (req, res) => {

	res.set('X-bobby-the-trash-can', "you'we been bobied")

	res.status(418).json({message: "Hellow"})

})
/////////////////

app.listen(port, () => {
	console.log(`Example app listening on port ${port}!`)
})
```

## ONO KAKO CU SADA DEFINISATI JESTE DA CU SAMO DEFINISATI NOVI EXPRESS SERVER, ODNONO NOVI FAJL, PORED POSTOJECEG app.js

OVO DAKLE DEFINISEM VEZANO ZA BACKEND

LOKALNO CU CAK MOCI I TESTIRATI WEB SOCKET (PREDPOSTAVLJAM)

NEKA SE NOVI FAJL ZOVE **socket.js**

I ODMAH INSTALIRAJ 'ws' PAKET O KOJEM SAM GOVORIO

- npm i ws --save

A SADA OVO DEFINISEM U socket.js

```javascript

// GLEDACU DA PRETERANO NE 


```

