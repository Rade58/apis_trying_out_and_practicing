# STANDARD STREAMS I REDIRECTION

>> OVDE POCINJE DRUGI DEO WORKSHOP-A

U OVOM DELU CE BITI PRIKAZAN NEKI GENERAL KNOWLADGE, KOJI ZA DANASNJE VREME U INDUSTRIJI, NIJE VISE CORE KOJI JE PRESUDAN ZA POZNAVANJE, FOR RUNNING YOUR APPLICATION

PRVA STVAR O KOJOJ CU GOVORITI S USTANDARD STREAMS

## STANDARD STREAMS

STA SU TO **STANDARD IN** I **STANDARD OUT** ?

POJMA NEMAM

**VEC SI IH KORISTIO A DA O TOME NISI ZNAO**, *AKO SI PISAO ANY SORT OF Unix, PA CAK I Nodejs, TI SI KORISTIO OVE STVARI, TAKODJE*

POSTOJE STVARI CALLED *STANDARD STREAMS*

ONI SU USTVARI

- STANDAR OUTPUT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; **stdout**

- STANDAR INPUT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; **stdin**

- STANDAR OUTPUT &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; **stderr**

*TO JE SJAJNO JER SU ONI STANDARD ZA SKORO SVE UNIX APPLIKACIJE*

## POSTOJI I NESTO STO SE ZOVE **POSIX STANDARDI** (PORTABLE OPERATING SYSTEM INTERFACE)

U SUSTINI GRUPA LJUDI SE SLOZILA, DA AKO PISES BILO KOJU Unix APLIKACIJU, TEBA DA POSTOJI NEKA VRSTA STANDARD WAY-A DA OUTPUTS COME OUTS, INPUTS GO IN, I ERRORI SU HANDLED

OVO SI SIGURNO VIDEO EVERYWHARE IN CALLBACK-OVIMA, AKO SI PISAO NEKU NODE APPLIKACIJU, VIDEO SI: *it's always send it in, send it out, send to error* I TOME SLICNO

TO JE REALLY AWESOME JE HIGHLIGHT-UJE ONO O CEM USE PRICALO U PRVOM DELU OVOG WORKSHOP-A, KAKO JE INTERNET BUILT ON TRUST

OVAJ STADARD CINI PROGRAME VEOMA, VEOMA READABLE-IMA

I TO ZNACI DA ZA  BILO KOJI UNIX PROGRAM KOJI RUNN-UJEM, JA MOGU PIPE-OVATI INPUT, PIP-OVATI OUTPUT, MOGU PIPE-OVATI I ERRORS TO A STANDARD PLACE; I ONE SU SVE HANDLED, I ZNAM FOR A FACT THAT, IT IS GOING TO WORK, ZATO STO THEY ALL SHARE THIS COMMON API

## I ONO STO RADIMO SA OVIM INPUT-IMA, OUTPUT-OVIMA I ERROR-IMA, JESTE DA KORISTIMO NESTO STO SE ZOVE **REDIRECTION**

VIDEO SI U PRWOM DELU WORKSHOP-A, KADA SAM UPOTREBIO

- *PIPE OPERATOR* (NISAM NIGDE MOGAO DA PRONADJEM DA SAM OVO KORISTIO U PRVOM DELU WORKSHOP-A (MOZDA JE REC O ONOM -p, MOZDA NIJE))

pipe JE DOBAR PRIMER ZA READING FROM STANDARD OUT, ZATO STO RUN-UJEM NESTO I ONDA SVE OUTPUT-OVI, PIPE-UJEM TO SOMETHING ELSE

ZELIM DA VIDIM PRIMER OVOGA, ALI PRVO MORAM DA SE ULOGUJEM U SERVER

- cd ~/.ssh

- ssh -i ime_fajla USER_NAME@SERVEROV_IP

## PRVO CU SE POZABAVITI SA **|**, KOJI SLUZI ZA READING FROM *stdout*

ONO STO CU RUNN-OVATI JESTE ps KOMANDA, KOJA MI POKAZUJE MOJE RUNNING PROCESE

- ps

I NISTA SE NIJE DOGODILO, ODNOSNO POKAZANI SU RUNNING PROCESSI

```linux
PID TTY          TIME CMD
 3002 pts/0    00:00:00 bash
 3012 pts/0    00:00:00 ps
```

ALI SADA CU KORISTITI *REDIRECTION OPERATOR*, ODNOSNO KORISTICU (**|**), ZAJEDNO SA **grep** KOMANDOM, CIJOM SE UPOTREBOM KORISTI REGULAR EXPRESSION

- ps | grep bash

ONO STA JE OUTPUTED JE

```javascript
3002 pts/0    00:00:00 bash     //    STAMPAN JE DAKLE ONAJ RED ps-A, U KOJEM SE NALAZI REC `bash`, A TA REC JE PODEBLJANA CRVENOM BOJOM
```

STA SAM JA USTVARI URADIO KUCAJUCI, POMENUTU KOMANDU

**UZET JE SAV OUTPUT FROM ps (LISTNING PROCESS-A), I WROTE-OVAN JE OVER THE grep PROGRAM; A GREP CE URADITI GENERALNI REGULAR EXPRSSION ON IT**

*ON ONDA SEARCH-UJE OVER ANYTHING STA ZELIM I RETURNUJE LINE*

DAKLE **STASMPAN JE ONAJ RED U KOJEM SE NALAZI WORD `bash` JER SAM NJU SEARCH-OVAO** 

**JA MOGU URADITI DOSTA STVARI SA REDIRECTION**

MOGU WRITE-OVATI FAJLOVE, MOGU READ-OVATI FROM FILES; MOGU RADITI, VEOMA KOMPLEKSNE STVARI

I TADA KADA SE URADE TE KOMPLEKSNE STAVRI TI MOZES POMISLITI `OVO NEMA NIKAVOG SMISLA, OVO NIJE REAL CODE`

ALI IMA SMISLA

MEDJUTIM JEM JE ODLUCIO DA IZOSTAVI TAKAVE KOMPLEKSNE PRIMERE JER MI NE BI POMOGLI I DAY TO DAY ,ALI ONI SU COOL LOOKING (DOBRI SU ZA SHOWING OF)

**DAKLE POMENUTI *|* SLUZI DA SE *READ-UJE* FROM `stdout`**

SADA ZELIM POKAZATI I OSTALE

NAIME POSTOJE I ERROR OPERATOR, ILI GREATHER THAN OPERATOR

## **>** SLUZI ZA WRITING stdout-A TO A FILE

DAKLE, RATHER THAN TYPING IT SA JEDNE STRANE NA DRUGU; O NCE SAMO WRITE-OVATI TO A FILE

SUPER JE USEFUL ZA WRITING TO A LOG FILE

IDEM SADA U HOME DIREKTORIJUM

- cd ~

KREIRACU LOG FILE

- touch test.log

ZATIM CU UPISATI SVE LISTED RUNNING PROCESS-E U NOVI FAJL

- ps > test.log

PROVERI SADA STA IMA U test.log

- cat test.log

I OVO JE OUTPUTED

```linux
  PID TTY          TIME CMD
 3002 pts/0    00:00:00 bash
 3032 pts/0    00:00:00 ps
```

DAKLE UPISAN-O JE ONO STO JE PROPIZISLO IZ ps KOMANDE,  UMOJ NOVI FASJL KOJI SAM KREIRAO

**ONO STO CES CESTO RADITI JESTE DA CES UZIMATI OUTPUT I WRITE-OVACES GA TO LOG FILES**, I ON OSTA JE DIVNO U VEZI TOGA, JESTE DA TI PIPE-UJES ALL LOG FILES TO A COMMON PLACE, GENERALN OTAM OGDE SU LOG FILES KEPT

TO MESTO JE

/var/log

I TO JESTE CANONICAL PLACE, GDE TI UVEK CUVAS SVOLE LOG FAJLOVE

### SADA CU POGLEDATI LOG, JER GA NISAM DUGO POGLEDAO

******

KADA ZELIS DA SERACH-UJES ILI NAVIGATE-UJES TO `/var/log` ILI NEKO DRUGO MESTOM, TI NE MORAS KORISTITI cd .. ILI SLICNO DA BIH DOSAO DO root-A

OVO NIJE WINDOWS DA MORAS PISATI C:/

OVO GOVORIM JER KADA SE ULOGUJES TI SI U home/$USERNAME

A root TI JE CONTAIN-UJE home (U KOJE MSE NALAZI I var)

MA GDWE BIO, AKO ZELIS DA DODJES DO var-A, TI CES KUCATI

**cd /var**

DA NASTAVIM SADA SA TEMOM

******

DAKLE ZELIM DA POGLEDAM LOG

- ls /var/log

IZLISTANI SU MNOGI LOG FAJLOVI

ALL LOGS FO R ALL SERVICES SU WRITTEN IN A SAME PLACE

*AKO RADIM BILO KAKAV LOGING TREBA DA GA STAVIM OVDE*

TI JE nginx LOG, apt LOG

MOGU DA POKUSAM DA KORISTIM sudo U LISTANJU

- sudo ls /var/log

AL INISTA NECU NOVO VIDETI

*RTITING TO OUTPUT I PIPING ONE SU MOST COMMON*

**KADA VIDIS LJUDE DA SU DOBRI U SVOM UNIX FOO-U, VIDECES DA CHAIN-UJU STVARI** (URADICE AMAZING THINGS ON THE COMMAND LINE, UZ KORISCENJE REDIRECTION OPERATORA)

SVE ZATO STO ZNAMO DA POSTOJE STANDART INPUT, STANDARD OUTPUT, I STANDARD ERROR

OVO JE DAKLE DOBRO JER POKAZUJE POWER OF HAVING COMMON API, I KADA IMAS OVKO WELL ESTABLISHED PATTERN, TI MOZES RADITI AMAZING THINGS

## PROBLEM SA WRITING TO stdout, JESTE STO CE BLOW OUT BILO STA STO SI IMAO WRITTEN BEFORE, ALI POSTOJI I MOGUCNOST APPEND-A, UZ KORISCENJE **>>** (DUPLIH KARAKTERA GREATHER THAN)

## AKO ZELIS DA READ-UJE FROM stdin, KORISTICES **<** (LESS THAN)

TI CES TO TAKE-OVATI FAJLI I POKUSATI DA GA PIPE-UJES U PROGRAM KOJI ZELIS DA RUNN-UJES

## STANDARD ERROR JE NESTO DRUGACIJI, ON SE PISE, KAO DVOJAK SA GREATHER THAN (**2>**)

MALO JE WIERD, U PITANJU JE VEROVATNO RUNNING OUT OF SYMBOLS KOJI SE MOGU KORISTITI

******

NEKADA MOZES VIDETI DA NEKO WRITING TO STANDARD OUT, PISE KAO ONE ZAJEDNO SA GREATHER THAN **1>**

A CITANJE FROM STANDARD IN, PISU KAO  ZERO LESS THAN **0<**

POMENUTI FORMAT NECES VIDETI TAKO OFTEN

******


OVO CES VIDETI QUITE OFTEN

- foo > bar

ONO STO JE OUTPUTED BY foo SE WRITE-UJE U bar

NEKDE U WORKSHOPU JA CU OVO KORISTITI PA JE DOBRO DA BUDEM FAMILIAR SA SINTAKSOM

## AKO MI TREBA REFERENCA, OVO JE POPRILICNO STRAIGHT FORWARD

- `|`  &nbsp;&nbsp;&nbsp;&nbsp; read from stdout

- `>`  &nbsp;&nbsp;&nbsp;&nbsp; write stdout to file

- `>>` &nbsp;&nbsp;&nbsp;&nbsp; append stdout to file

- `<` &nbsp;&nbsp;&nbsp;&nbsp;  read from stdin

- `2>` &nbsp;&nbsp;&nbsp;&nbsp; read from stderr
