# REACTING TO NOTIFICATION INTERACTION

OVO JESTE MOGUCE DEFINISATI, ALI TO MORAM OBAVITI U SERVICE WORKER-U

ODNOSNO REACTING NA CLICING ILI TAPING PO ACTION DUGMADIMA, ILI PO NOTIFIOCATION-U U CELOSTI, ZAISTA JESTE MOGUCE, ALI SE TO DEFINISE U SERVICE WORKER-U

A ZASTO U SERVICE WORKER-U?

## ZATO STO JE NOTIFICATION DEVICE-OV, ODNOSNO SYSTEM FEATURE, ODNOSNO FEATURE OPERATIVNOG SISTEMA NA KOJE MJE RUNNED BROWSER, MOGU GA SELEKTOVATI SAMO U SERVICE WORKER-U

A SERVICE WORKER IS RUNNING IN THE BACKGROUND, KAO STO ZNAM

UPRAVO ZATO U CHROME-U ZA ANDROID, CAK IAKO JE APP ZATVOREN, CAK IAKO JE BROWSER ZATVOREN, JA CU DOBIJATI NOTIFICATION-E

## ZATO CU SADA USERVICE WORKERU, SLUSATI NA SPECIJALNI EVENT, A TO 'notificationclick' EVENT

EVENT JE TRIGGERED, SVAKI PUT, KADA KORISNIK KLIKNE NA NOTIFICATION

DAKLE NA SAMOM DNU SERVICE WORKER FAJLA DEFINISEM SLEDECE

sw.js FAJL:

```javascript

self.addEventListener('notificationclick', ev => {

    // KAKO BI SELEKTOVAO NOTIFICATION, KOJI JE TRENUTNO KLIKNUT, KORISTIM EVENT-OV notification PROPERTI

    console.log(ev.notification);   // MOGU MALO INSPECT-OVATI PROPERTIJE Notificatio nINSTANCE, KOJOJ JE 
                                    // OVAKO PRISTUPLJENO

    const notification = ev.notification;

    // AKO JE KLIKNUT NEKI ACTION BUTTON, I VREDNOSCU, NJEGOVOG action PROPERTIJA, JA ZAISTA MOGU PRISTUPITA
    const action = ev.action;

    // MOGU PROVERITI, DA LI JE REC O DUGMETU CIJI action PROPERTI IMA VREDNSOT confirm, I NA TAJ ANCIN MOGU
    // DEFINISATI, KAK OCE SE REAGOVATI, AKO JE KORISNIK PRISTISNUO confirm BUTTON NA NOTIFIKACIJI
    // (ZAPAMTI DA SAM JA TAKAV BUTTON DEFINISAO OPCIJAMA, A U PROSLOM md FAJLU JE TO PRIKAZANO)

    if(action === 'confirm'){

        // DEFINISACU DA SE NOTIFICATIO NZATVARA, KLIKOM NA OK, ODNOSN Oconfirm DUGME

        notification.close()

    }else{
        // A MOGUCE JE DA JE KORISNIK KLIKNUO NA ONAJ BUTTON, KOJI SAM DEFINISAO DA BUDE CACEL BUTTON

        // NA DESKTOPU I NEKIM ANDROID UREDJAJIMA VIDEO SAM DA SE NOTIFIKACIJA ZATVARA NA X,  UDESNOM COSKU
        // A KONKRETNO NA MOM ANDROID UREDJAJU, OAN SE SWIPE-UJE, I NA TA JANCIN ZATVARA

        // JA CU SAMO U OVOM SLUCAJ USTAMPATI VREDNOST action-A, KOJI NIJE DUGMETOV, KOJE JE SAM RANIZE ZADAO
        // KAO CONFIRMATIO NDUGME

        console.log(action);
        notification.close()
    }


    // U OVOM SLUCAJU NISAM DEFINISAO NIKAKAV REACTION, KOJI BI SE DOGODIO, KADA BI KORISNIK KLIKNUO NA SAMU 
    // NOTIFIKACIJU
    // NARAVNO I TO MOGU DEFINISATI, ALI NE SADA


})

```

## DAKLE, OVDE SAM SE SAMO VIDEO, KAK OSTVARI FUNKCIONISU U POGLEDU ACTIONA; A NESTO KASNIJE, ODNOSNO KADA BUDEM PRI KRAJU UPOZNAVANJA SA SVIM PWA TEHNOLOGIJAMA, JA CU DEFINISATI KAK ODA KORISNIK, KADA KLIKNE NA NEKI NOTIFICATION-OV ACTION, ILI NA SAM NOTIFICATION, USTVARI OTVORI STRANICU, NA KOJOJ JE MOJ CLANAK

TO JE ONO STO CU NAJCESCE ZELETI DA DEFINISEM

