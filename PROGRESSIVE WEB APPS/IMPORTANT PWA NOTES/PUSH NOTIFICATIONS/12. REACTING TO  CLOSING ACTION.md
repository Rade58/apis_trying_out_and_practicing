# REACTING TO CLOSING NOTIFICATION INTERACTION

U SUSTINI SADA SLUSAM NA

- 'notificationclose'

EVENT, U SERVICE WORKER-U

## CLOSE U SUSTIN IZNACI, KADA KORISNIK NA ANDROID-U, SWIPE-UJE NOTIFICATION, ON GA JE ZATVORIO, ALI NA MAC-U, ON MORA PRITISNUTUI CLOSE BUTTON

DAKLE U SUSTINI NE PRISTISKA SE NA IKS I NE SWIPE-UJE SE NA MACU

I U PRAVO JA MOGU SLUSATI TAJ PRESSING CLOSE BUTTONA NA MACU

A SWIPE-INGOM NA ANDROIDU TRIGGER-OVACE SE TAJ EVENT

ODNOSNO TO CE U SERWICE WORKER-U TRIGGER-OVATI 'notificationclose' EVENT

## I U MOM PRIMERU, ODNOSNO U SERVICE WORKER-U JA CU SLUSATI 'notificationclose'

sw.js FAJL:

```javascript
self.addEventListener('notificationclick', ev => {

    const notification = ev.notification;
    console.log(notification);
    const action = ev.action;

    if(action === 'confirm'){

        notification.close()

    }else{


        console.log(action);

        notification.close()
    }


})

// EVO NA SAMOM KRAJ USERVICE WORKERA, DEFINISAO SAM KACENJE ON notificationclose EVENT HANDLER-A

self.addEventListener('notificationclose' ev => {

    console.log('Notification was closed', ev)

    // DAKLE SAMO SAM DEFINISAO DA SE STAMPA STRING I EVENT INSTANCA
    // KAKO BI POGLEDAO, KOJE PROPERTIJE, IMA TA EVENT INSTANCA

})

```

## POSTO U MOM PRIMERU JA SAMO PRAVIM CONSOLE OUTPUT, JA NE BIH NA ANDROIDU, NA MOJOJ DEPLOYED APLIAKCIJI MOGAO VIDETI KONZOLU, I ZATO BI MI OPET TREBALA MOGUCNOST REMOTE DEBUGGING-A, KOJEG CU JEDNOM PRILIKOM PODESITI, KAKO BI MOZDA OLAKSAO DEVELOPMENT ZA MOBILNE UREDJAJE

## ZA STA BIH KORISTIO OVAJ EVENT

PA MOGAO BI DA SALJEM ANALITIKU SERVERU, O TOME DA JE KORISNIK ODLUCIO DA SWIPE-UJE, ODNOSNO ZATVORI NOTIFICATION

STO ZNACI DA MOZDA NIJE ZELEO DA PROCITA, CLANAK U MOJOJ APLIKACIJI

JA BIH ONDA MORAO DA OTKRIJEM ZASTO KORISNIK NIJE ODLUCIO DA TAPNE NA MOJ NOTIFICATION, PA DA SE RUKOVODIM TIME U DALJEM DEVELOPMENT-U
