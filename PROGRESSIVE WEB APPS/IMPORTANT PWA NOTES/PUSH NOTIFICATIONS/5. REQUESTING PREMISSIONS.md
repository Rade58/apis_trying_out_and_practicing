# REQUESTING PREMISSIONS FOR TOTIFICATIONS

U MOM PROJEKTU, JA IMAM DUGMAD SA KLASOM '.enable-notifications' KOJI SAM KREIRAO, KADA SAM POCEO GRADNJU APP-A

TO DUGME JE I U index.html ALI I U help.html 

## SADA CU PRISTUPITI SVIM TI MDUGMADIMA U app.js FAJLU, 

app.js FAJL

```javascript

const enableNotificationsButtons = document.querySelectorAll('button.enable-notifications');

```

## POSTO POSTOJI MOGUCNOST DA BROWSER NE PODRZAVA Notifications JA CU U MOM APP-U OSTAVITI TAKVU SITUACIJU DA TO BUDE DEFAULT

STA TO ZNACI

PA NEKA SE ZA POCETAK NE DISPLAY-UJU DUGMAD ZA ENABLING NOTIFIKACIJE

app.css FAJL:

```css
button.enable-notifications {
    display: none;
}
```

## SADA MORAM POSTAVITI USLOVNU IZJAVU, U CIJEM OBIMU CU DEFINISATI CODE, ZA SLUCAJ DA SU Notifications SUPPORTED

app.js FAJL

```javascript
if('Notification' in window){     // API NAME JESTE Notification (NIJE MNOZINA I VELIKO PRVO SLOVO)

}
```

## I ONDA CU DA ZA POMENUTU DUGMAD DA ZAKACIM onclick EVENT HANDLER; A U OBIMU TOG HANDLER-A CU DA DEFINISEM CODE KOJI CE ENABLE-OVATI NOTIFICATION-E; ALI I KOJI CE PRIKAZATI POMENUTU DUGMAD, KOJA JE KAO STO SAM U CSS PODESIO DISPLAYED NONE P ODEFAULT-U

app.js FAJL

```javascript

const enableNotificationsButtons = document.querySelectorAll('button.enable-notifications');

if('Notification' in window){

    // NEKAO OVO BUDE onclick EVENT HANDLER, U CIJEM OBIMU CU DOZVOLITI NOTIFIKACIJE, USKORO
    const askForNotificationPremission = event => {

    };


    enableNotificationsButtons.forEach(button => {
        // SVAKO DUGME DISPLAY-UJEM
        button.style.display = "inline-block";
        button.addEventListener('click', askForNotificationPremission)   // HANDLER KACIM NA SVAKO DUGME
    })
}


```

## DAKLE ASKING FOR NOTIFICATION PREMISSION CU PRVO URADITI TEORETSKI

BROWSER CE PROMPT-OVATI KORISNIKA, ALI BOLJE DA JA OVO URADIM MANUELN-O, JER MI TO OMOGUCAVA DA HANDLE-UJEM USER RESPONSE, I DACE MI KONTROLU, U TOM POGLEDU, KADA SE KORISNIKA PITA ZA POMENUTI ENABLING

U OVOM SLUCAJU KORISNIK BIVA PITAN, KADA AKTIVNO PRITISNE DUGME

DAKLE SANSE DA USER MENI DA PREMISSION SU PRILICNO VELIKE, NA OVAJ NACIN

## POTREBNO JE NA Notificatio KONSTRUKTORU, EXECUTE-OVATI requestPremission METODU

app.js FAJL

```javascript

const enableNotificationsButtons = document.querySelectorAll('button.enable-notifications');

if('Notification' in window){

    // NEKAO OVO BUDE onclick EVENT HANDLER, U CIJEM OBIMU CU DOZVOLITI NOTIFIKACIJE, USKORO
    const askForNotificationPremission = event => {

    };


    enableNotificationsButtons.forEach(button => {
        // SVAKO DUGME DISPLAY-UJEM
        button.style.display = "inline-block";
        button.addEventListener('click', askForNotificationPremission)   // HANDLER KACIM NA SVAKO DUGME
    })
}


```