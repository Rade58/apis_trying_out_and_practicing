# MENI JE POTREBAN DAKLE PRISTUP KAMERI UREDJAJA, ALI PRE TOGA MORAM ACCESS-OVATI video ELEMENT I   canvas ELEMENT IZ DOM-A, JER CE MI UPRAVO ONI BITI POTREBNI ZA KAERU

## IDEJA SE SASTOJI OD STREAMING-A LIVE PICTURE-A, DEVICE-OVE KAMERE, I PRIKAZIVANJE TOG LIVE PICTURE-A, U VIDEO ELEMENT-U

DAKLE NECU UZIMATI SAMO STATIC IMAGE, VEC JA CU PRIKAZIVATI VIDEO U WEB BROWSER-U

E ONDA CU KORISTITI canvas, DA U SUSTIN IZAMRZNEM (FREEZE), TU SLIKU; SVAKI PUT KADA SE KLIKNE NA CAPTURE BUTTON

## ZASTO SE KORISTI OVAJ PRISTUP?

DA KRENEM OD OPOSITE APPROACH-A, U OBJASNAJVANJU OVOGA

NAIME, JA SAM MOGAO KORISTITI IMAGE PICKER, ZA INPIT SLIKE

AKO NA NEKOM UREDJAJU TAPNEM NA TAJ INPUT, AUTOMATSKI CU DOBITI INTERFACE  KOJI JE PROVIDED OD UREDJAJA, BIO TO ANDROID ILI APPLE IPHONE

U TOM INTERFACE-U MOGU BIRATI DA LI ZELIM DA

- **KORISTIM KAMERU I DA ODMAH USLIKAM SLIKU**

- **ILI DA BIRAM IMAGE FAJL IZ STORAGE-A UREDJAJA** (IZ FILE SISTEM-A, ODNOSNO GALERIJE)

> OBE OVE STVARI SU NICE I MOGU IH KORISTITI

## ALI JA ZELI MDA EMBED-UJEM FULL EXPERIANCE U MOJ WEB APP, KAKO KORISNIK NE BI MORAO DA LAEAVE-UJE MOJ WEB APP, DA BI USLIKAO SLIKU

## ZATO MI TREBA MESTO DA STREAM-UJEM VIDEO (video ELEMENT)

DAKLE KORISNIK CE CALIBRATE-OVATI KAMERU I GLEDATI HOW TO TAKE A GOOD PICTURE

## A canvas CE SLUZITI ZA TAKING TOG PICTURE-A

NARAVNO CAPTURE BUTTON CE TRIGGER-OVATI EVENT NA canvasu KAKO BI TO BILO USPESNO

*DAKLE NA TAJ NACIN CU KORISTITI POMENUTA TRI ELEMENTA:* canvas, video, i button

## SVE POMENUTO CU DEFINISATI U feed.js FAJLU

PRVO CU IZABRATI SVE POTREBNE ELEMENTE

A ONO STO ZELIM DA DEKLARISEM JESTE FUNKCIJA, KOJOJ CU DATI IME **initializeMedia**, TU FUNKCIJU, NAKON STO JE DEFINISEM CU POZVATI U ONOM HANDLER-U, KOJI JE ZAKACEN NA ONO DUGME SA 'PLUSOM', ODNOSNO DUGME NA KOJE KADA KLIKNEM, OTVARA ONAJ MODALNI MENI NA KOJEM SU FIELDS ZA POST

DEO feed.js FAJLA

```javascript

// OVDE MOGU SELEKTOVATI SVE NEOPHODNE ELEMENTE, O KOJIMA SAM GOVORIO

const videoPlayer = document.querySelector('video#player');
const canvasElement = document.querySelector('canvas#canvas');
const captureButton = document.querySelector('button#capture-btn');
const imagePicker = document.querySelector('input#image-picker');
const imagePickerArea = document.querySelector('div#pick-image');

// OVDE CU DEKLARISTAI TU FUNKCIJU KOJU CU ODMAH POZVATI U HANDLERU DOLE
// A NESTO KASNIJE CU DEFINISATI CODE NJENOG OBIMA

const initializeMedia = function(){

};

// OVE HANDLERE SAM RANIJE DEFINISAO, TOKOM BAVLJENJA SA PWA, KAO STO JE POZNATO,
// TADA SAM DEFINISAO OTVARANJE I ZATVARANJE MODALA, NAMENJENOG ZA POST REQUEST

const buttonOther = document.querySelector('.plusButtonOther');

const openCreatingPostModal = ev => {

    // ODMAH CU OVDE POZVATI initializeMedia
    // ******************************************
    initializeMedia();
    // ******************************************

    const elem = document.querySelector('div#create-post');
    elem.classList.remove('closeP');
    elem.classList.add('openP');
};

const closeCreatingPostModal = ev => {
    const elem = document.querySelector('div#create-post');

    elem.classList.remove('openP');
    elem.classList.add('closeP');

}

buttonOther.addEventListener('click', openCreatingPostModal)

buttonClose.addEventListener('click', closeCreatingPostModal);

```

## STA CU USTVAR IDEFINISATI U OBIMU initializeMedia FUNKCIJE

DAKLE ZELIM DA INICIJALIZUJEM KAMERU ILI IMAGE PICKER U ZAVISNOSTI OD TOGA, KOJE FEATURE, GIVEN DEVICE USTVARI DEVICE PODRZAVA

ALI ZELIM OVO DA URADIM NA 'PROGRESSIVE WAY'

SECAM SE IZRAZA PROGRESSIVE ENHNCEMENT, GDE SE DEFINISNISE PRVO ZA SLUCAJ DA SU FEATURE UNSUPPORTED, PA SE ONDA TO MOZE PROGRESSIVNO NADOGRADITI, MOGU SE DODATI POLYFILLOVI, TAK ODA RADI NA STO JE VECE MBROJU UREDJAJA A NA ONIM UREDJAJIMA KOJI IMAJ UFULL SUPPORT SVE CE RADIITI OFF THE BAT

## U SLEDECEM md FAJLU CU DEFINISATI CODE initializeMedia FUNKCIJE, U KOJOJ CU, IZMEDJU OSTALOG, DEFINISATI I SVE MOGUCE POLYFILL-OVE, TAK ODA OBUHVATIM NAJVECI BROJ UREDJAJA
