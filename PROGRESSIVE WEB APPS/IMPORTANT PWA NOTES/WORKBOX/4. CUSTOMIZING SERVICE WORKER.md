# CUSTOMIZING SERVICE WORKER

PRVO DA KAZEM NESTO

STA SE USTVARI OVDE PODRAZUMEVA POD ROUTINGOM?

PA ONAJ DINAMICKI CASHING

- NETWORK REQUEST-OVI IZ MOG CODE-A, KOJI SU EVENT BASED (ODNOSNO TRIGGER-UJU SE KAO POSLEDICA NEKOG EVENTA)

- ILI PROSTO NETWORK REQUEST INICIJALIZOVAN IZ MOG CODBASE-A

- ZATIM FONTOVI IZ CSS

- TU JE MOGUCE DA BUDE I NA PRIMER background-image (I TU MOZE BITI NETWORK REQUEST POSLAT IZ CSS-A, POPUT POMENUTOG FONT SLUCAJA)

RANIJE SAM TO DEFINISAO KROZ ON fetch HANDLER

**SECAS SE I STRATEGIJE KOJE SI KORISTIO ZA NEKE URL-OVE**

ZAHTECV DATBASE-U JE BIO UPRAVO TAKAV GDE SAM POSTOVAO PRINCIP

- PRVO FETCH-UJ PA CACHE-IRAJ, PA OPET FETCH-UJ SA NETWORKA

- SERVIRAJ SA NETWORKA AKO IMA NETWORK-A

- A KAO FALLBACK AKO NEMA NETWORK-A, SERVIRAJ IZ CACHE-A

(**PRINCIP SE ZAVAIO `CACHE THEN NETWORK`**)

## DA BIH DEFINISAO NESTO TAKVO, MENI CE TREBATI DRUGACIJA POSTAVKA OD ONE KOJU IMAM SADA, I PRI KOJOJ GENERISEM UVEK NOVI SERVICE WORKER FAJL, KOJIM SE OVERWRITE-UJE PREDHODNI

TO KAZEM JER JA ZELIM DA SADA PISEM U SERVICE WORKER FAJLU

JER VISE NIJE DOVOLJNO PODESAVANJE KONFIGURACIJE

workbox.config.js

```javascript
module.exports = {
  "globDirectory": "public/",
  "globPatterns": [
    "**/*.{html,json,css,js}",
    "src/images/*.{png, jpg}"
  ],
  "swDest": "public/service-worker.js",
  "globIgnores": ["help/**"]
};
```

**DOBRO JE DA IMAM GORE PRIKAZANU KONFIGURACIJU, JER USKORO KADA POKRENEM JEDAN DRUGI WIZARD NECU JE IMATI, JER CU KREIRATI NOVU, SA ISTIM IMENOM (A ONO GORE STO SAM DO SADA DEFINISAO U KONFIGURACIJI, USTVARI CU SAMO PREKOPIRATI U NOVU)**

USTVARI ZELIM DA SVE OBRISEM PREDHODNO IZ STO SE TICALO MOG SERVICE WORKER-A

DAKLE U KONFIGURACIJSKOM FAJLU NE MOGU DEFINISATI ROUTING SA SPECIFICNIM CACHE STRATEGIJAMA

ZATO M ITREBA MOGUCNOST DA PISEM U SERVICE WORKER FAJLU FJALU, A DA PRI TOME IMAM I PRECACHED VREDNOSTI

## OBRISCU NAMERNO SVE STO IMAM OD KONFIGURACIJSKIH FAJLOVA I OD SERVICE WORKER-A, KOJE SAM GENERISAO SA workbox generateSW (ODNOSNO UZ POMOC KOMPOSED SCRIPTA generate-sw)

## :eight::eight::eight::eight: ONO STO POKRECEM SADA JESTE OPET WIZARD A KOJ ISE TICE INJECTIONA-A MANIFESTA (OPET NAPOMINJEM DA GOVORIM O MANIFESTU, KOJI JE NIZ SVIH NABROJANIH STATICKIH ASSET-OVA) (OVO GOVORIM DA NE MESAM OVO SA PWA MANIFESTOM) :eight::eight::eight::eight: