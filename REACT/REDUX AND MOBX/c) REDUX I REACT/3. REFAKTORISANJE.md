# REFAKTORISANJE

OVO CE BITI REFAKTORISANJE, KOJE CU SPROVESTI U NEKOLIKO NIVOA, KAK OBI MOZDA I BOLJE SHVATIO REDUX

**DAKLE STVARI BI SE MOGLE REFAKTORISATI DODATNO, IAKO MI JE NIVO OF ABSTRACTION VEC OVERWHELMING**

ALI HAJDE DA NASTAVIM

ZA SADA IMAM OVAKVU SITUACIJU

OBJASNICU SEBI NEKE STVARI SA NEKOLIKO KOMENTARA OVDE

```javascript
import React, { Component } from 'react';
import { render } from 'react-dom';

import './styles.scss';

import { createStore } from 'redux';
import { connect, Provider } from 'react-redux';

//

const initialState = { count: 0 };

const INCREMENT = 'INCREMENT'; // OVE KONSTANTE SU DEKLARISANE ZATO STO ZELIM REFERENCE (DA BIH SMANJIO PROSTOR ZA GRESKU)

const DECREMENT = 'DECREMENT';

/////////////////////// OVDE IMAM REDUCER-A, KOJEG SAM PROSLEDIO STORE-U PRILIKOM
///////////////////////  KREIRANJA TOG STORE-A

const reducer = (state = initialState, action) => {
  // OD RANIJE ZNAM DA U OBIMU OVE FUNKCIJE IMAM PRISTUP I CURRENT STATE-U
  // I IMAM PRISTUP ACTION-U KOJI BI BI BIO DISPATCHED

  if (action.type === INCREMENT) {
    return { count: state.count + 1 };
  }

  if (action.type === DECREMENT) {
    return { count: state.count - 1 };
  }

  return state;
};

const store = createStore(reducer);

///////////////////////////////////////////////////////////////////////////////

// EVO IH ACTION CREATORS (IMAM DVA ACTION-A (DVA ACTION OBJEKTA), KOJE ONI MOGU KREIRATI)

const incrementValue = () => ({ type: INCREMENT });

const decrementValue = () => ({ type: DECREMENT });

class Counter extends Component {
  render() {
    const { count, increment, decrement } = this.props;

    console.log({ count, increment, decrement });

    return (
      <main className="Counter">
        <p className="count">{count}</p>
        <section className="controls">
          <button onClick={increment}>Increment</button>
          <button onClick={decrement}>Decrement</button>
          <button>Reset</button>
        </section>
      </main>
    );
  }
}

const mapStateToProps = state => {
  return state;
};

const mapDispatchToProps = dispatch => ({
  increment() {
    dispatch(incrementValue());
  },

  decrement() {
    dispatch(decrementValue());
  },
});

const CounterContainer = connect(mapStateToProps, mapDispatchToProps)(Counter);

render(
  <Provider store={store}>
    <CounterContainer />
  </Provider>,
  document.getElementById('root'),
);
```

## :one: bindActionCreators SE MOZE IMPLEMENTIRATI

O OVOME SAM VEC GOVORIO, A ONO STA ZELIM DA UPOTREBIM, POMENUTO KAKO NE BIH MORAO PISATI VECI BROJ FUNKCIJA JESTE mapDispatchToProps

U SUSTINI bindActionCreator
