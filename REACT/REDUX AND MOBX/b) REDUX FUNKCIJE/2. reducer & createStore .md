# reducer I createStore

---

digresija:

DA PROBAS SVE FUNKCIJE REDUX, MOZES OTICI U [JS BIN]

ZATIM INSERTUJ CDN SCRIPT (PRONADJI GA NEGDE) REDUX-A I ONDA INSERT-UJ TAJ SCRIPT TAMO

FUNKCIJE CE BITI U GLOBALNOM Redux OBJEKTU

```javascript
const {
  compose,
  createStore,
  combineReducers,
  bindActionCreators,
  applyMiddleware
} = Redux;
```

---

## STA JE Store

**PA STORE PREDSTAVLJA MOGUCNOST, KAKAO SE EFEKTIVNO MANAGE-UJE STATE, NASE APLIKACIJE**

DAKLE S JEDNE STRANE JE CURRENT STATE OF THE WORLD A SA DRUGE MOGUCNOST DISPATCHING-A ACTIONS-A ZA MENJANJE TOG STATE-A

## createStore

POMENUTA FUNKCIJA ZAHTEVA JEDAN ARGUMENT I TO JE FUNKCIJA, I TO **reducer** FUNKCIJA

## reducer FUNKCIJA BI TREBALA DA UZIMA DVA ARGUMENTA

:one: CURRENT STATE OF THE WORLD

:two:THING THAT HAPPENED (PREDPOSTAVLJAM DA SE OVDE MISLI NA ACTIIO)

**A TREBALA BI DA SPIT-UJE OUT _NOVI_ STATE OF THE WORLD**

## DA NAPRAVIM SADA JEDAN REDUCER

```javascript
const reducer = (state, action) => {
  // ZA POCETAK CU SAMO RETURN-OVATI CURRET STATE

  return state;
};
```

## SADA MOZES DA POMENUTI REDICER PROSLEDIS POZIVANJE createStore()

```javascript
const store = createStore(reducer);
```

## POGLEDAJ KLJUCEVE POMENUTOG OBJEKTA

```javascript
console.log(Objact.keys(store));
```

ONO STO CES VIDETI JESTE

```javascript
["dispatch", "subscribe", "getState", "replaceReducer"];
```

HAJDE SADA DA POSMATRAM POMENUTE 4 FUNKCIJE

### replaceReducer

PRILICNO SELF EXPLANATORI

POMEUTA FUNKCIJI SE DAJE NOVI REDUCER I ONA REPLACE-UJE POSTOJECEG (PRILICNO STRAIGHT FORWARD) (AUTOR WORKSHOPA KAZE DA JE OVA FUNKCIJA SUPER USEFUL ZA CODE SPLITTING) (AKO KORINIK, MOZDA NIGATE-UJE TO ANOTHER PAGE, TI MOZES NA PRIMER RPLACEOVATI REDUCER-A)

### dispatch CE BITI VEOMA IMPORTANT

REKAO SAM RANIJE DA SE DISPATCH-UJU ACTION-I, KAKO BI PROMENILI STATE

### getState

JOS JEDNA OD METODA KOJA JE SELF EXPLANATORY

DAKEL DAJE CURRENT STATE OF THE WORLD

### subscribe

ONA FIRE-UJE EVENT, EVERY TIME KADA SE PROMENI STATE OF THE WORLD

**ZASTO JE OVO KORISNO?**

ZAMISLI DA PRVIS CLIENT SIDE APP U REACT-U, I ZELIS DA SE SVAKI PUT KADA SE STORE PROMENIM, DA SE UPDATE-UJE UI, TVOJE REACR APPLIKACIJE

E PA subscribe IZGLEDA KAO GREAT WAY, DA SE TO URADI

POSTOJI LIBRARY REACT REDUX, KOJA SVE TO HANDLE-UJE ZA TEBE; ALI DOBRO JE DA VIDIS OVO, KAKO BI SAZNAO DA OVO NIJE SORCERY

DAKLE U PITANJI JE PURE REGULAR OLD JAVASCRIPT

## EVO ZADAJ NEKI PROPERTI U CURRENT STATE-U

```javascript
// USTVARI MOZES DA ZADAS DEFAULT VREDNOST, OVOJ REDUCER FUNKCIJI
// ZATO STO NEMAS SADA NEKI STATE OBJEKAT, JER NEMAS SVOJ APP

const reducer = (state = { value: 1 }, action) => {
  return state;
};

const store = createStore(reducer);

// GETTUJE SADA STATE DA VIDIS KAKO IZGLEDA

console.log(store.getState());
```

VIDECES OVO U KONZOLI

```javascript
[object Object] {
  value: 1
}
```

DAKLE DOBI OSAM OBJEKAT, SA ONIM value-OM

_TEORETSKI BI OVO BIOLI PROPS KOJE PASS-UJEM TO ALL COMPONENTS REACT APPLIKACIJE_

I ONDA REACT DOES IT'S THING

NEMA SETTING STATE-A, JER SE SAV STATE HOLD-UJE U REDUX-U I PASS-UJE SE THROUGH
