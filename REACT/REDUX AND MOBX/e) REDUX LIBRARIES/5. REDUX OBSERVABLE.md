# REDUX OBSERVABLE

REDUX OBSERVABLE EFEKTIVNO **BIND-UJE REDUX TO *RxJS*** ISTIM NACINON, KAO STO REACT-REDUX BIND-UJE REDUX TO REACT

OVDE CU GOVORITI SAO O TOLIKO DOVOLJNO RxJS DA BI NAUCIO DOVOLJNO DA BI ODRADIO NEKE STVARI, ALI NECU PRETERANO ULAZITI DEEP INTO IT

## STA JE OBSERVABLE?

O NJEMU MOGU RAZMISLAJATI, KAO O STREAM-U (STREAM OF ZERO, ONE ILI MORE VREDNOSTI)

**TREBAM RAZMISLJATI O ARRY-U U ZAVISNOTI OD DIMENZIJE VREMENA**

NA PRIMER TU MOGU POSMATRATI: 'WHEN WE HEAR BACK FROM THE API', ILI 'MOUSE MOVMENTS', ILI 'STUFF KOJI DOLAZI OD THROUGH WEBSOCKET'

SVE STO SE DOGADJA OVER TIME, JE DOBAR KANDIDAT ZA OBSERVABLE

DOBRA STVAR U VEZI TO STREAM-A JESTE STO JE ON CANCELABLE

MOZAES LISTEN-OVATI NA SERIJU EVENT-OVA, ALI I KAO EVENT EMITTER, MOZES PRESTATI SA LISTENING-OM KDA SI ZAVRSIO

## STA JE REDUX OBSERVABLE?

KOMBINACIJA RxJS I REDUX-A

KORISTI SIDE EFFECT MANGEMENT, UZ KORISCENJE NEKISH STVARI, U STVARI IDEJE KOJA SE ZOVE 'epics'

## STA JE TO epic?

to je funkcija:

- KOJA UZIMA STREAM SVIH DISPATCHED ACTION-A
- A RETURNUJE NOVI STREAM ACTIONA FOR DISOPATCHING

BIZARNO JE SIMPLE ALI AKO POGLEDAS CODE, NECE BAS IZGLEDATI DA JE TAKO SIMPLE, JER KOMPLETNOST CODE-A JESTE KOMPLEKSONST RXJS-A, U KOJE NEMAM VREMENA DUBOKO DA ULAZIM

## DRUGI NACIN DA O TOME RAZMISLJAM JE PRIKAZAN U SLAJDOVIM

- IMAM JEDAN REDUX ACTION I ON IDE INTO THE EPIC

- DRUGI ACTION JE SPITTED OUT NA DRUGOM KRAJU EPIC-A

OVO JE CUDNOVATO, KAK OJE OVO GREAT

KADA NA PRIMER KORISNIK KLIKNE NA DUGME `load the posts`, TO CE FIRE-OVATI ACTION KOJI GOVORI 'LOAD_THE_POSTS', SA CIM REDUX MOZE DEAL-OVATI (MOZERS OKACITI NEKI LOADING THING)

SVE IDE KROZ NORMAL FLOW, I ONDA EPIC KAZE

- NAPRAVICU AJAX REQUEST

- GET-OVACU STVARI

- FIURE-OVACU OUT OTHER STUFF

- I ONDA CU FIRE-OVATI NOVI ACTION ,TAK OSTO CU UZETI 'READ_THE_POSTS' ACTION, ODRADICE NEKE STVARI, I TRANSFORMISACE TO U NEKI NOVI ACTION, KOJI IMA SOME POSTS

*CEO TVOJ REDUX OSTAJE KOMPLETNO UNAWARE*, TVOJ REACT I TVOJ DISPATCH DISPATCHUJU NORMALNE REDUX ACTION-E, KOJE IDU KROZ NORMALNI FLOW

TVOJ CEO REACT REDUX APPLICATION, NE DELU-UJE SA ANY OF THESE STUFF, JER EPIC JE TU KOJI QUIETLY LISTEN, NA SVE ACTION-E THAT FLOWS THROUGH, I TU NA SCENU STUPA OBSERVABLE, ZA SVE ACTON'E KOJE FLOW-UJU THROUGH THE SYSTEM, I OCASIONALLY CE RECI 'I CARE ABOUT THAT ONE, LET ME MAKE AN AJAX REQUEST I TRANSFORMISACU TO U NOVI ACTION'

## TREBA IMATI NA UMO DA ACTIONI IDU KROZ SVOJ NORMALNI PUT

SVE IDE U U ALL OF THE REDUCERS

REDUCERI MOGU DA BIRAJU DA NE SLUSAJU NA TO

A MIDDLEWARE SITS OUTSIDE OF YOUR NORMAL FLOW I SAMO SLUSA NA EVERY ACTION, KOJI COMES THROUGH, I AK OJE TU ACTION ZA KOJI SI TI ODLUCIO DA CRE-UJES ABOUT, IT PAYS ATTENTIO NTO IT, TRANSFORMISE GA , I ODRADJUJE NEXT THING

## EVO GA NEKI DEFAULT REDUX OBSERVABLE EXAMPLE

```javascript
// OVO NIJE REDUCER NEGO REGULAR JAVASCRIPT
const pingPong = (action, store) => {
  if(action.type === 'PING'){
    return {
      type: 'PONG'
    }
  }
}
```

## EVO OVAKO IZGLEDA EPIC

```javascript
// DOLLAR SIGN SAMO PREDSTAVLJA S KAO MNOZINU A TU JE SAM ODA BI BILO OCITO DA JE REC O OBSERVABLE-U, PRILIKOM CITANJA CODE-A

const pingPongEpic = (action$, store) => 
  action$.ofType('PING')
    .map(action => ({type: 'PONG'}))
```

>> For every action that comes in, all of them, if it's an action of the type'PING';  map it in the same way you would map over an array, because again, an Observable is an array over the dimension of time. Everything that comes in if it have the type 'PING' map it to 'PONG'


