# STATE STORE SELECTOR, UZ KORISCENJE Reselect LIBRARY-JA

***

digresija:

MOZES DA UMESTO KANBAN PROJEKTA, KOJI JE DEFINISAO AUTOR WORKSHOP-A, TI USTVARI KORISTIS TVOJ PROJEKAT, KOJI SI URADIO PO UZORU NA POMENUTI PROJEKAT; KAKO BI LAKSE SHVATIO SVE OVO

[MOJ KANBAN PROJEKAT 6. BRANCH](https://github.com/Rade58/kanban_redux_lodash_helpers/tree/6_refactoring_actions)

POSTOJE ODREDJENE RAZLIke IZMEDJU MOG PROJEKTA I KINNEY-JEVOG PROJEKTA (U SUSTINI JA SAM U BRANCH-U SEDAM TO ISPRAVIO, KAKO BI S USKLADIO SA NJEGOVIM PROJEKTOM, U SUSTINI NEMA I VELIKIH RAZLIKA)

**USTVARI JA CU U SEDMOM BRANCHU, SVE POKUSATI, DA KREIRAM ONO RELEVANTNO ZA OVU LEKCIJU**

ZATO IPAK POGLEDAJ [SEDMI BRANCH](https://github.com/Rade58/kanban_redux_lodash_helpers/tree/7_reselect)

***

## PRVO DA PREDSTAVIM PROBLEM

SECAS SE KADA SI U KANBAN PROJEKTU IMPLEMENTIRAO SVE STO IMA VEZE SA MOVINGOM CARD-A IZ JEDNE LISTE U DRUGU

EVO OSTAVICU TI OVDE SAMO MoveCardContainer.js CODE

```javascript
//      
import {connect} from 'react-redux'
import MoveCard from '../components/MoveCard'
import {moveCard} from '../actions/card-actions'

// SVAKI Card DAKLE IMA KOMPONENTU MoveCardContainer KOJA JE DEFAULT EXPORT OVDE
// 

// MoveCard JE KOMPONENTA KOJA U SVOJ select ELEMENT TREBA DA RENDERUJE title-OVE SVAKE LISTE KAO OPCIJE (NARAVNO UZ RELATED id LISTE)
// JER CE KORINK CE BIRATI IME ;ISTE U KOJU ZELI DA PREMESTI CARD

const mapStateToProps = (state, ownProps) => {

  const {lists} = state

  // U SUSTINI ZELI MOVDE ARRAY
  const listsArray = Object.values(lists.entities)
  // AND I WANT TO PASS THAT ARRAY AND USE STUFF FROM HIM INSIDE MoveCard

  // JA SAM NA PRVU, KREIRAO MALO DRUGACIJU SITUACIJU U MOM PROJEKTU, JER JA SAM KOMPONENTI SAMO PROSLEDJIVAO
  // NIZ OBJEKATA, OD KOJIH SVAKI IMA SAMO title I id JER TO JE ONO STO CE SE SAMO ISKORISTITI U MoveCard KOMPONENTI

  // ALI NEMA VEZE MOZE I OVAKO

  // **** TAKODJE NE VIDIM DA JE AUTOR WORKSHOP-A PROSLEDIO cardId ILI listId

  // **** ON IH JE USTVARI PROSLEDJIVAO KROZ mapDispatchToProps (KORISTIO JE    ownProps   TE FUNKCIJE )
  
  // NE VIDIM DA SU TO NEKE BITNE RAZLIKE (MOZDA I JESU, JER listId, I cardId TREBAJU DA SE URADI ACTION, PA SU ZATO UPOTREBLJENE KROZ
  // mapDispatchToProps)


  const {cardId, listId} = ownProps

  return {lists: listsArray, listId, cardId}

}


const mapDispatchToProps = {
  moveCard
}


export default connect(mapStateToProps, mapDispatchToProps)(MoveCard)
```

**U SUSTINI STA BI OVDE BIO PROBLEM**?

*PA SVAKI PUT PRI RERENDERU, OVAJ GORE `listsArray` BI SE PRAVIO* (MOGAO SI UmapStateToProps DA DEFINISES console.log() PA DA VIDIS U KONZOLI KOLIKO PUTA CE DA SE POZOVE mapStateTProps)

ZA SVAKU KARTICU BI SE ON PRAVIO I PROSLEDJIVAO

**TO SADA NE IZGLEDA OZBILJNO KADA IMAS OVAKO MALO LISTA, ALI ZAMISLI DA IH IMAS 10, I DA IMA S NA PRIMER 50 KARTICA**

***

:one: PRI INICIJALNOM RENDERINGU mapStateToProps FUNKCIJA CE SE ZVATI TOLIKO PUTA KOLIKO IMA CARD-OVA 

:two: PRI SVAKOM SVAKOM MOVE-U CARD-A FROM ONE LIST TO ANOTHER, POMENUTA FUNKCIJA CE SE ZVATI ONOLIKO PUTA KOLIKO IMA CARD-OVA

ZASTO, AP ZATO STO SE KOMPONENTA NAKLAAAZI U SVAKOM Card-U

***
